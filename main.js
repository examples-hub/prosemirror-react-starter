/*! For license information please see main.js.LICENSE.txt */
!function(){var e={509:function(e){e.exports={prettyPrint:function(e,t){var n,r,i,o,l,s;for(r=(t=t||{}).indent_size||4,i=t.indent_char||" ",l=t.brace_style||"collapse",o=0==t.max_char?1/0:t.max_char||70,s=t.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"],n=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}},this.get_content=function(){for(var e="",t=[],n=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(e=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(e,this.Utils.whitespace))t.length&&(n=!0),this.line_char_count--;else{if(n){if(this.line_char_count>=this.max_char){t.push("\n");for(var r=0;r<this.indent_level;r++)t.push(this.indent_string);this.line_char_count=0}else t.push(" "),this.line_char_count++;n=!1}t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos==this.input.length)return["","TK_EOF"];var t="",n=new RegExp("</"+e+"\\s*>","igm");n.lastIndex=this.pos;var r=n.exec(this.input),i=r?r.index:this.input.length;return this.pos<i&&(t=this.input.substring(this.pos,i),this.pos=i),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1==this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.get_tag=function(){var e,t,n="",r=[],i=!1;do{if(this.pos>=this.input.length)return r.length?r.join(""):["","TK_EOF"];n=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(n,this.Utils.whitespace)?(i=!0,this.line_char_count--):("'"!==n&&'"'!==n||r[1]&&"!"===r[1]||(n+=this.get_unformatted(n),i=!0),"="===n&&(i=!1),r.length&&"="!==r[r.length-1]&&">"!==n&&i&&(this.line_char_count>=this.max_char?(this.print_newline(!1,r),this.line_char_count=0):(r.push(" "),this.line_char_count++),i=!1),"<"===n&&(e=this.pos-1),r.push(n))}while(">"!==n);var o,l=r.join("");o=-1!=l.indexOf(" ")?l.indexOf(" "):l.indexOf(">");var a=l.substring(1,o).toLowerCase();if("/"===l.charAt(l.length-2)||this.Utils.in_array(a,this.Utils.single_token))this.tag_type="SINGLE";else if("script"===a)this.record_tag(a),this.tag_type="SCRIPT";else if("style"===a)this.record_tag(a),this.tag_type="STYLE";else if(this.Utils.in_array(a,s)){var c=this.get_unformatted("</"+a+">",l);r.push(c),e>0&&this.Utils.in_array(this.input.charAt(e-1),this.Utils.whitespace)&&r.splice(0,0,this.input.charAt(e-1)),t=this.pos-1,this.Utils.in_array(this.input.charAt(t+1),this.Utils.whitespace)&&r.push(this.input.charAt(t+1)),this.tag_type="SINGLE"}else"!"===a.charAt(0)?-1!=a.indexOf("[if")?(-1!=l.indexOf("!IE")&&(c=this.get_unformatted("--\x3e",l),r.push(c)),this.tag_type="START"):-1!=a.indexOf("[endif")?(this.tag_type="END",this.unindent()):-1!=a.indexOf("[cdata[")?(c=this.get_unformatted("]]>",l),r.push(c),this.tag_type="SINGLE"):(c=this.get_unformatted("--\x3e",l),r.push(c),this.tag_type="SINGLE"):("/"===a.charAt(0)?(this.retrieve_tag(a.substring(1)),this.tag_type="END"):(this.record_tag(a),this.tag_type="START"),this.Utils.in_array(a,this.Utils.extra_liners)&&this.print_newline(!0,this.output));return r.join("")},this.get_unformatted=function(e,t){if(t&&-1!=t.toLowerCase().indexOf(e))return"";var n="",r="",i=!0;do{if(this.pos>=this.input.length)return r;if(n=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(n,this.Utils.whitespace)){if(!i){this.line_char_count--;continue}if("\n"===n||"\r"===n){r+="\n",this.line_char_count=0;continue}}r+=n,this.line_char_count++,i=!0}while(-1==r.toLowerCase().indexOf(e));return r},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.printer=function(e,t,n,r,i){this.input=e||"",this.output=[],this.indent_character=t,this.indent_string="",this.indent_size=n,this.brace_style=i,this.indent_level=0,this.max_char=r,this.line_char_count=0;for(var o=0;o<this.indent_size;o++)this.indent_string+=this.indent_character;this.print_newline=function(e,t){if(this.line_char_count=0,t&&t.length){if(!e)for(;this.Utils.in_array(t[t.length-1],this.Utils.whitespace);)t.pop();t.push("\n");for(var n=0;n<this.indent_level;n++)t.push(this.indent_string)}},this.print_token=function(e){this.output.push(e)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this},n.printer(e,i,r,o,l);;){var a=n.get_token();if(n.token_text=a[0],n.token_type=a[1],"TK_EOF"===n.token_type)break;switch(n.token_type){case"TK_TAG_START":n.print_newline(!1,n.output),n.print_token(n.token_text),n.indent(),n.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===n.last_token&&""===n.last_text){var c=n.token_text.match(/\w+/)[0],u=n.output[n.output.length-1].match(/<\s*(\w+)/);null!==u&&u[1]===c||n.print_newline(!0,n.output)}n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var f=n.token_text.match(/^\s*<([a-z]+)/i);f&&n.Utils.in_array(f[1],s)||n.print_newline(!1,n.output),n.print_token(n.token_text),n.current_mode="CONTENT";break;case"TK_CONTENT":""!==n.token_text&&n.print_token(n.token_text),n.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==n.token_text){n.output.push("\n");var d=n.token_text;if("TK_SCRIPT"==n.token_type)var h="function"==typeof js_beautify&&js_beautify;else"TK_STYLE"==n.token_type&&(h="function"==typeof css_beautify&&css_beautify);if("keep"==t.indent_scripts)var p=0;else p="separate"==t.indent_scripts?-n.indent_level:1;var m=n.get_full_indent(p);if(h)d=h(d.replace(/^\s*/,m),t);else{var g=d.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(n.indent_string).length-1,v=n.get_full_indent(p-g);d=d.replace(/^\s*/,m).replace(/\r\n|\r|\n/g,"\n"+v).replace(/\s*$/,"")}d&&(n.print_token(d),n.print_newline(!0,n.output))}n.current_mode="TAG"}n.last_token=n.token_type,n.last_text=n.token_text}return n.output.join("")}}},799:function(e,t,n){"use strict";var r=n(526),i=n(851);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,s={};function a(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)l.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,i,o,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),O=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var z,I=Object.assign;function j(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(1!==l||1!==s)do{if(l--,0>--s||i[l]!==o[s]){var a="\n"+i[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}}while(1<=l&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function L(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return B(e.type,!1);case 11:return B(e.type.render,!1);case 1:return B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case $:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case N:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(e){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function oe(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,fe=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ce=null;function $e(e){if(e=bi(e)){if("function"!=typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),ke(e.stateNode,e.type,t))}}function Ee(e){Se?Ce?Ce.push(e):Ce=[e]:Se=e}function Oe(){if(Se){var e=Se,t=Ce;if(Ce=Se=null,$e(e),t)for(e=0;e<t.length;e++)$e(t[e])}}function _e(e,t){return e(t)}function Me(){}var Ne=!1;function Te(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return _e(e,t,n)}finally{Ne=!1,(null!==Se||null!==Ce)&&(Me(),Oe())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Re=!1}function Pe(e,t,n,r,i,o,l,s,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var ze=!1,Ie=null,je=!1,Fe=null,Be={onError:function(e){ze=!0,Ie=e}};function Le(e,t,n,r,i,o,l,s,a){ze=!1,Ie=null,Pe.apply(Be,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ue(e){if(qe(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var l=i.alternate;if(null===l){if(null!==(r=i.return)){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Ue(i),e;if(l===r)return Ue(i),t;l=l.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=l;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=l;break}if(a===r){s=!0,r=i,n=l;break}a=a.sibling}if(!s){for(a=l.child;a;){if(a===n){s=!0,n=l,r=i;break}if(a===r){s=!0,r=l,n=i;break}a=a.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Je=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,lt=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(st(e)/at|0)|0},st=Math.log,at=Math.LN2,ct=64,ut=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=268435455&n;if(0!==l){var s=l&~i;0!==s?r=ft(s):0!=(o&=l)&&(r=ft(o))}else 0!=(l=n&~i)?r=ft(l):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-lt(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0==(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var xt,kt,St,Ct,$t,Et=!1,Ot=[],_t=null,Mt=null,Nt=null,Tt=new Map,Dt=new Map,Rt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function zt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=bi(t))&&kt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function It(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void $t(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Bt(){Et=!1,null!==_t&&jt(_t)&&(_t=null),null!==Mt&&jt(Mt)&&(Mt=null),null!==Nt&&jt(Nt)&&(Nt=null),Tt.forEach(Ft),Dt.forEach(Ft)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return Lt(t,e)}if(0<Ot.length){Lt(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Lt(_t,e),null!==Mt&&Lt(Mt,e),null!==Nt&&Lt(Nt,e),Tt.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)It(n),null===n.blockedOn&&Rt.shift()}var Vt=w.ReactCurrentBatchConfig,Ut=!0;function Ht(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Jt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Jt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Jt(e,t,n,r){if(Ut){var i=Qt(e,t,n,r);if(null===i)Ur(e,t,r,Kt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=zt(_t,e,t,n,r,i),!0;case"dragenter":return Mt=zt(Mt,e,t,n,r,i),!0;case"mouseover":return Nt=zt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Tt.set(o,zt(Tt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dt.set(o,zt(Dt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Qt(e,t,n,r))&&Ur(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=yi(e=xe(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(i):i[l]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var ln,sn,an,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),fn=I({},cn,{view:0,detail:0}),dn=on(fn),hn=I({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(ln=e.screenX-an.screenX,sn=e.screenY-an.screenY):sn=ln=0,an=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),mn=on(I({},hn,{dataTransfer:0})),gn=on(I({},fn,{relatedTarget:0})),vn=on(I({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=I({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(I({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function $n(){return Cn}var En=I({},fn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=on(En),_n=on(I({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=on(I({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$n})),Nn=on(I({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=I({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(Tn),Rn=[9,13,27,32],An=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var zn=u&&"TextEvent"in window&&!Pn,In=u&&(!An||Pn&&8<Pn&&11>=Pn),jn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Jn=null;function Kn(e){jr(e,0)}function Qn(e){if(J(wi(e)))return e}function Gn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Jn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Jn)){var t=[];Hn(t,Jn,e,xe(e)),Te(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Jn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Jn)}function or(e,t){if("click"===e)return Qn(t)}function lr(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ar(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var l=ur(n,r);i&&l&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||(r="selectionStart"in(r=gr)&&hr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ar(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Cr={};function $r(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Sr[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Er=$r("animationend"),Or=$r("animationiteration"),_r=$r("animationstart"),Mr=$r("transitionend"),Nr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),a(t,[e])}for(var Rr=0;Rr<Tr.length;Rr++){var Ar=Tr[Rr];Dr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Or,"onAnimationIteration"),Dr(_r,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Mr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,l,s,a,c){if(Le.apply(this,arguments),ze){if(!ze)throw Error(o(198));var u=Ie;ze=!1,Ie=null,je||(je=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,c=s.currentTarget;if(s=s.listener,a!==o&&i.isPropagationStopped())break e;Ir(i,s,c),o=a}else for(l=0;l<r.length;l++){if(a=(s=r[l]).instance,c=s.currentTarget,s=s.listener,a!==o&&i.isPropagationStopped())break e;Ir(i,s,c),o=a}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Lr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Lr]){e[Lr]=!0,l.forEach((function(t){"selectionchange"!==t&&(zr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Lr]||(t[Lr]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Gt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===l)for(l=r.return;null!==l;){var a=l.tag;if((3===a||4===a)&&((a=l.stateNode.containerInfo)===i||8===a.nodeType&&a.parentNode===i))return;l=l.return}for(;null!==s;){if(null===(l=yi(s)))return;if(5===(a=l.tag)||6===a){r=o=l;continue e}s=s.parentNode}}r=r.return}Te((function(){var r=o,i=xe(n),l=[];e:{var s=Nr.get(e);if(void 0!==s){var a=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":a=On;break;case"focusin":c="focus",a=gn;break;case"focusout":c="blur",a=gn;break;case"beforeblur":case"afterblur":a=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=Mn;break;case Er:case Or:case _r:a=vn;break;case Mr:a=Nn;break;case"scroll":a=dn;break;case"wheel":a=Dn;break;case"copy":case"cut":case"paste":a=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=_n}var u=0!=(4&t),f=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&null!=(m=De(p,d))&&u.push(Hr(p,m,h))),f)break;p=p.return}0<u.length&&(s=new a(s,c,null,n,i),l.push({event:s,listeners:u}))}}if(0==(7&t)){if(a="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(a||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,a?(a=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(a=null,c=r),a!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==a?s:wi(a),h=null==c?s:wi(c),(s=new u(m,p+"leave",a,n,i)).target=f,s.relatedTarget=h,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=h,u.relatedTarget=f,m=u),f=m,a&&c)e:{for(d=c,p=0,h=u=a;h;h=Jr(h))p++;for(h=0,m=d;m;m=Jr(m))h++;for(;0<p-h;)u=Jr(u),p--;for(;0<h-p;)d=Jr(d),h--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Jr(u),d=Jr(d)}u=null}else u=null;null!==a&&Kr(l,s,a,u,!1),null!==c&&null!==f&&Kr(l,f,c,u,!0)}if("select"===(a=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===a&&"file"===s.type)var g=Gn;else if(Un(s))if(Yn)g=lr;else{g=ir;var v=rr}else(a=s.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(l,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Un(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(l,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(l,n,i)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(In&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,qn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),l.push({event:b,listeners:v}),(y||null!==(y=Ln(n)))&&(b.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!An&&Bn(e,t)?(e=en(),Zt=Xt=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),l.push({event:i,listeners:r}),i.data=y)}jr(l,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=De(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=De(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,l=[];null!==n&&n!==r;){var s=n,a=s.alternate,c=s.stateNode;if(null!==a&&a===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(a=De(n,o))&&l.unshift(Hr(n,a,s)):i||null!=(a=De(n,o))&&l.push(Hr(n,a,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Qr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Yr(e){return("string"==typeof e?e:""+e).replace(Qr,"\n").replace(Gr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,li="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,mi="__reactEvents$"+fi,gi="__reactListeners$"+fi,vi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[hi]||null}var ki=[],Si=-1;function Ci(e){return{current:e}}function $i(e){0>Si||(e.current=ki[Si],ki[Si]=null,Si--)}function Ei(e,t){Si++,ki[Si]=e.current,e.current=t}var Oi={},_i=Ci(Oi),Mi=Ci(!1),Ni=Oi;function Ti(e,t){var n=e.type.contextTypes;if(!n)return Oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Di(e){return null!=e.childContextTypes}function Ri(){$i(Mi),$i(_i)}function Ai(e,t,n){if(_i.current!==Oi)throw Error(o(168));Ei(_i,t),Ei(Mi,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return I({},n,r)}function zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,Ni=_i.current,Ei(_i,e),Ei(Mi,Mi.current),!0}function Ii(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Pi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,$i(Mi),$i(_i),Ei(_i,e)):$i(Mi),Ei(Mi,n)}var ji=null,Fi=!1,Bi=!1;function Li(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Fi=!1}catch(t){throw null!==ji&&(ji=ji.slice(e+1)),Je(Ze,qi),t}finally{bt=t,Bi=!1}}return null}var Vi=[],Ui=0,Hi=null,Wi=0,Ji=[],Ki=0,Qi=null,Gi=1,Yi="";function Xi(e,t){Vi[Ui++]=Wi,Vi[Ui++]=Hi,Hi=e,Wi=t}function Zi(e,t,n){Ji[Ki++]=Gi,Ji[Ki++]=Yi,Ji[Ki++]=Qi,Qi=e;var r=Gi;e=Yi;var i=32-lt(r)-1;r&=~(1<<i),n+=1;var o=32-lt(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Gi=1<<32-lt(t)+i|n<<i|r,Yi=o+e}else Gi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=Vi[--Ui],Vi[Ui]=null,Wi=Vi[--Ui],Vi[Ui]=null;for(;e===Qi;)Qi=Ji[--Ki],Ji[Ki]=null,Yi=Ji[--Ki],Ji[Ki]=null,Gi=Ji[--Ki],Ji[Ki]=null}var no=null,ro=null,io=!1,oo=null;function lo(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Gi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function ao(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(ao(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?lo(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(ao(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(ao(e))throw ho(),Error(o(418));for(;t;)lo(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ci(null),bo=null,wo=null,xo=null;function ko(){xo=wo=bo=null}function So(e){var t=yo.current;$i(yo),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $o(e,t){bo=e,xo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Oo=null;function _o(e){null===Oo?Oo=[e]:Oo.push(e)}function Mo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_o(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var To=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&_a)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,_o(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Io(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=l:o=o.next=l,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;To=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var a=s,c=a.next;a.next=null,null===l?o=c:l.next=c,l=a;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==l&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=a)}if(null!==o){var f=i.baseState;for(l=0,u=c=a=null,s=o;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,h=n,m.tag){case 1:if("function"==typeof(p=m.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(h,f,d):p))break e;f=I({},f,d);break e;case 2:To=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,a=f):u=u.next=h,l|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(a=f),i.baseState=a,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{l|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);za|=l,e.lanes=l,e.memoizedState=f}}function Fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Lo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Ao(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=Po(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Ao(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Po(e,o,i))&&(nc(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ao(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Po(e,i,r))&&(nc(t,e,r,n),zo(t,e,r))}};function Vo(e,t,n,r,i,o,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,l):!(t.prototype&&t.prototype.isPureReactComponent&&ar(n,r)&&ar(i,o))}function Uo(e,t,n){var r=!1,i=Oi,o=t.contextType;return"object"==typeof o&&null!==o?o=Eo(o):(i=Di(t)?Ni:_i.current,o=(r=null!=(r=t.contextTypes))?Ti(e,i):Oi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,Do(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Eo(o):(o=Di(t)?Ni:_i.current,i.context=Ti(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Lo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Jo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,l=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Go(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===D&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Jo(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=Jo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=Jo(e,null,t),n.return=e,n;case k:return(t=jc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pc(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case D:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:f(e,t,n,r,null);Ko(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return f(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function m(i,o,s,a){for(var c=null,u=null,f=o,m=o=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=h(i,f,s[m],a);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(i,f),o=l(v,o,m),null===u?c=v:u.sibling=v,u=v,f=g}if(m===s.length)return n(i,f),io&&Xi(i,m),c;if(null===f){for(;m<s.length;m++)null!==(f=d(i,s[m],a))&&(o=l(f,o,m),null===u?c=f:u.sibling=f,u=f);return io&&Xi(i,m),c}for(f=r(i,f);m<s.length;m++)null!==(g=p(f,i,m,s[m],a))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),o=l(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&f.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function g(i,s,a,c){var u=P(a);if("function"!=typeof u)throw Error(o(150));if(null==(a=u.call(a)))throw Error(o(151));for(var f=u=null,m=s,g=s=0,v=null,y=a.next();null!==m&&!y.done;g++,y=a.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=l(b,s,g),null===f?u=b:f.sibling=b,f=b,m=v}if(y.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=a.next())null!==(y=d(i,y.value,c))&&(s=l(y,s,g),null===f?u=y:f.sibling=y,f=y);return io&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=a.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=l(y,s,g),null===f?u=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,l,a){if("object"==typeof l&&null!==l&&l.type===S&&null===l.key&&(l=l.props.children),"object"==typeof l&&null!==l){switch(l.$$typeof){case x:e:{for(var c=l.key,u=o;null!==u;){if(u.key===c){if((c=l.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,l.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===D&&Qo(c)===u.type){n(r,u.sibling),(o=i(u,l.props)).ref=Jo(r,u,l),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}l.type===S?((o=Pc(l.props.children,r.mode,a,l.key)).return=r,r=o):((a=Ac(l.type,l.key,l.props,null,r.mode,a)).ref=Jo(r,o,l),a.return=r,r=a)}return s(r);case k:e:{for(u=l.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===l.containerInfo&&o.stateNode.implementation===l.implementation){n(r,o.sibling),(o=i(o,l.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(l,r.mode,a)).return=r,r=o}return s(r);case D:return e(r,o,(u=l._init)(l._payload),a)}if(te(l))return m(r,o,l,a);if(P(l))return g(r,o,l,a);Ko(r,l)}return"string"==typeof l&&""!==l||"number"==typeof l?(l=""+l,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,l)).return=r,r=o):(n(r,o),(o=Ic(l,r.mode,a)).return=r,r=o),s(r)):n(r,o)}}var Yo=Go(!0),Xo=Go(!1),Zo={},el=Ci(Zo),tl=Ci(Zo),nl=Ci(Zo);function rl(e){if(e===Zo)throw Error(o(174));return e}function il(e,t){switch(Ei(nl,t),Ei(tl,e),Ei(el,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ae(null,"");break;default:t=ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}$i(el),Ei(el,t)}function ol(){$i(el),$i(tl),$i(nl)}function ll(e){rl(nl.current);var t=rl(el.current),n=ae(t,e.type);t!==n&&(Ei(tl,e),Ei(el,n))}function sl(e){tl.current===e&&($i(el),$i(tl))}var al=Ci(0);function cl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=[];function fl(){for(var e=0;e<ul.length;e++)ul[e]._workInProgressVersionPrimary=null;ul.length=0}var dl=w.ReactCurrentDispatcher,hl=w.ReactCurrentBatchConfig,pl=0,ml=null,gl=null,vl=null,yl=!1,bl=!1,wl=0,xl=0;function kl(){throw Error(o(321))}function Sl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Cl(e,t,n,r,i,l){if(pl=l,ml=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dl.current=null===e||null===e.memoizedState?ss:as,e=n(r,i),bl){l=0;do{if(bl=!1,wl=0,25<=l)throw Error(o(301));l+=1,vl=gl=null,t.updateQueue=null,dl.current=cs,e=n(r,i)}while(bl)}if(dl.current=ls,t=null!==gl&&null!==gl.next,pl=0,vl=gl=ml=null,yl=!1,t)throw Error(o(300));return e}function $l(){var e=0!==wl;return wl=0,e}function El(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vl?ml.memoizedState=vl=e:vl=vl.next=e,vl}function Ol(){if(null===gl){var e=ml.alternate;e=null!==e?e.memoizedState:null}else e=gl.next;var t=null===vl?ml.memoizedState:vl.next;if(null!==t)vl=t,gl=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gl=e).memoizedState,baseState:gl.baseState,baseQueue:gl.baseQueue,queue:gl.queue,next:null},null===vl?ml.memoizedState=vl=e:vl=vl.next=e}return vl}function _l(e,t){return"function"==typeof t?t(e):t}function Ml(e){var t=Ol(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gl,i=r.baseQueue,l=n.pending;if(null!==l){if(null!==i){var s=i.next;i.next=l.next,l.next=s}r.baseQueue=i=l,n.pending=null}if(null!==i){l=i.next,r=r.baseState;var a=s=null,c=null,u=l;do{var f=u.lane;if((pl&f)===f)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(a=c=d,s=r):c=c.next=d,ml.lanes|=f,za|=f}u=u.next}while(null!==u&&u!==l);null===c?s=r:c.next=a,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{l=i.lane,ml.lanes|=l,za|=l,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nl(e){var t=Ol(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{l=e(l,s.action),s=s.next}while(s!==i);sr(l,t.memoizedState)||(ws=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Tl(){}function Dl(e,t){var n=ml,r=Ol(),i=t(),l=!sr(r.memoizedState,i);if(l&&(r.memoizedState=i,ws=!0),r=r.queue,Ul(Pl.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==vl&&1&vl.memoizedState.tag){if(n.flags|=2048,Fl(9,Al.bind(null,n,r,i,t),void 0,null),null===Ma)throw Error(o(349));0!=(30&pl)||Rl(n,t,i)}return i}function Rl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ml.updateQueue)?(t={lastEffect:null,stores:null},ml.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Al(e,t,n,r){t.value=n,t.getSnapshot=r,zl(t)&&Il(e)}function Pl(e,t,n){return n((function(){zl(t)&&Il(e)}))}function zl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function Il(e){var t=No(e,1);null!==t&&nc(t,e,1,-1)}function jl(e){var t=El();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ml,e),[t.memoizedState,e]}function Fl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ml.updateQueue)?(t={lastEffect:null,stores:null},ml.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bl(){return Ol().memoizedState}function Ll(e,t,n,r){var i=El();ml.flags|=e,i.memoizedState=Fl(1|t,n,void 0,void 0===r?null:r)}function ql(e,t,n,r){var i=Ol();r=void 0===r?null:r;var o=void 0;if(null!==gl){var l=gl.memoizedState;if(o=l.destroy,null!==r&&Sl(r,l.deps))return void(i.memoizedState=Fl(t,n,o,r))}ml.flags|=e,i.memoizedState=Fl(1|t,n,o,r)}function Vl(e,t){return Ll(8390656,8,e,t)}function Ul(e,t){return ql(2048,8,e,t)}function Hl(e,t){return ql(4,2,e,t)}function Wl(e,t){return ql(4,4,e,t)}function Jl(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Kl(e,t,n){return n=null!=n?n.concat([e]):null,ql(4,4,Jl.bind(null,t,e),n)}function Ql(){}function Gl(e,t){var n=Ol();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yl(e,t){var n=Ol();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xl(e,t,n){return 0==(21&pl)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ml.lanes|=n,za|=n,e.baseState=!0),t)}function Zl(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=hl.transition;hl.transition={};try{e(!1),t()}finally{bt=n,hl.transition=r}}function es(){return Ol().memoizedState}function ts(e,t,n){var r=tc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e)?is(t,n):null!==(n=Mo(e,t,n,r))&&(nc(n,e,r,ec()),os(n,t,r))}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,l)){var a=t.interleaved;return null===a?(i.next=i,_o(t)):(i.next=a.next,a.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Mo(e,t,i,r))&&(nc(n,e,r,i=ec()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ml||null!==t&&t===ml}function is(e,t){bl=yl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ls={readContext:Eo,useCallback:kl,useContext:kl,useEffect:kl,useImperativeHandle:kl,useInsertionEffect:kl,useLayoutEffect:kl,useMemo:kl,useReducer:kl,useRef:kl,useState:kl,useDebugValue:kl,useDeferredValue:kl,useTransition:kl,useMutableSource:kl,useSyncExternalStore:kl,useId:kl,unstable_isNewReconciler:!1},ss={readContext:Eo,useCallback:function(e,t){return El().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Vl,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ll(4194308,4,Jl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ll(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ll(4,2,e,t)},useMemo:function(e,t){var n=El();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=El();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ml,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},El().memoizedState=e},useState:jl,useDebugValue:Ql,useDeferredValue:function(e){return El().memoizedState=e},useTransition:function(){var e=jl(!1),t=e[0];return e=Zl.bind(null,e[1]),El().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ml,i=El();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ma)throw Error(o(349));0!=(30&pl)||Rl(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,Vl(Pl.bind(null,r,l,e),[e]),r.flags|=2048,Fl(9,Al.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=El(),t=Ma.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Gi&~(1<<32-lt(Gi)-1)).toString(32)+n),0<(n=wl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},as={readContext:Eo,useCallback:Gl,useContext:Eo,useEffect:Ul,useImperativeHandle:Kl,useInsertionEffect:Hl,useLayoutEffect:Wl,useMemo:Yl,useReducer:Ml,useRef:Bl,useState:function(){return Ml(_l)},useDebugValue:Ql,useDeferredValue:function(e){return Xl(Ol(),gl.memoizedState,e)},useTransition:function(){return[Ml(_l)[0],Ol().memoizedState]},useMutableSource:Tl,useSyncExternalStore:Dl,useId:es,unstable_isNewReconciler:!1},cs={readContext:Eo,useCallback:Gl,useContext:Eo,useEffect:Ul,useImperativeHandle:Kl,useInsertionEffect:Hl,useLayoutEffect:Wl,useMemo:Yl,useReducer:Nl,useRef:Bl,useState:function(){return Nl(_l)},useDebugValue:Ql,useDeferredValue:function(e){var t=Ol();return null===gl?t.memoizedState=e:Xl(t,gl.memoizedState,e)},useTransition:function(){return[Nl(_l)[0],Ol().memoizedState]},useMutableSource:Tl,useSyncExternalStore:Dl,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=L(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var hs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ua||(Ua=!0,Ha=r),ds(0,t)},n}function ms(e,t,n){(n=Ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===Wa?Wa=new Set([this]):Wa.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=$c.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ao(-1,1)).tag=2,Po(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Yo(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;return $o(t,i),r=Cl(e,t,n,r,o,i),n=$l(),null===e||ws?(io&&n&&eo(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cs(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var l=o.memoizedProps;if((n=null!==(n=n.compare)?n:ar)(l,r)&&e.ref===t.ref)return Us(e,t,i)}return t.flags|=1,(e=Rc(o,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ar(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,Us(e,t,i);0!=(131072&e.flags)&&(ws=!0)}}return Os(e,t,n,r,i)}function $s(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ra,Da),Da|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ra,Da),Da|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Ra,Da),Da|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Ra,Da),Da|=r;return xs(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,i){var o=Di(n)?Ni:_i.current;return o=Ti(t,o),$o(t,i),n=Cl(e,t,n,r,o,i),r=$l(),null===e||ws?(io&&r&&eo(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function _s(e,t,n,r,i){if(Di(n)){var o=!0;zi(t)}else o=!1;if($o(t,i),null===t.stateNode)Vs(e,t),Uo(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var l=t.stateNode,s=t.memoizedProps;l.props=s;var a=l.context,c=n.contextType;c="object"==typeof c&&null!==c?Eo(c):Ti(t,c=Di(n)?Ni:_i.current);var u=n.getDerivedStateFromProps,f="function"==typeof u||"function"==typeof l.getSnapshotBeforeUpdate;f||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(s!==r||a!==c)&&Ho(t,l,r,c),To=!1;var d=t.memoizedState;l.state=d,jo(t,r,l,i),a=t.memoizedState,s!==r||d!==a||Mi.current||To?("function"==typeof u&&(Lo(t,n,u,r),a=t.memoizedState),(s=To||Vo(t,n,s,r,d,a,c))?(f||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(t.flags|=4194308)):("function"==typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=c,r=s):("function"==typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),l.props=c,f=t.pendingProps,d=l.context,a="object"==typeof(a=n.contextType)&&null!==a?Eo(a):Ti(t,a=Di(n)?Ni:_i.current);var h=n.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(s!==f||d!==a)&&Ho(t,l,r,a),To=!1,d=t.memoizedState,l.state=d,jo(t,r,l,i);var p=t.memoizedState;s!==f||d!==p||Mi.current||To?("function"==typeof h&&(Lo(t,n,h,r),p=t.memoizedState),(c=To||Vo(t,n,c,r,d,p,a)||!1)?(u||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(r,p,a),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,p,a)),"function"==typeof l.componentDidUpdate&&(t.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof l.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),l.props=r,l.state=p,l.context=a,r=c):("function"!=typeof l.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ms(e,t,n,r,o,i)}function Ms(e,t,n,r,i,o){Es(e,t);var l=0!=(128&t.flags);if(!r&&!l)return i&&Ii(t,n,!1),Us(e,t,o);r=t.stateNode,bs.current=t;var s=l&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):xs(e,t,s,o),t.memoizedState=r.state,i&&Ii(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),il(e,t.containerInfo)}function Ts(e,t,n,r,i){return po(),mo(i),t.flags|=256,xs(e,t,n,r),t.child}var Ds,Rs,As,Ps={dehydrated:null,treeContext:null,retryLane:0};function zs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Is(e,t,n){var r,i=t.pendingProps,l=al.current,s=!1,a=0!=(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!=(2&l)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Ei(al,1&l),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=a):s=zc(a,i,0,null),e=Pc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zs(n),t.memoizedState=Ps,e):js(t,a));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,i,l,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=zc({mode:"visible",children:r.children},i,0,null),(l=Pc(l,i,s,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,0!=(1&t.mode)&&Yo(t,e.child,null,s),t.child.memoizedState=zs(s),t.memoizedState=Ps,l);if(0==(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var a=r.dgst;return r=a,Fs(e,t,s,r=fs(l=Error(o(419)),r,void 0))}if(a=0!=(s&e.childLanes),ws||a){if(null!==(r=Ma)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==l.retryLane&&(l.retryLane=i,No(e,i),nc(r,e,i,-1))}return mc(),Fs(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ji[Ki++]=Gi,Ji[Ki++]=Yi,Ji[Ki++]=Qi,Gi=e.id,Yi=e.overflow,Qi=t),(t=js(t,r.children)).flags|=4096,t)}(e,t,a,i,r,l,n);if(s){s=i.fallback,a=t.mode,r=(l=e.child).sibling;var c={mode:"hidden",children:i.children};return 0==(1&a)&&t.child!==l?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==r?s=Rc(r,s):(s=Pc(s,a,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,a=null===(a=e.child.memoizedState)?zs(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Ps,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&mo(r),Yo(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function Ls(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xs(e,t,r.children,n),0!=(2&(r=al.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(al,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cl(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ls(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cl(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ls(t,!0,n,null,o);break;case"together":Ls(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Us(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),za|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Js(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Di(t.type)&&Ri(),Ws(t),null;case 3:return r=t.stateNode,ol(),$i(Mi),$i(_i),fl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==oo&&(lc(oo),oo=null))),Ws(t),null;case 5:sl(t);var i=rl(nl.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=rl(el.current),fo(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[di]=t,r[hi]=l,e=0!=(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":G(r,l),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Fr("invalid",r);break;case"textarea":ie(r,l),Fr("invalid",r)}for(var a in ye(n,l),i=null,l)if(l.hasOwnProperty(a)){var c=l[a];"children"===a?"string"==typeof c?r.textContent!==c&&(!0!==l.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(a)&&null!=c&&"onScroll"===a&&Fr("scroll",r)}switch(n){case"input":W(r),Z(r,l,!0);break;case"textarea":W(r),le(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{a=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[di]=t,e[hi]=r,Ds(e,t),t.stateNode=e;e:{switch(a=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":G(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=I({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(l in ye(n,i),c=i)if(c.hasOwnProperty(l)){var u=c[l];"style"===l?ge(e,u):"dangerouslySetInnerHTML"===l?null!=(u=u?u.__html:void 0)&&fe(e,u):"children"===l?"string"==typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"==typeof u&&de(e,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?null!=u&&"onScroll"===l&&Fr("scroll",e):null!=u&&b(e,l,u,a))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)As(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=rl(nl.current),rl(el.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(l=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!=(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ws(t),null;case 13:if($i(al),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!=(1&t.mode)&&0==(128&t.flags))ho(),po(),t.flags|=98560,l=!1;else if(l=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(o(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(o(317));l[di]=t}else po(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),l=!1}else null!==oo&&(lc(oo),oo=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&al.current)?0===Aa&&(Aa=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return ol(),null===e&&qr(t.stateNode.containerInfo),Ws(t),null;case 10:return So(t.type._context),Ws(t),null;case 19:if($i(al),null===(l=t.memoizedState))return Ws(t),null;if(r=0!=(128&t.flags),null===(a=l.rendering))if(r)Hs(l,!1);else{if(0!==Aa||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=cl(e))){for(t.flags|=128,Hs(l,!1),null!==(r=a.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(a=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(al,1&al.current|2),t.child}e=e.sibling}null!==l.tail&&Ye()>qa&&(t.flags|=128,r=!0,Hs(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cl(a))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(l,!0),null===l.tail&&"hidden"===l.tailMode&&!a.alternate&&!io)return Ws(t),null}else 2*Ye()-l.renderingStartTime>qa&&1073741824!==n&&(t.flags|=128,r=!0,Hs(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=l.last)?n.sibling=a:t.child=a,l.last=a)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ye(),t.sibling=null,n=al.current,Ei(al,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Da)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ol(),$i(Mi),$i(_i),fl(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sl(t),null;case 13:if($i(al),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return $i(al),null;case 4:return ol(),null;case 10:return So(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rl(el.current);var o,l=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),l=[];break;case"select":i=I({},i,{value:void 0}),r=I({},r,{value:void 0}),l=[];break;case"textarea":i=re(e,i),r=re(e,r),l=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(a=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(null!=c||null!=a))if("style"===u)if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(l||(l=[]),l.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,a=a?a.__html:void 0,null!=c&&a!==c&&(l=l||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(l=l||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),l||a===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}},As=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Gs=!1,Ys="function"==typeof WeakSet?WeakSet:Set,Xs=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Cc(e,t,n)}else n.current=null}function ea(e,t,n){try{n()}catch(n){Cc(e,t,n)}}var ta=!1;function na(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ea(t,n,o)}i=i.next}while(i!==r)}}function ra(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ia(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function oa(e){var t=e.alternate;null!==t&&(e.alternate=null,oa(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[mi],delete t[gi],delete t[vi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function la(e){return 5===e.tag||3===e.tag||4===e.tag}function sa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||la(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function aa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(aa(e,t,n),e=e.sibling;null!==e;)aa(e,t,n),e=e.sibling}function ca(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ca(e,t,n),e=e.sibling;null!==e;)ca(e,t,n),e=e.sibling}var ua=null,fa=!1;function da(e,t,n){for(n=n.child;null!==n;)ha(e,t,n),n=n.sibling}function ha(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Gs||Zs(n,t);case 6:var r=ua,i=fa;ua=null,da(e,t,n),fa=i,null!==(ua=r)&&(fa?(e=ua,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ua.removeChild(n.stateNode));break;case 18:null!==ua&&(fa?(e=ua,n=n.stateNode,8===e.nodeType?ai(e.parentNode,n):1===e.nodeType&&ai(e,n),qt(e)):ai(ua,n.stateNode));break;case 4:r=ua,i=fa,ua=n.stateNode.containerInfo,fa=!0,da(e,t,n),ua=r,fa=i;break;case 0:case 11:case 14:case 15:if(!Gs&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,void 0!==l&&(0!=(2&o)||0!=(4&o))&&ea(n,t,l),i=i.next}while(i!==r)}da(e,t,n);break;case 1:if(!Gs&&(Zs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Cc(n,t,e)}da(e,t,n);break;case 21:da(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,da(e,t,n),Gs=r):da(e,t,n);break;default:da(e,t,n)}}function pa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ma(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:ua=a.stateNode,fa=!1;break e;case 3:case 4:ua=a.stateNode.containerInfo,fa=!0;break e}a=a.return}if(null===ua)throw Error(o(160));ha(l,s,i),ua=null,fa=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(e){Cc(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ga(t,e),t=t.sibling}function ga(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ma(t,e),va(e),4&r){try{na(3,e,e.return),ra(3,e)}catch(t){Cc(e,e.return,t)}try{na(5,e,e.return)}catch(t){Cc(e,e.return,t)}}break;case 1:ma(t,e),va(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(ma(t,e),va(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(t){Cc(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var l=e.memoizedProps,s=null!==n?n.memoizedProps:l,a=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===a&&"radio"===l.type&&null!=l.name&&Y(i,l),be(a,s);var u=be(a,l);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?ge(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,u)}switch(a){case"input":X(i,l);break;case"textarea":oe(i,l);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var p=l.value;null!=p?ne(i,!!l.multiple,p,!1):h!==!!l.multiple&&(null!=l.defaultValue?ne(i,!!l.multiple,l.defaultValue,!0):ne(i,!!l.multiple,l.multiple?[]:"",!1))}i[hi]=l}catch(t){Cc(e,e.return,t)}}break;case 6:if(ma(t,e),va(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(t){Cc(e,e.return,t)}}break;case 3:if(ma(t,e),va(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(t){Cc(e,e.return,t)}break;case 4:default:ma(t,e),va(e);break;case 13:ma(t,e),va(e),8192&(i=e.child).flags&&(l=null!==i.memoizedState,i.stateNode.isHidden=l,!l||null!==i.alternate&&null!==i.alternate.memoizedState||(La=Ye())),4&r&&pa(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(u=Gs)||f,ma(t,e),Gs=u):ma(t,e),va(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!f&&0!=(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(d=Xs=f;null!==Xs;){switch(p=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:na(4,h,h.return);break;case 1:Zs(h,h.return);var m=h.stateNode;if("function"==typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Cc(r,n,e)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){xa(d);continue}}null!==p?(p.return=h,Xs=p):xa(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,u?"function"==typeof(l=i.style).setProperty?l.setProperty("display","none","important"):l.display="none":(a=d.stateNode,s=null!=(c=d.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,a.style.display=me("display",s))}catch(t){Cc(e,e.return,t)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(t){Cc(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ma(t,e),va(e),4&r&&pa(e);case 21:}}function va(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(la(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ca(e,sa(e),i);break;case 3:case 4:var l=r.stateNode.containerInfo;aa(e,sa(e),l);break;default:throw Error(o(161))}}catch(t){Cc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ya(e,t,n){Xs=e,ba(e,t,n)}function ba(e,t,n){for(var r=0!=(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var l=null!==i.memoizedState||Qs;if(!l){var s=i.alternate,a=null!==s&&null!==s.memoizedState||Gs;s=Qs;var c=Gs;if(Qs=l,(Gs=a)&&!c)for(Xs=i;null!==Xs;)a=(l=Xs).child,22===l.tag&&null!==l.memoizedState?ka(i):null!==a?(a.return=l,Xs=a):ka(i);for(;null!==o;)Xs=o,ba(o,t,n),o=o.sibling;Xs=i,Qs=s,Gs=c}wa(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):wa(e)}}function wa(e){for(;null!==Xs;){var t=Xs;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gs||ra(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Fo(t,l,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fo(t,s,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var f=u.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(o(163))}Gs||512&t.flags&&ia(t)}catch(e){Cc(t,t.return,e)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function xa(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function ka(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ra(4,t)}catch(e){Cc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Cc(t,i,e)}}var o=t.return;try{ia(t)}catch(e){Cc(t,o,e)}break;case 5:var l=t.return;try{ia(t)}catch(e){Cc(t,l,e)}}}catch(e){Cc(t,t.return,e)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Sa,Ca=Math.ceil,$a=w.ReactCurrentDispatcher,Ea=w.ReactCurrentOwner,Oa=w.ReactCurrentBatchConfig,_a=0,Ma=null,Na=null,Ta=0,Da=0,Ra=Ci(0),Aa=0,Pa=null,za=0,Ia=0,ja=0,Fa=null,Ba=null,La=0,qa=1/0,Va=null,Ua=!1,Ha=null,Wa=null,Ja=!1,Ka=null,Qa=0,Ga=0,Ya=null,Xa=-1,Za=0;function ec(){return 0!=(6&_a)?Ye():-1!==Xa?Xa:Xa=Ye()}function tc(e){return 0==(1&e.mode)?1:0!=(2&_a)&&0!==Ta?Ta&-Ta:null!==go.transition?(0===Za&&(Za=mt()),Za):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nc(e,t,n,r){if(50<Ga)throw Ga=0,Ya=null,Error(o(185));vt(e,n,r),0!=(2&_a)&&e===Ma||(e===Ma&&(0==(2&_a)&&(Ia|=n),4===Aa&&sc(e,Ta)),rc(e,r),1===n&&0===_a&&0==(1&t.mode)&&(qa=Ye()+500,Fi&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-lt(o),s=1<<l,a=i[l];-1===a?0!=(s&n)&&0==(s&r)||(i[l]=ht(s,t)):a<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Ma?Ta:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fi=!0,Li(e)}(ac.bind(null,e)):Li(ac.bind(null,e)),li((function(){0==(6&_a)&&qi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xa=-1,Za=0,0!=(6&_a))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ma?Ta:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=_a;_a|=2;var l=pc();for(Ma===e&&Ta===t||(Va=null,qa=Ye()+500,dc(e,t));;)try{yc();break}catch(t){hc(e,t)}ko(),$a.current=l,_a=i,null!==Na?t=0:(Ma=null,Ta=0,t=Aa)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=oc(e,i)),1===t)throw n=Pa,dc(e,0),sc(e,r),rc(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&0!==(l=pt(e))&&(r=l,t=oc(e,l)),1===t))throw n=Pa,dc(e,0),sc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Ba,Va);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=La+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Ba,Va),t);break}xc(e,Ba,Va);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-lt(r);l=1<<s,(s=t[s])>i&&(i=s),r&=~l}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ca(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Ba,Va),r);break}xc(e,Ba,Va);break;default:throw Error(o(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Fa;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ba,Ba=n,null!==t&&lc(t)),e}function lc(e){null===Ba?Ba=e:Ba.push.apply(Ba,e)}function sc(e,t){for(t&=~ja,t&=~Ia,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function ac(e){if(0!=(6&_a))throw Error(o(327));kc();var t=dt(e,0);if(0==(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Pa,dc(e,0),sc(e,t),rc(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ba,Va),rc(e,Ye()),null}function cc(e,t){var n=_a;_a|=1;try{return e(t)}finally{0===(_a=n)&&(qa=Ye()+500,Fi&&qi())}}function uc(e){null!==Ka&&0===Ka.tag&&0==(6&_a)&&kc();var t=_a;_a|=1;var n=Oa.transition,r=bt;try{if(Oa.transition=null,bt=1,e)return e()}finally{bt=r,Oa.transition=n,0==(6&(_a=t))&&qi()}}function fc(){Da=Ra.current,$i(Ra)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Na)for(n=Na.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ri();break;case 3:ol(),$i(Mi),$i(_i),fl();break;case 5:sl(r);break;case 4:ol();break;case 13:case 19:$i(al);break;case 10:So(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ma=e,Na=e=Rc(e.current,null),Ta=Da=t,Aa=0,Pa=null,ja=Ia=za=0,Ba=Fa=null,null!==Oo){for(t=0;t<Oo.length;t++)if(null!==(r=(n=Oo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var l=o.next;o.next=i,r.next=l}n.pending=r}Oo=null}return e}function hc(e,t){for(;;){var n=Na;try{if(ko(),dl.current=ls,yl){for(var r=ml.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yl=!1}if(pl=0,vl=gl=ml=null,bl=!1,wl=0,Ea.current=null,null===n||null===n.return){Aa=1,Pa=t,Na=null;break}e:{var l=e,s=n.return,a=n,c=t;if(t=Ta,a.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,f=a,d=f.tag;if(0==(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,a,0,t),1&p.mode&&gs(l,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0==(1&t)){gs(l,u,t),mc();break e}c=Error(o(426))}else if(io&&1&a.mode){var v=vs(s);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),ys(v,s,a,0,t),mo(us(c,a));break e}}l=c=us(c,a),4!==Aa&&(Aa=2),null===Fa?Fa=[l]:Fa.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Io(l,ps(0,c,t));break e;case 1:a=c;var y=l.type,b=l.stateNode;if(0==(128&l.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Wa||!Wa.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Io(l,ms(l,a,t));break e}}l=l.return}while(null!==l)}wc(n)}catch(e){t=e,Na===n&&null!==n&&(Na=n=n.return);continue}break}}function pc(){var e=$a.current;return $a.current=ls,null===e?ls:e}function mc(){0!==Aa&&3!==Aa&&2!==Aa||(Aa=4),null===Ma||0==(268435455&za)&&0==(268435455&Ia)||sc(Ma,Ta)}function gc(e,t){var n=_a;_a|=2;var r=pc();for(Ma===e&&Ta===t||(Va=null,dc(e,t));;)try{vc();break}catch(t){hc(e,t)}if(ko(),_a=n,$a.current=r,null!==Na)throw Error(o(261));return Ma=null,Ta=0,Aa}function vc(){for(;null!==Na;)bc(Na)}function yc(){for(;null!==Na&&!Qe();)bc(Na)}function bc(e){var t=Sa(e.alternate,e,Da);e.memoizedProps=e.pendingProps,null===t?wc(e):Na=t,Ea.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Js(n,t,Da)))return void(Na=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Na=n);if(null===e)return Aa=6,void(Na=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Na=t);Na=t=e}while(null!==t);0===Aa&&(Aa=5)}function xc(e,t,n){var r=bt,i=Oa.transition;try{Oa.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Ka);if(0!=(6&_a))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-lt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,l),e===Ma&&(Na=Ma=null,Ta=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Ja||(Ja=!0,Mc(tt,(function(){return kc(),null}))),l=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||l){l=Oa.transition,Oa.transition=null;var s=bt;bt=1;var a=_a;_a|=4,Ea.current=null,function(e,t){if(ei=Ut,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(e){n=null;break e}var s=0,a=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(a=s+i),d!==l||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=s),h===l&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===a||-1===c?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ut=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(e){Cc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=ta,ta=!1}(e,n),ga(n,e),pr(ti),Ut=!!ei,ti=ei=null,e.current=n,ya(n,e,i),Ge(),_a=a,bt=s,Oa.transition=l}else e.current=n;if(Ja&&(Ja=!1,Ka=e,Qa=i),0===(l=e.pendingLanes)&&(Wa=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ua)throw Ua=!1,e=Ha,Ha=null,e;0!=(1&Qa)&&0!==e.tag&&kc(),0!=(1&(l=e.pendingLanes))?e===Ya?Ga++:(Ga=0,Ya=e):Ga=0,qi()}(e,t,n,r)}finally{Oa.transition=i,bt=r}return null}function kc(){if(null!==Ka){var e=wt(Qa),t=Oa.transition,n=bt;try{if(Oa.transition=null,bt=16>e?16:e,null===Ka)var r=!1;else{if(e=Ka,Ka=null,Qa=0,0!=(6&_a))throw Error(o(331));var i=_a;for(_a|=4,Xs=e.current;null!==Xs;){var l=Xs,s=l.child;if(0!=(16&Xs.flags)){var a=l.deletions;if(null!==a){for(var c=0;c<a.length;c++){var u=a[c];for(Xs=u;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:na(8,f,l)}var d=f.child;if(null!==d)d.return=f,Xs=d;else for(;null!==Xs;){var h=(f=Xs).sibling,p=f.return;if(oa(f),f===u){Xs=null;break}if(null!==h){h.return=p,Xs=h;break}Xs=p}}}var m=l.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xs=l}}if(0!=(2064&l.subtreeFlags)&&null!==s)s.return=l,Xs=s;else e:for(;null!==Xs;){if(0!=(2048&(l=Xs).flags))switch(l.tag){case 0:case 11:case 15:na(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,Xs=y;break e}Xs=l.return}}var b=e.current;for(Xs=b;null!==Xs;){var w=(s=Xs).child;if(0!=(2064&s.subtreeFlags)&&null!==w)w.return=s,Xs=w;else e:for(s=b;null!==Xs;){if(0!=(2048&(a=Xs).flags))try{switch(a.tag){case 0:case 11:case 15:ra(9,a)}}catch(e){Cc(a,a.return,e)}if(a===s){Xs=null;break e}var x=a.sibling;if(null!==x){x.return=a.return,Xs=x;break e}Xs=a.return}}if(_a=i,qi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,Oa.transition=t}}return!1}function Sc(e,t,n){e=Po(e,t=ps(0,t=us(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Cc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Wa||!Wa.has(r))){t=Po(t,e=ms(t,e=us(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function $c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ma===e&&(Ta&n)===n&&(4===Aa||3===Aa&&(130023424&Ta)===Ta&&500>Ye()-La?dc(e,0):ja|=n),rc(e,t)}function Ec(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ut,0==(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=No(e,t))&&(vt(e,t,n),rc(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ec(e,n)}function Mc(e,t){return Je(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,i,l){var s=2;if(r=e,"function"==typeof e)Dc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Pc(n.children,i,l,t);case C:s=8,i|=8;break;case $:return(e=Tc(12,n,t,2|i)).elementType=$,e.lanes=l,e;case M:return(e=Tc(13,n,t,i)).elementType=M,e.lanes=l,e;case N:return(e=Tc(19,n,t,i)).elementType=N,e.lanes=l,e;case R:return zc(n,i,l,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case O:s=9;break e;case _:s=11;break e;case T:s=14;break e;case D:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Tc(s,n,t,i)).elementType=e,t.type=r,t.lanes=l,t}function Pc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function zc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Ic(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,l,s,a){return e=new Fc(e,t,n,s,a),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Tc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function Lc(e){if(!e)return Oi;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Di(n))return Pi(e,n,t)}return t}function qc(e,t,n,r){var i=t.current,o=ec(),l=tc(i);return n=Lc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ao(o,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Po(i,t,l))&&(nc(e,i,l,o),zo(e,i,l)),l}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}Sa=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)ws=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),po();break;case 5:ll(t);break;case 1:Di(t.type)&&zi(t);break;case 4:il(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(al,1&al.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Is(e,t,n):(Ei(al,1&al.current),null!==(e=Us(e,t,n))?e.sibling:null);Ei(al,1&al.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(al,al.current),r)break;return null;case 22:case 23:return t.lanes=0,$s(e,t,n)}return Us(e,t,n)}(e,t,n);ws=0!=(131072&e.flags)}else ws=!1,io&&0!=(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=Ti(t,_i.current);$o(t,n),i=Cl(null,t,r,e,i,n);var l=$l();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(l=!0,zi(t)):l=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Do(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Ms(null,t,r,!0,l,n)):(t.tag=0,io&&l&&eo(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Dc(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===T)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Os(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(o(387));r=t.pendingProps,i=(l=t.memoizedState).element,Ro(e,t),jo(t,r,null,n);var s=t.memoizedState;if(r=s.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ts(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Ts(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Us(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return ll(t),null===e&&co(t),r=t.type,i=t.pendingProps,l=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==l&&ni(r,l)&&(t.flags|=32),Es(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Is(e,t,n);case 4:return il(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,s=i.value,Ei(yo,r._currentValue),r._currentValue=s,null!==l)if(sr(l.value,s)){if(l.children===i.children&&!Mi.current){t=Us(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var a=l.dependencies;if(null!==a){s=l.child;for(var c=a.firstContext;null!==c;){if(c.context===r){if(1===l.tag){(c=Ao(-1,n&-n)).tag=2;var u=l.updateQueue;if(null!==u){var f=(u=u.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Co(l.return,n,t),a.lanes|=n;break}c=c.next}}else if(10===l.tag)s=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(s=l.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Co(s,n,t),s=l.sibling}else s=l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$o(t,n),r=r(i=Eo(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Ss(e,t,r,i=vo(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Vs(e,t),t.tag=1,Di(r)?(e=!0,zi(t)):e=!1,$o(t,n),Uo(t,r,i),Wo(t,r,i,n),Ms(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return $s(e,t,n)}throw Error(o(156,t.tag))};"function"==typeof reportError&&reportError;function Wc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Kc(){}function Qc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if("function"==typeof i){var s=i;i=function(){var e=Vc(l);s.call(e)}}qc(t,l,e,i)}else l=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Vc(l);o.call(e)}}var l=function(e,t,n,r,i,o,l,s,a){return(e=Bc(n,r,!0,e,0,o,0,s,a)).context=Lc(null),n=e.current,(o=Ao(r=ec(),i=tc(n))).callback=null!=t?t:null,Po(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}(t,r,e,0,null,!1,0,"",Kc);return e._reactRootContainer=l,e[pi]=l.current,qr(8===e.nodeType?e.parentNode:e),uc(),l}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Vc(a);s.call(e)}}var a=Bc(e,0,!1,null,0,!1,0,"",Kc);return e._reactRootContainer=a,e[pi]=a.current,qr(8===e.nodeType?e.parentNode:e),uc((function(){qc(t,a,n,r)})),a}(n,t,e,i,r);return Vc(l)}Jc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Jc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){qc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&It(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0==(6&_a)&&(qa=Ye()+500,qi()))}break;case 13:uc((function(){var t=No(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},kt=function(e){if(13===e.tag){var t=No(e,134217728);null!==t&&nc(t,e,134217728,ec()),Hc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=No(e,t);null!==n&&nc(n,e,t,ec()),Hc(e,t)}},Ct=function(){return bt},$t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));J(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Me=uc;var Gc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Yc={bundleType:Gc.bundleType,version:Gc.version,rendererPackageName:Gc.rendererPackageName,rendererConfig:Gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:Gc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{it=Xc.inject(Yc),ot=Xc}catch(ue){}}t.render=function(e,t,n){if(!function(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}(t))throw Error(o(200));return Qc(null,e,t,!1,n)}},961:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(799)},218:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function $(e,t,r){var i,o={},l=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(l=""+t.key),t)k.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var a=arguments.length-2;if(1===a)o.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in a=e.defaultProps)void 0===o[i]&&(o[i]=a[i]);return{$$typeof:n,type:e,key:l,ref:s,props:o,_owner:S.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function _(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,i,o,l){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var a=!1;if(null===e)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case n:case r:a=!0}}if(a)return l=l(a=e),e=""===o?"."+_(a,0):o,x(l)?(i="",null!=e&&(i=e.replace(O,"$&/")+"/"),M(l,t,i,"",(function(e){return e}))):null!=l&&(E(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,i+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(O,"$&/")+"/")+e)),t.push(l)),1;if(a=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+_(s=e[c],c);a+=M(s,t,i,u,l)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)a+=M(s=s.value,t,i,u=o+_(s,c++),l);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function N(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},A={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=l,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,l=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)k.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==a?a[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:n,type:e.type,key:o,ref:l,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=$,t.createFactory=function(e){var t=$.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},526:function(e,t,n){"use strict";e.exports=n(218)},196:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,l=i>>>1;r<l;){var s=2*(r+1)-1,a=e[s],c=s+1,u=e[c];if(0>o(a,n))c<i&&0>o(u,a)?(e[r]=u,e[c]=n,r=c):(e[r]=a,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],u=[],f=1,d=null,h=3,p=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(k);else{var t=r(u);null!==t&&A(x,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var o=h;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!M());){var l=d.callback;if("function"==typeof l){d.callback=null,h=d.priorityLevel;var s=l(d.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?d.callback=s:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var a=!0;else{var f=r(u);null!==f&&A(x,f.startTime-n),a=!1}return a}finally{d=null,h=o,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C=!1,$=null,E=-1,O=5,_=-1;function M(){return!(t.unstable_now()-_<O)}function N(){if(null!==$){var e=t.unstable_now();_=e;var n=!0;try{n=$(!0,e)}finally{n?S():(C=!1,$=null)}}else C=!1}if("function"==typeof b)S=function(){b(N)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,D=T.port2;T.port1.onmessage=N,S=function(){D.postMessage(null)}}else S=function(){v(N,0)};function R(e){$=e,C||(C=!0,S())}function A(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var l=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?l+o:l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>l?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,A(x,o-l))):(e.sortIndex=s,n(c,e),m||p||(m=!0,R(k))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},851:function(e,t,n){"use strict";e.exports=n(196)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}!function(){"use strict";var e=n(526),t=n(961);function r(e){this.content=e}r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,o=i.find(e),l=i.content.slice();return-1==o?l.push(n||e,t):(l[o+1]=t,n&&(l[o]=n)),new r(l)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var i=this.remove(t),o=i.content.slice(),l=i.find(e);return o.splice(-1==l?o.length:l,0,t,n),new r(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=r.from(e)).size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=r.from(e)).size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)};var i=r;function o(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),l=t.child(r);if(i!=l){if(!i.sameMarkup(l))return n;if(i.isText&&i.text!=l.text){for(let e=0;i.text[e]==l.text[e];e++)n++;return n}if(i.content.size||l.content.size){let e=o(i.content,l.content,n+1);if(null!=e)return e}n+=i.nodeSize}else n+=i.nodeSize}}function l(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let s=e.child(--i),a=t.child(--o),c=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let e=0,t=Math.min(s.text.length,a.text.length);for(;e<t&&s.text[s.text.length-e-1]==a.text[a.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let e=l(s.content,a.content,n-1,r-1);if(e)return e}n-=c,r-=c}else n-=c,r-=c}}class s{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,r=0,i){for(let o=0,l=0;l<t;o++){let s=this.content[o],a=l+s.nodeSize;if(a>e&&!1!==n(s,r+l,i||null,o)&&s.content.size){let i=l+1;s.nodesBetween(Math.max(0,e-i),Math.min(s.content.size,t-i),n,r+i)}l=a}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let i="",o=!0;return this.nodesBetween(e,t,((l,s)=>{l.isText?(i+=l.text.slice(Math.max(e,s)-s,t-s),o=!n):l.isLeaf?(r?i+="function"==typeof r?r(l):r:l.type.spec.leafText&&(i+=l.type.spec.leafText(l)),o=!n):!o&&l.isBlock&&(i+=n,o=!0)}),0),i}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),i=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new s(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let i=0,o=0;o<t;i++){let l=this.content[i],s=o+l.nodeSize;s>e&&((o<e||s>t)&&(l=l.isText?l.cut(Math.max(0,e-o),Math.min(l.text.length,t-o)):l.cut(Math.max(0,e-o-1),Math.min(l.content.size,t-o-1))),n.push(l),r+=l.nodeSize),o=s}return new s(n,r)}cutByIndex(e,t){return e==t?s.empty:0==e&&t==this.content.length?this:new s(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),i=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new s(r,i)}addToStart(e){return new s([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new s(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return o(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return l(this,e,t,n)}findIndex(e,t=-1){if(0==e)return c(0,e);if(e==this.size)return c(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=r+this.child(n).nodeSize;if(i>=e)return i==e||t>0?c(n+1,i):c(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return s.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new s(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return s.empty;let t,n=0;for(let r=0;r<e.length;r++){let i=e[r];n+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(t||(t=e.slice(0,r)),t[t.length-1]=i.withText(t[t.length-1].text+i.text)):t&&t.push(i)}return new s(t||e,n)}static from(e){if(!e)return s.empty;if(e instanceof s)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new s([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}s.empty=new s([],0);const a={index:0,offset:0};function c(e,t){return a.index=e,a.offset=t,a}function u(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!u(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!u(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class f{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))t||(t=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(i)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&u(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return f.none;if(e instanceof f)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}f.none=[];class d extends Error{}class h{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=m(this.content,e+this.openStart,t);return n&&new h(n,this.openStart,this.openEnd)}removeBetween(e,t){return new h(p(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return h.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new h(s.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new h(e,n,r)}}function p(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:l,offset:s}=e.findIndex(n);if(i==t||o.isText){if(s!=n&&!e.child(l).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(p(o.content,t-i-1,n-i-1)))}function m(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),l=e.maybeChild(i);if(o==t||l.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=m(l.content,t-o-1,n);return s&&e.replaceChild(i,l.copy(s))}function g(e,t,n){if(n.openStart>e.depth)throw new d("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new d("Inconsistent open depths");return v(e,t,n,0)}function v(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let l=v(e,t,n,r+1);return o.copy(o.content.replaceChild(i,l))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:i,end:l}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(s.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return k(o,S(e,i,l,t,r))}{let r=e.parent,i=r.content;return k(r,i.cut(0,e.parentOffset).append(n.content).append(i.cut(t.parentOffset)))}}return k(o,C(e,t,r))}function y(e,t){if(!t.type.compatibleContent(e.type))throw new d("Cannot join "+t.type.name+" onto "+e.type.name)}function b(e,t,n){let r=e.node(n);return y(r,t.node(n)),r}function w(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function x(e,t,n,r){let i=(t||e).node(n),o=0,l=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(w(e.nodeAfter,r),o++));for(let e=o;e<l;e++)w(i.child(e),r);t&&t.depth==n&&t.textOffset&&w(t.nodeBefore,r)}function k(e,t){if(!e.type.validContent(t))throw new d("Invalid content for node "+e.type.name);return e.copy(t)}function S(e,t,n,r,i){let o=e.depth>i&&b(e,t,i+1),l=r.depth>i&&b(n,r,i+1),a=[];return x(null,e,i,a),o&&l&&t.index(i)==n.index(i)?(y(o,l),w(k(o,S(e,t,n,r,i+1)),a)):(o&&w(k(o,C(e,t,i+1)),a),x(t,n,i,a),l&&w(k(l,C(n,r,i+1)),a)),x(r,null,i,a),new s(a)}function C(e,t,n){let r=[];return x(null,e,n,r),e.depth>n&&w(k(b(e,t,n+1),C(e,t,n+1)),r),x(t,null,n,r),new s(r)}h.empty=new h(s.empty,0,0);class ${constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return f.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new M(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,i=t;for(let t=e;;){let{index:e,offset:o}=t.content.findIndex(i),l=i-o;if(n.push(t,e,r+o),!l)break;if(t=t.child(e),t.isText)break;i=l-1,r+=o+1}return new $(t,n,i)}static resolveCached(e,t){for(let n=0;n<E.length;n++){let r=E[n];if(r.pos==t&&r.doc==e)return r}let n=E[O]=$.resolve(e,t);return O=(O+1)%_,n}}let E=[],O=0,_=12;class M{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const N=Object.create(null);class T{constructor(e,t,n,r=f.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||s.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&u(this.attrs,t||e.defaultAttrs||N)&&f.sameSet(this.marks,n||f.none)}copy(e=null){return e==this.content?this:new T(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new T(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return h.empty;let r=this.resolve(e),i=this.resolve(t),o=n?0:r.sharedDepth(t),l=r.start(o),s=r.node(o).content.cut(r.pos-l,i.pos-l);return new h(s,r.depth-o,i.depth-o)}replace(e,t,n){return g(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return $.resolveCached(this,e)}resolveNoCache(e){return $.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),R(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=s.empty,r=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,r,i),l=o&&o.matchFragment(this.content,t);if(!l||!l.validEnd)return!1;for(let e=r;e<i;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,t);return!!o&&o.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=f.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!f.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((e=>e.type.name))}`);this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=s.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}T.prototype.text=void 0;class D extends T{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):R(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new D(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new D(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function R(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class A{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new P(e,t);if(null==n.next)return A.empty;let r=z(n);n.next&&n.err("Unexpected trailing text");let i=function(e){let t=Object.create(null);return function n(r){let i=[];r.forEach((t=>{e[t].forEach((({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<i.length;e++)i[e][0]==t&&(r=i[e][1]);q(e,n).forEach((e=>{r||i.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)}))}))}));let o=t[r.join(",")]=new A(r.indexOf(e.length-1)>-1);for(let e=0;e<i.length;e++){let r=i[e][1].sort(L);o.next.push({type:i[e][0],next:t[r.join(",")]||n(r)})}return o}(q(e,0))}(function(e){let t=[[]];return i(function e(t,o){if("choice"==t.type)return t.exprs.reduce(((t,n)=>t.concat(e(n,o))),[]);if("seq"!=t.type){if("star"==t.type){let l=n();return r(o,l),i(e(t.expr,l),l),[r(l)]}if("plus"==t.type){let l=n();return i(e(t.expr,o),l),i(e(t.expr,l),l),[r(l)]}if("opt"==t.type)return[r(o)].concat(e(t.expr,o));if("range"==t.type){let l=o;for(let r=0;r<t.min;r++){let r=n();i(e(t.expr,l),r),l=r}if(-1==t.max)i(e(t.expr,l),l);else for(let o=t.min;o<t.max;o++){let o=n();r(l,o),i(e(t.expr,l),o),l=o}return[r(l)]}if("name"==t.type)return[r(o,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let l=e(t.exprs[r],o);if(r==t.exprs.length-1)return l;i(l,o=n())}}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let i={term:r,to:n};return t[e].push(i),i}function i(e,t){e.forEach((e=>e.to=t))}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],i=!e.validEnd,o=[];for(let t=0;t<e.next.length;t++){let{type:n,next:l}=e.next[t];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(l)&&r.push(l)}i&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,n),i}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let i=t;r&&i<n;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function i(o,l){let a=o.matchFragment(e,n);if(a&&(!t||a.validEnd))return s.from(l.map((e=>e.createAndFill())));for(let e=0;e<o.next.length;e++){let{type:t,next:n}=o.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=i(n,l.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<i.next.length;e++){let{type:o,next:l}=i.next[e];o.isLeaf||o.hasRequiredAttrs()||o.name in t||r.type&&!l.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),t[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map(((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r})).join("\n")}}A.empty=new A(!0);class P{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function z(e){let t=[];do{t.push(I(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function I(e){let t=[];do{t.push(j(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function j(e){let t=function(e){if(e.eat("(")){let t=z(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let e in n){let r=n[e];r.groups.indexOf(t)>-1&&i.push(r)}return 0==i.length&&e.err("No node type or group '"+t+"' found"),i}(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=B(e,t)}return t}function F(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function B(e,t){let n=F(e),r=n;return e.eat(",")&&(r="}"!=e.next?F(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function L(e,t){return t-e}function q(e,t){let n=[];return function t(r){let i=e[r];if(1==i.length&&!i[0].term)return t(i[0].to);n.push(r);for(let e=0;e<i.length;e++){let{term:r,to:o}=i[e];r||-1!=n.indexOf(o)||t(o)}}(t),n.sort(L)}function V(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function U(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(void 0===i){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=t.default}n[r]=i}return n}function H(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new J(e[n]);return t}class W{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=H(n.attrs),this.defaultAttrs=V(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==A.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:U(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new T(this,this.computeAttrs(e),s.from(t),f.setFrom(n))}createChecked(e=null,t,n){if(t=s.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new T(this,this.computeAttrs(e),t,f.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=s.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),i=r&&r.fillBefore(s.empty,!0);return i?new T(this,e,t.append(i),f.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:f.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,r)=>n[e]=new W(e,t,r)));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class J{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class K{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=H(r.attrs),this.excluded=null;let i=V(this.attrs);this.instance=i?new f(this,i):null}create(e=null){return!e&&this.instance?this.instance:new f(this,U(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach(((e,i)=>n[e]=new K(e,r++,t,i))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class Q{constructor(e){this.cached=Object.create(null),this.spec={nodes:i.from(e.nodes),marks:i.from(e.marks||{}),topNode:e.topNode},this.nodes=W.compile(this.spec.nodes,this),this.marks=K.compile(this.spec.marks,this);let t=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let n=this.nodes[e],r=n.spec.content||"",i=n.spec.marks;n.contentMatch=t[r]||(t[r]=A.parse(r,this.nodes)),n.inlineContent=n.contentMatch.inlineContent,n.markSet="_"==i?null:i?G(this,i.split(" ")):""!=i&&n.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:G(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof W))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new D(n,n.defaultAttrs,e,f.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return T.fromJSON(this,e)}markFromJSON(e){return f.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function G(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],l=o;if(o)n.push(o);else for(let t in e.marks){let r=e.marks[t];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=r)}if(!l)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class Y{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e,t={}){let n=new re(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new re(this,t,!0);return n.addAll(e,t.from,t.to),h.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(ie(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(e)||r.context&&!n.matchesContext(r.context)||o.length>e.length&&(61!=o.charCodeAt(e.length)||o.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach((e=>{n(e=oe(e)),e.mark=t}))}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach((e=>{n(e=oe(e)),e.node=t}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Y(e,Y.schemaRules(e)))}}const X={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Z={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ee={ol:!0,ul:!0};function te(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class ne{constructor(e,t,n,r,i,o,l){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=f.none,this.stashMarks=[],this.match=o||(4&l?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(s.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=s.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(s.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let r=n[t];(this.type?this.type.allowsMarkType(r.type):le(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!X.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class re{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,i=t.topNode,o=te(null,t.preserveWhitespace,0)|(n?4:0);r=i?new ne(i.type,i.attrs,f.none,f.none,!0,t.topMatch||i.type.contentMatch,o):new ne(n?null:e.schema.topNodeType,null,f.none,f.none,!0,null,o),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let t=e.getAttribute("style"),n=t?this.readStyles(function(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(let e=0;e<n.length;e++)this.addPendingMark(n[e]);if(this.addElement(e),null!=n)for(let e=0;e<n.length;e++)this.removePendingMark(n[e],r)}}addTextNode(e){let t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],i=e.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,r=e.nodeName.toLowerCase();ee.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&ee.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(i?i.ignore:Z.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let t,n=this.top,o=this.needsBlock;if(X.hasOwnProperty(r))t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),t&&this.sync(n),this.needsBlock=o}else this.addElementByRule(e,i,!1===i.consuming?n:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=f.none;e:for(let n=0;n<e.length;n+=2)for(let r;;){let i=this.parser.matchStyle(e[n],e[n+1],this,r);if(!i)continue e;if(i.ignore)return null;if(t=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(t),!1!==i.consuming)break;r=i}return t}addElementByRule(e,t,n){let r,i,o;t.node?(i=this.parser.schema.nodes[t.node],i.isLeaf?this.insertNode(i.create(t.attrs))||this.leafFallback(e):r=this.enter(i,t.attrs||null,t.preserveWhitespace)):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));let l=this.top;if(i&&i.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e)));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}r&&this.sync(l)&&this.open--,o&&this.removePendingMark(o,l)}addAll(e,t,n){let r=t||0;for(let i=t?e.childNodes[t]:e.firstChild,o=null==n?null:e.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(i);this.findAtPoint(e,r)}findPlace(e){let t,n;for(let r=this.open;r>=0;r--){let i=this.nodes[r],o=i.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=i,!o.length))break;if(i.solid)break}if(!t)return!1;this.sync(n);for(let e=0;e<t.length;e++)this.enterInner(t[e],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let r=0;r<e.marks.length;r++)t.type&&!t.type.allowsMarkType(e.marks[r].type)||(n=e.marks[r].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let o=te(e,r,i.options);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new ne(e,t,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(e,l)=>{for(;e>=0;e--){let s=t[e];if(""==s){if(e==t.length-1||0==e)continue;for(;l>=i;l--)if(o(e-1,l))return!0;return!1}{let e=l>0||0==l&&r?this.nodes[l].type:n&&l>=i?n.node(l-i).type:null;if(!e||e.name!=s&&-1==e.groups.indexOf(s))return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(e){let t=function(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let t=r.popFromStashMark(e);t&&r.type&&r.type.allowsMarkType(t.type)&&(r.activeMarks=t.addToSet(r.activeMarks))}if(r==t)break}}}function ie(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function oe(e){let t={};for(let n in e)t[n]=e[n];return t}function le(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],l=e=>{o.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:i}=e.edge(n);if(r==t)return!0;if(o.indexOf(i)<0&&l(i))return!0}};if(l(i.contentMatch))return!0}}class se{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=ce(t).createDocumentFragment());let r=n,i=[];return e.forEach((e=>{if(i.length||e.marks.length){let n=0,o=0;for(;n<i.length&&o<e.marks.length;){let t=e.marks[o];if(this.marks[t.type.name]){if(!t.eq(i[n][0])||!1===t.type.spec.spanning)break;n++,o++}else o++}for(;n<i.length;)r=i.pop()[1];for(;o<e.marks.length;){let n=e.marks[o++],l=this.serializeMark(n,e.isInline,t);l&&(i.push([n,r]),r.appendChild(l.dom),r=l.contentDOM||l.dom)}}r.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=se.renderSpec(ce(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,t);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&se.renderSpec(ce(n),r(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,i=t[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let l=n?e.createElementNS(n,i):e.createElement(i),s=t[1],a=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s)){a=2;for(let e in s)if(null!=s[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),s[e]):l.setAttribute(e,s[e])}}for(let i=a;i<t.length;i++){let o=t[i];if(0===o){if(i<t.length-1||i>a)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:i}=se.renderSpec(e,o,n);if(l.appendChild(t),i){if(r)throw new RangeError("Multiple content holes");r=i}}}return{dom:l,contentDOM:r}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new se(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=ae(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return ae(e.marks)}}function ae(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function ce(e){return e.document||window.document}var ue,fe=n(509);function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t&&de(e.prototype,t),n&&de(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ge(e,t)}function ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ge(e,t)}function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function be(e,t){if(t&&("object"===ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return me(e)}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},we(e)}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){if(e){if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xe(e,t):void 0}}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],l=!0,s=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){s=!0,i=e}finally{try{l||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e){return function(e){if(Array.isArray(e))return xe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(){}function Ee(e,t){for(var n in t)e[n]=t[n];return e}function Oe(e){return e()}function _e(){return Object.create(null)}function Me(e){e.forEach(Oe)}function Ne(e){return"function"==typeof e}function Te(e,t){return e!=e?t==t:e!==t||e&&"object"===ye(e)||"function"==typeof e}function De(e){if(null==e)return $e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=e.subscribe.apply(e,n);return i.unsubscribe?function(){return i.unsubscribe()}:i}function Re(e){var t;return De(e,(function(e){return t=e}))(),t}function Ae(e,t,n){e.$$.on_destroy.push(De(t,n))}function Pe(e,t,n,r){if(e){var i=ze(e,t,n,r);return e[0](i)}}function ze(e,t,n,r){return e[1]&&r?Ee(n.ctx.slice(),e[1](r(t))):n.ctx}function Ie(e,t,n,r){if(e[2]&&r){var i=e[2](r(n));if(void 0===t.dirty)return i;if("object"===ye(i)){for(var o=[],l=Math.max(t.dirty.length,i.length),s=0;s<l;s+=1)o[s]=t.dirty[s]|i[s];return o}return t.dirty|i}return t.dirty}function je(e,t,n,r,i,o){if(i){var l=ze(t,n,r,o);e.p(l,i)}}function Fe(e){if(e.ctx.length>32){for(var t=[],n=e.ctx.length/32,r=0;r<n;r++)t[r]=-1;return t}return-1}function Be(e){var t={};for(var n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function Le(e){return null==e?"":e}function qe(e,t){e.appendChild(t)}function Ve(e,t,n){e.insertBefore(t,n||null)}function Ue(e){e.parentNode.removeChild(e)}function He(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function We(e){return document.createElement(e)}function Je(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Ke(e){return document.createTextNode(e)}function Qe(){return Ke(" ")}function Ge(){return Ke("")}function Ye(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function Xe(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ze(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function et(e){return Array.from(e.childNodes)}function tt(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function nt(e,t){e.value=null==t?"":t}function rt(e,t,n){e.classList[n?"add":"remove"](t)}function it(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.bubbles,i=void 0!==r&&r,o=n.cancelable,l=void 0!==o&&o,s=document.createEvent("CustomEvent");return s.initCustomEvent(e,i,l,t),s}function ot(e){ue=e}function lt(){if(!ue)throw new Error("Function called outside component initialization");return ue}function st(e){lt().$$.on_mount.push(e)}function at(){var e=lt();return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.cancelable,o=void 0!==i&&i,l=e.$$.callbacks[t];if(l){var s=it(t,n,{cancelable:o});return l.slice().forEach((function(t){t.call(e,s)})),!s.defaultPrevented}return!0}}function ct(e,t){return lt().$$.context.set(e,t),t}function ut(e){return lt().$$.context.get(e)}function ft(e,t){var n=this,r=e.$$.callbacks[t.type];r&&r.slice().forEach((function(e){return e.call(n,t)}))}var dt=[],ht=[],pt=[],mt=[],gt=Promise.resolve(),vt=!1;function yt(e){pt.push(e)}var bt=new Set,wt=0;function xt(){var e=ue;do{for(;wt<dt.length;){var t=dt[wt];wt++,ot(t),kt(t.$$)}for(ot(null),dt.length=0,wt=0;ht.length;)ht.pop()();for(var n=0;n<pt.length;n+=1){var r=pt[n];bt.has(r)||(bt.add(r),r())}pt.length=0}while(dt.length);for(;mt.length;)mt.pop()();vt=!1,bt.clear(),ot(e)}function kt(e){if(null!==e.fragment){e.update(),Me(e.before_update);var t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(yt)}}var St,Ct=new Set;function $t(){St={r:0,c:[],p:St}}function Et(){St.r||Me(St.c),St=St.p}function Ot(e,t){e&&e.i&&(Ct.delete(e),e.i(t))}function _t(e,t,n,r){if(e&&e.o){if(Ct.has(e))return;Ct.add(e),St.c.push((function(){Ct.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function Mt(e){e&&e.c()}function Nt(e,t,n,r){var i=e.$$,o=i.fragment,l=i.on_mount,s=i.on_destroy,a=i.after_update;o&&o.m(t,n),r||yt((function(){var t=l.map(Oe).filter(Ne);s?s.push.apply(s,Ce(t)):Me(t),e.$$.on_mount=[]})),a.forEach(yt)}function Tt(e,t){var n=e.$$;null!==n.fragment&&(Me(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Dt(e,t){-1===e.$$.dirty[0]&&(dt.push(e),vt||(vt=!0,gt.then(xt)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Rt(e,t,n,r,i,o,l){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1],a=ue;ot(e);var c=e.$$={fragment:null,ctx:null,props:o,update:$e,not_equal:i,bound:_e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:_e(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};l&&l(c.root);var u=!1;if(c.ctx=n?n(e,t.props||{},(function(t,n){var r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=r)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](r),u&&Dt(e,t)),n})):[],c.update(),u=!0,Me(c.before_update),c.fragment=!!r&&r(c.ctx),t.target){if(t.hydrate){var f=et(t.target);c.fragment&&c.fragment.l(f),f.forEach(Ue)}else c.fragment&&c.fragment.c();t.intro&&Ot(e.$$.fragment),Nt(e,t.target,t.anchor,t.customElement),xt()}ot(a)}var At=function(){function e(){pe(this,e)}return he(e,[{key:"$destroy",value:function(){Tt(this,1),this.$destroy=$e}},{key:"$on",value:function(e,t){var n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},{key:"$set",value:function(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}]),e}();const Pt=(e,t)=>ct(e,t),zt=e=>ut(e);function It(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}function jt(e){var t,n,r,i,o,l,s,a,c,u,f,d,h,p,m,g,v,y,b,w,x,k,S,C;return{c:function(){t=We("button"),n=Je("svg"),r=Je("title"),i=Ke("prosemirror"),o=Je("desc"),l=Ke("Created using Figma"),s=Je("use"),a=Je("use"),c=Je("use"),u=Je("use"),f=Je("use"),d=Je("use"),h=Je("use"),p=Je("defs"),m=Je("path"),g=Je("path"),v=Je("path"),y=Je("path"),b=Je("path"),w=Je("path"),x=Je("path"),Ze(s,"xlink:href","#a"),Xe(s,"transform","matrix(2 0 0 2 118 116)"),Xe(s,"fill","#FFF"),Ze(a,"xlink:href","#b"),Xe(a,"transform","rotate(16 59.054 420.192) scale(2)"),Xe(a,"fill","#FFF"),Ze(c,"xlink:href","#c"),Xe(c,"transform","matrix(2 0 0 2 154.024 141.58)"),Xe(c,"fill","#363755"),Ze(u,"xlink:href","#d"),Xe(u,"transform","matrix(2 0 0 2 220 334.8)"),Xe(u,"fill","#FFF"),Ze(f,"xlink:href","#e"),Xe(f,"transform","matrix(2 0 0 2 218.826 262.052)"),Xe(f,"fill","#363755"),Ze(d,"xlink:href","#f"),Xe(d,"transform","matrix(2 0 0 2 197.108 184.998)"),Xe(d,"fill","#FFF"),Ze(h,"xlink:href","#g"),Xe(h,"transform","matrix(2 0 0 2 221.8 216)"),Xe(h,"fill","#363755"),Xe(m,"id","a"),Xe(m,"d","M73.5 0C32.859 0 0 32.859 0 73.5S32.859 147 73.5 147 147 114.141 147 73.5 114.069 0 73.5\n        0z"),Xe(g,"id","b"),Xe(g,"d","M193.601 107.116c0-13.376 8.238-23.91\n        20.619-31.153-2.244-7.447-5.19-14.6-8.824-21.32-13.886\n        3.633-25.12-1.799-34.568-11.26-9.449-9.437-12.344-20.672-8.709-34.571A111.362 111.362 0 0 0\n        140.799 0c-7.243 12.37-20.339 20.594-33.689 20.594-13.363\n        0-26.446-8.225-33.701-20.594A110.888 110.888 0 0 0 52.1 8.812c3.634 13.9.753 25.134-8.721\n        34.57-9.436 9.462-20.67 14.894-34.569 11.26A112.178 112.178 0 0 0 0 75.963c12.369 7.243\n        20.593 17.777 20.593 31.153 0 13.352-8.224 26.448-20.593 33.704a113.338 113.338 0 0 0 8.811\n        21.321c13.899-3.634 25.133-.752 34.569 8.697 9.448 9.462 12.355 20.696 8.721 34.57a112.653\n        112.653 0 0 0 21.32 8.837c7.243-12.407 20.338-20.619 33.702-20.619 13.35 0 26.446 8.225\n        33.701 20.619a114.22 114.22 0 0 0 21.32-8.837c-3.634-13.874-.752-25.108 8.709-34.57\n        9.449-9.437 20.683-14.869 34.569-11.26a112.343 112.343 0 0 0\n        8.823-21.321c-12.406-7.256-20.644-17.789-20.644-31.141zm-86.491 46.57c-25.732\n        0-46.58-20.849-46.58-46.57 0-25.733 20.86-46.595 46.58-46.595 25.732 0 46.567 20.875 46.567\n        46.595 0 25.734-20.835 46.57-46.567 46.57z"),Xe(v,"id","c"),Xe(v,"d","M98.088 49.91c-6.9 83.9 10.8 103.401 10.8 103.401s-55.1\n        5.499-82.7-13.401c-30.5-20.9-26-67.5-25.9-94.6.1-28.4 25.6-45.8 49.9-45.3 29.1.5 50.2 21.6\n        47.9 49.9z"),Xe(y,"id","d"),Xe(y,"d","M.1.1c12.2 33.3 22.5 42.7 40 55.2 25.3 18 36.6 17.5 76.3 41C78.1 60.3 30.8 45.7 0 0l.1.1z"),Xe(b,"id","e"),Xe(b,"d","M.687 36.474c3 13.3 17.9 29.9 30.4 41.6 24.8 23.2 42 22.4 86\n        54.7-18.2-51.8-18.8-62-43.5-106.1-24.7-44-67.6-20.3-67.6-20.3s-8.4 16.6-5.3 29.9v.2z"),Xe(w,"id","f"),Xe(w,"d","M38.346 11.5s-4-11.6-18-11.5c-30 .2-28.8 52.1 16.9 52 39.6-.1 39.2-49.4\n        16.1-49.6-10.2-.2-15 9.1-15 9.1z"),Xe(x,"id","g"),Xe(x,"d","M26.5 15c10.8 0 2 14.9-.6 20.9-1.8-8.4-10.2-20.9.6-20.9zM10.2.1C4.6.1 0 4.6 0 10.3c0 5.6\n        4.5 10.2 10.2 10.2 5.6 0 10.2-4.5 10.2-10.2C20.4 4.7 15.9.1 10.2.1zM40.7 0c-4.8 0-8.8\n        4.5-8.8 10.2 0 5.6 3.9 10.2 8.8 10.2 4.8 0 8.8-4.5 8.8-10.2C49.5 4.6 45.6 0 40.7 0z"),Xe(n,"width","530"),Xe(n,"height","530"),Xe(n,"viewBox","0 0 530 530"),Xe(n,"xmlns","http://www.w3.org/2000/svg"),Xe(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),Xe(n,"class","svelte-1lt2k10"),Xe(t,"class",k=Le("floating-btn ".concat(e[0]))+" svelte-1lt2k10")},m:function(k,$){Ve(k,t,$),qe(t,n),qe(n,r),qe(r,i),qe(n,o),qe(o,l),qe(n,s),qe(n,a),qe(n,c),qe(n,u),qe(n,f),qe(n,d),qe(n,h),qe(n,p),qe(p,m),qe(p,g),qe(p,v),qe(p,y),qe(p,b),qe(p,w),qe(p,x),S||(C=Ye(t,"click",e[1]),S=!0)},p:function(e,n){1&Se(n,1)[0]&&k!==(k=Le("floating-btn ".concat(e[0]))+" svelte-1lt2k10")&&Xe(t,"class",k)},i:$e,o:$e,d:function(e){e&&Ue(t),S=!1,C()}}}function Ft(e,t,n){var r=t.buttonPosition;return e.$$set=function(e){"buttonPosition"in e&&n(0,r=e.buttonPosition)},[r,function(t){ft.call(this,e,t)}]}It(".floating-btn.svelte-1lt2k10.svelte-1lt2k10{background:#363755;border:0;border-radius:50%;box-shadow:0 0 30px rgba(34, 34, 34, 0.3);cursor:pointer;position:fixed;padding:6px;transition:opacity 0.3s;-webkit-transition:opacity 0.3s;z-index:99999}.floating-btn.bottom-right.svelte-1lt2k10.svelte-1lt2k10{bottom:16px;right:16px}.floating-btn.bottom-left.svelte-1lt2k10.svelte-1lt2k10{bottom:16px;left:16px}.floating-btn.top-right.svelte-1lt2k10.svelte-1lt2k10{top:16px;right:16px}.floating-btn.top-left.svelte-1lt2k10.svelte-1lt2k10{top:16px;left:16px}.floating-btn.svelte-1lt2k10.svelte-1lt2k10:hover{opacity:0.7}.floating-btn.svelte-1lt2k10>svg.svelte-1lt2k10{display:block;width:34px;height:34px;position:relative}");var Bt=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,Ft,jt,Te,{buttonPosition:0}),t}return he(i)}(At);function Lt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Vt=[];function Ut(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e,r=new Set;function i(n){if(Te(e,n)&&(e=n,t)){var i,o=!Vt.length,l=Lt(r);try{for(l.s();!(i=l.n()).done;){var s=i.value;s[1](),Vt.push(s,e)}}catch(e){l.e(e)}finally{l.f()}if(o){for(var a=0;a<Vt.length;a+=2)Vt[a][0](Vt[a+1]);Vt.length=0}}}function o(t){i(t(e))}function l(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$e,s=[o,l];return r.add(s),1===r.size&&(t=n(i)||$e),o(e),function(){r.delete(s),0===r.size&&(t(),t=null)}}return{set:i,update:o,subscribe:l}}const Ht="__prosemirror-dev-toolkit__snapshots",Wt=Ut([]),Jt=Ut(),Kt=Ut();let Qt=!0;function Gt(e,t){const n=e.state.schema.nodeFromJSON(t),r=e.state.tr;r.replaceWith(0,e.state.doc.nodeSize-2,n.content),e.dispatch(r)}function Yt(e,t){const n={name:e,timestamp:Date.now(),doc:t};Wt.update((e=>[n,...e]))}function Xt(e){Wt.update((t=>t.map((t=>t.timestamp===e.timestamp?e:t))))}function Zt(e){const t=document.createElement("a"),n=new Blob([JSON.stringify(e.doc)],{type:"application/json"});t.href=URL.createObjectURL(n),t.download=`${e.name}.json`,t.click()}function en(e){Wt.update((t=>t.filter((t=>t.timestamp!==e.timestamp))));const t=Re(Jt);(null==t?void 0:t.timestamp)===e.timestamp&&Jt.set(void 0)}function tn(e,t){const n=n=>e&&!e.contains(n.target)&&!n.defaultPrevented&&t();return document.addEventListener("click",n,!0),{destroy(){document.removeEventListener("click",n,!0)}}}function nn(e){var t,n,r,i,o,l,s,a,c,u,f,d;return{c:function(){t=We("div"),n=We("div"),r=Qe(),i=We("form"),o=We("fieldset"),(l=We("div")).innerHTML='<button class="svelte-1xgo4vn">Submit</button>',s=Qe(),(a=We("legend")).textContent="Doc",c=Qe(),u=We("textarea"),Xe(n,"class","modal-bg svelte-1xgo4vn"),Xe(l,"class","submit-container svelte-1xgo4vn"),Xe(a,"class","svelte-1xgo4vn"),Xe(u,"class","svelte-1xgo4vn"),Xe(o,"class","svelte-1xgo4vn"),Xe(i,"class","paste-content svelte-1xgo4vn"),Xe(t,"class","paste-modal svelte-1xgo4vn"),rt(t,"hidden",!e[0])},m:function(h,p){var m,g;Ve(h,t,p),qe(t,n),qe(t,r),qe(t,i),qe(i,o),qe(o,l),qe(o,s),qe(o,a),qe(o,c),qe(o,u),nt(u,e[1]),f||(d=[Ye(u,"input",e[4]),(g=tn.call(null,o,e[2]),g&&Ne(g.destroy)?g.destroy:$e),Ye(i,"submit",(m=e[3],function(e){return e.preventDefault(),m.call(this,e)}))],f=!0)},p:function(e,n){var r=Se(n,1)[0];2&r&&nt(u,e[1]),1&r&&rt(t,"hidden",!e[0])},i:$e,o:$e,d:function(e){e&&Ue(t),f=!1,Me(d)}}}function rn(e,t,n){var r,i=t.isOpen,o=at();return e.$$set=function(e){"isOpen"in e&&n(0,i=e.isOpen)},[i,r,function(){o("close")},function(){try{o("submit",{doc:JSON.parse(r)})}catch(e){}},function(){r=this.value,n(1,r)}]}!function(){let e=null;try{e=localStorage.getItem(Ht)}catch(e){Qt=!1}if(e&&e.length>0)try{const t=JSON.parse(e);Wt.set(t)}catch(e){console.error("Corrupted snapshots values in localStorage",e)}}(),Wt.subscribe((e=>{Qt&&localStorage.setItem(Ht,JSON.stringify(e))})),It(".hidden.svelte-1xgo4vn.svelte-1xgo4vn{opacity:0;visibility:hidden}.paste-modal.svelte-1xgo4vn.svelte-1xgo4vn{font-size:15px;height:100%;left:0;position:fixed;top:0;width:100%;z-index:1000}.paste-modal.svelte-1xgo4vn>form.svelte-1xgo4vn{display:flex;height:100%;justify-content:center;padding:64px;width:100%}.modal-bg.svelte-1xgo4vn.svelte-1xgo4vn{background:#000;height:100%;left:0;opacity:0.8;position:absolute;top:0;width:100%;z-index:-1}fieldset.svelte-1xgo4vn.svelte-1xgo4vn{border-color:transparent;width:100%;max-width:800px}.submit-container.svelte-1xgo4vn.svelte-1xgo4vn{position:relative;width:100%}button.svelte-1xgo4vn.svelte-1xgo4vn{cursor:pointer;padding:4px 8px;position:absolute;right:0;top:-32px}legend.svelte-1xgo4vn.svelte-1xgo4vn{color:white}textarea.svelte-1xgo4vn.svelte-1xgo4vn{background:#fefcfc;height:100%;width:100%}");var on=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,rn,nn,Te,{isOpen:0}),t}return he(i)}(At);function ln(e){var t,n,r,i,o,l,s,a,c,u,f,d,h,p,m,g,v,y,b,w;return{c:function(){t=We("ul"),n=We("li"),(r=We("button")).textContent="STATE",i=Qe(),o=We("li"),(l=We("button")).textContent="HISTORY",s=Qe(),a=We("li"),(c=We("button")).textContent="PLUGINS",u=Qe(),f=We("li"),(d=We("button")).textContent="SCHEMA",h=Qe(),p=We("li"),(m=We("button")).textContent="STRUCTURE",g=Qe(),v=We("li"),(y=We("button")).textContent="SNAPSHOTS",Xe(r,"class","svelte-b89ziw"),rt(r,"active","state"===e[0]),Xe(l,"class","svelte-b89ziw"),rt(l,"active","history"===e[0]),Xe(c,"class","svelte-b89ziw"),rt(c,"active","plugins"===e[0]),Xe(d,"class","svelte-b89ziw"),rt(d,"active","schema"===e[0]),Xe(m,"class","svelte-b89ziw"),rt(m,"active","structure"===e[0]),Xe(y,"class","svelte-b89ziw"),rt(y,"active","snapshots"===e[0]),Xe(t,"class","tabs-menu svelte-b89ziw")},m:function(x,k){Ve(x,t,k),qe(t,n),qe(n,r),qe(t,i),qe(t,o),qe(o,l),qe(t,s),qe(t,a),qe(a,c),qe(t,u),qe(t,f),qe(f,d),qe(t,h),qe(t,p),qe(p,m),qe(t,g),qe(t,v),qe(v,y),b||(w=[Ye(r,"click",e[2]),Ye(l,"click",e[3]),Ye(c,"click",e[4]),Ye(d,"click",e[5]),Ye(m,"click",e[6]),Ye(y,"click",e[7])],b=!0)},p:function(e,t){var n=Se(t,1)[0];1&n&&rt(r,"active","state"===e[0]),1&n&&rt(l,"active","history"===e[0]),1&n&&rt(c,"active","plugins"===e[0]),1&n&&rt(d,"active","schema"===e[0]),1&n&&rt(m,"active","structure"===e[0]),1&n&&rt(y,"active","snapshots"===e[0])},i:$e,o:$e,d:function(e){e&&Ue(t),b=!1,Me(w)}}}function sn(e,t,n){var r=t.active,i=t.onClickTab;return e.$$set=function(e){"active"in e&&n(0,r=e.active),"onClickTab"in e&&n(1,i=e.onClickTab)},[r,i,function(){return i("state")},function(){return i("history")},function(){return i("plugins")},function(){return i("schema")},function(){return i("structure")},function(){return i("snapshots")}]}It("ul.svelte-b89ziw{display:flex;list-style:none;margin:0;overflow-x:scroll;padding:0}button.svelte-b89ziw{background:transparent;border:0;border-bottom:2px solid transparent;color:#fff;cursor:pointer;height:100%;padding:1em}button.svelte-b89ziw:hover{background:rgba(255, 255, 255, 0.05)}button.active.svelte-b89ziw{border-bottom:2px solid rgb(255, 162, 177)}");var an=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,sn,ln,Te,{active:0,onClickTab:1}),t}return he(i)}(At),cn={exports:{}};!function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1;t.Diff=function(e,t){return[e,t]},t.prototype.diff_main=function(e,n,r,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=i;if(null==e||null==n)throw new Error("Null input. (diff_main)");if(e==n)return e?[new t.Diff(0,e)]:[];void 0===r&&(r=!0);var l=r,s=this.diff_commonPrefix(e,n),a=e.substring(0,s);e=e.substring(s),n=n.substring(s),s=this.diff_commonSuffix(e,n);var c=e.substring(e.length-s);e=e.substring(0,e.length-s),n=n.substring(0,n.length-s);var u=this.diff_compute_(e,n,l,o);return a&&u.unshift(new t.Diff(0,a)),c&&u.push(new t.Diff(0,c)),this.diff_cleanupMerge(u),u},t.prototype.diff_compute_=function(e,r,i,o){var l;if(!e)return[new t.Diff(1,r)];if(!r)return[new t.Diff(n,e)];var s=e.length>r.length?e:r,a=e.length>r.length?r:e,c=s.indexOf(a);if(-1!=c)return l=[new t.Diff(1,s.substring(0,c)),new t.Diff(0,a),new t.Diff(1,s.substring(c+a.length))],e.length>r.length&&(l[0][0]=l[2][0]=n),l;if(1==a.length)return[new t.Diff(n,e),new t.Diff(1,r)];var u=this.diff_halfMatch_(e,r);if(u){var f=u[0],d=u[1],h=u[2],p=u[3],m=u[4],g=this.diff_main(f,h,i,o),v=this.diff_main(d,p,i,o);return g.concat([new t.Diff(0,m)],v)}return i&&e.length>100&&r.length>100?this.diff_lineMode_(e,r,o):this.diff_bisect_(e,r,o)},t.prototype.diff_lineMode_=function(e,r,i){var o=this.diff_linesToChars_(e,r);e=o.chars1,r=o.chars2;var l=o.lineArray,s=this.diff_main(e,r,!1,i);this.diff_charsToLines_(s,l),this.diff_cleanupSemantic(s),s.push(new t.Diff(0,""));for(var a=0,c=0,u=0,f="",d="";a<s.length;){switch(s[a][0]){case 1:u++,d+=s[a][1];break;case n:c++,f+=s[a][1];break;case 0:if(c>=1&&u>=1){s.splice(a-c-u,c+u),a=a-c-u;for(var h=this.diff_main(f,d,!1,i),p=h.length-1;p>=0;p--)s.splice(a,0,h[p]);a+=h.length}u=0,c=0,f="",d=""}a++}return s.pop(),s},t.prototype.diff_bisect_=function(e,r,i){for(var o=e.length,l=r.length,s=Math.ceil((o+l)/2),a=s,c=2*s,u=new Array(c),f=new Array(c),d=0;d<c;d++)u[d]=-1,f[d]=-1;u[a+1]=0,f[a+1]=0;for(var h=o-l,p=h%2!=0,m=0,g=0,v=0,y=0,b=0;b<s&&!((new Date).getTime()>i);b++){for(var w=-b+m;w<=b-g;w+=2){for(var x=a+w,k=(O=w==-b||w!=b&&u[x-1]<u[x+1]?u[x+1]:u[x-1]+1)-w;O<o&&k<l&&e.charAt(O)==r.charAt(k);)O++,k++;if(u[x]=O,O>o)g+=2;else if(k>l)m+=2;else if(p&&($=a+h-w)>=0&&$<c&&-1!=f[$]&&O>=(C=o-f[$]))return this.diff_bisectSplit_(e,r,O,k,i)}for(var S=-b+v;S<=b-y;S+=2){for(var C,$=a+S,E=(C=S==-b||S!=b&&f[$-1]<f[$+1]?f[$+1]:f[$-1]+1)-S;C<o&&E<l&&e.charAt(o-C-1)==r.charAt(l-E-1);)C++,E++;if(f[$]=C,C>o)y+=2;else if(E>l)v+=2;else if(!p){var O;if((x=a+h-S)>=0&&x<c&&-1!=u[x])if(k=a+(O=u[x])-x,O>=(C=o-C))return this.diff_bisectSplit_(e,r,O,k,i)}}}return[new t.Diff(n,e),new t.Diff(1,r)]},t.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),l=t.substring(0,r),s=e.substring(n),a=t.substring(r),c=this.diff_main(o,l,!1,i),u=this.diff_main(s,a,!1,i);return c.concat(u)},t.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function i(e){for(var t="",i=0,l=-1,s=n.length;l<e.length-1;){-1==(l=e.indexOf("\n",i))&&(l=e.length-1);var a=e.substring(i,l+1);(r.hasOwnProperty?r.hasOwnProperty(a):void 0!==r[a])?t+=String.fromCharCode(r[a]):(s==o&&(a=e.substring(i),l=e.length),t+=String.fromCharCode(s),r[a]=s,n[s++]=a),i=l+1}return t}n[0]="";var o=4e4,l=i(e);return o=65535,{chars1:l,chars2:i(t),lineArray:n}},t.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,l=1;;){var s=e.substring(i-l),a=t.indexOf(s);if(-1==a)return o;l+=a,0!=a&&e.substring(i-l)!=t.substring(0,l)||(o=l,l++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(e,t,n){for(var r,o,l,s,a=e.substring(n,n+Math.floor(e.length/4)),c=-1,u="";-1!=(c=t.indexOf(a,c+1));){var f=i.diff_commonPrefix(e.substring(n),t.substring(c)),d=i.diff_commonSuffix(e.substring(0,n),t.substring(0,c));u.length<d+f&&(u=t.substring(c-d,c)+t.substring(c,c+f),r=e.substring(0,n-d),o=e.substring(n+f),l=t.substring(0,c-d),s=t.substring(c+f))}return 2*u.length>=e.length?[r,o,l,s,u]:null}var l,s,a,c,u,f=o(n,r,Math.ceil(n.length/4)),d=o(n,r,Math.ceil(n.length/2));return f||d?(l=d?f&&f[4].length>d[4].length?f:d:f,e.length>t.length?(s=l[0],a=l[1],c=l[2],u=l[3]):(c=l[0],u=l[1],s=l[2],a=l[3]),[s,a,c,u,l[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var r=!1,i=[],o=0,l=null,s=0,a=0,c=0,u=0,f=0;s<e.length;)0==e[s][0]?(i[o++]=s,a=u,c=f,u=0,f=0,l=e[s][1]):(1==e[s][0]?u+=e[s][1].length:f+=e[s][1].length,l&&l.length<=Math.max(a,c)&&l.length<=Math.max(u,f)&&(e.splice(i[o-1],0,new t.Diff(n,l)),e[i[o-1]+1][0]=1,o--,s=--o>0?i[o-1]:-1,a=0,c=0,u=0,f=0,l=null,r=!0)),s++;for(r&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(e[s-1][0]==n&&1==e[s][0]){var d=e[s-1][1],h=e[s][1],p=this.diff_commonOverlap_(d,h),m=this.diff_commonOverlap_(h,d);p>=m?(p>=d.length/2||p>=h.length/2)&&(e.splice(s,0,new t.Diff(0,h.substring(0,p))),e[s-1][1]=d.substring(0,d.length-p),e[s+1][1]=h.substring(p),s++):(m>=d.length/2||m>=h.length/2)&&(e.splice(s,0,new t.Diff(0,d.substring(0,m))),e[s-1][0]=1,e[s-1][1]=h.substring(0,h.length-m),e[s+1][0]=n,e[s+1][1]=d.substring(m),s++),s++}s++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var r=e.charAt(e.length-1),i=n.charAt(0),o=r.match(t.nonAlphaNumericRegex_),l=i.match(t.nonAlphaNumericRegex_),s=o&&r.match(t.whitespaceRegex_),a=l&&i.match(t.whitespaceRegex_),c=s&&r.match(t.linebreakRegex_),u=a&&i.match(t.linebreakRegex_),f=c&&e.match(t.blanklineEndRegex_),d=u&&n.match(t.blanklineStartRegex_);return f||d?5:c||u?4:o&&!s&&a?3:s||a?2:o||l?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var i=e[r-1][1],o=e[r][1],l=e[r+1][1],s=this.diff_commonSuffix(i,o);if(s){var a=o.substring(o.length-s);i=i.substring(0,i.length-s),o=a+o.substring(0,o.length-s),l=a+l}for(var c=i,u=o,f=l,d=n(i,o)+n(o,l);o.charAt(0)===l.charAt(0);){i+=o.charAt(0),o=o.substring(1)+l.charAt(0),l=l.substring(1);var h=n(i,o)+n(o,l);h>=d&&(d=h,c=i,u=o,f=l)}e[r-1][1]!=c&&(c?e[r-1][1]=c:(e.splice(r-1,1),r--),e[r][1]=u,f?e[r+1][1]=f:(e.splice(r+1,1),r--))}r++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var r=!1,i=[],o=0,l=null,s=0,a=!1,c=!1,u=!1,f=!1;s<e.length;)0==e[s][0]?(e[s][1].length<this.Diff_EditCost&&(u||f)?(i[o++]=s,a=u,c=f,l=e[s][1]):(o=0,l=null),u=f=!1):(e[s][0]==n?f=!0:u=!0,l&&(a&&c&&u&&f||l.length<this.Diff_EditCost/2&&a+c+u+f==3)&&(e.splice(i[o-1],0,new t.Diff(n,l)),e[i[o-1]+1][0]=1,o--,l=null,a&&c?(u=f=!0,o=0):(s=--o>0?i[o-1]:-1,u=f=!1),r=!0)),s++;r&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(0,""));for(var r,i=0,o=0,l=0,s="",a="";i<e.length;)switch(e[i][0]){case 1:l++,a+=e[i][1],i++;break;case n:o++,s+=e[i][1],i++;break;case 0:o+l>1?(0!==o&&0!==l&&(0!==(r=this.diff_commonPrefix(a,s))&&(i-o-l>0&&0==e[i-o-l-1][0]?e[i-o-l-1][1]+=a.substring(0,r):(e.splice(0,0,new t.Diff(0,a.substring(0,r))),i++),a=a.substring(r),s=s.substring(r)),0!==(r=this.diff_commonSuffix(a,s))&&(e[i][1]=a.substring(a.length-r)+e[i][1],a=a.substring(0,a.length-r),s=s.substring(0,s.length-r))),i-=o+l,e.splice(i,o+l),s.length&&(e.splice(i,0,new t.Diff(n,s)),i++),a.length&&(e.splice(i,0,new t.Diff(1,a)),i++),i++):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,l=0,o=0,s="",a=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),c=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),c=!0)),i++;c&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var r,i=0,o=0,l=0,s=0;for(r=0;r<e.length&&(1!==e[r][0]&&(i+=e[r][1].length),e[r][0]!==n&&(o+=e[r][1].length),!(i>t));r++)l=i,s=o;return e.length!=r&&e[r][0]===n?s:s+(t-l)},t.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,i=/</g,o=/>/g,l=/\n/g,s=0;s<e.length;s++){var a=e[s][0],c=e[s][1].replace(r,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(l,"&para;<br>");switch(a){case 1:t[s]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case n:t[s]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:t[s]="<span>"+c+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==n&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,r=0,i=0,o=0;o<e.length;o++){var l=e[o][0],s=e[o][1];switch(l){case 1:r+=s.length;break;case n:i+=s.length;break;case 0:t+=Math.max(r,i),r=0,i=0}}return t+Math.max(r,i)},t.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]="+"+encodeURI(e[r][1]);break;case n:t[r]="-"+e[r][1].length;break;case 0:t[r]="="+e[r][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,r){for(var i=[],o=0,l=0,s=r.split(/\t/g),a=0;a<s.length;a++){var c=s[a].substring(1);switch(s[a].charAt(0)){case"+":try{i[o++]=new t.Diff(1,decodeURI(c))}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var u=parseInt(c,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+c);var f=e.substring(l,l+=u);"="==s[a].charAt(0)?i[o++]=new t.Diff(0,f):i[o++]=new t.Diff(n,f);break;default:if(s[a])throw new Error("Invalid diff operation in diff_fromDelta: "+s[a])}}if(l!=e.length)throw new Error("Delta length ("+l+") does not equal source text length ("+e.length+").");return i},t.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},t.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),i=this;function o(e,r){var o=e/t.length,l=Math.abs(n-r);return i.Match_Distance?o+l/i.Match_Distance:l?1:o}var l=this.Match_Threshold,s=e.indexOf(t,n);-1!=s&&(l=Math.min(o(0,s),l),-1!=(s=e.lastIndexOf(t,n+t.length))&&(l=Math.min(o(0,s),l)));var a,c,u=1<<t.length-1;s=-1;for(var f,d=t.length+e.length,h=0;h<t.length;h++){for(a=0,c=d;a<c;)o(h,n+c)<=l?a=c:d=c,c=Math.floor((d-a)/2+a);d=c;var p=Math.max(1,n-c+1),m=Math.min(n+c,e.length)+t.length,g=Array(m+2);g[m+1]=(1<<h)-1;for(var v=m;v>=p;v--){var y=r[e.charAt(v-1)];if(g[v]=0===h?(g[v+1]<<1|1)&y:(g[v+1]<<1|1)&y|(f[v+1]|f[v])<<1|1|f[v+1],g[v]&u){var b=o(h,v-1);if(b<=l){if(l=b,!((s=v-1)>n))break;p=Math.max(1,2*n-s)}}}if(o(h+1,n)>l)break;f=g}return s},t.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},t.prototype.patch_addContext_=function(e,n){if(0!=n.length){if(null===e.start2)throw Error("patch not initialized");for(var r=n.substring(e.start2,e.start2+e.length1),i=0;n.indexOf(r)!=n.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,r=n.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var o=n.substring(e.start2-i,e.start2);o&&e.diffs.unshift(new t.Diff(0,o));var l=n.substring(e.start2+e.length1,e.start2+e.length1+i);l&&e.diffs.push(new t.Diff(0,l)),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+l.length,e.length2+=o.length+l.length}},t.prototype.patch_make=function(e,r,i){var o,l;if("string"==typeof e&&"string"==typeof r&&void 0===i)o=e,(l=this.diff_main(o,r,!0)).length>2&&(this.diff_cleanupSemantic(l),this.diff_cleanupEfficiency(l));else if(e&&"object"==ye(e)&&void 0===r&&void 0===i)l=e,o=this.diff_text1(l);else if("string"==typeof e&&r&&"object"==ye(r)&&void 0===i)o=e,l=r;else{if("string"!=typeof e||"string"!=typeof r||!i||"object"!=ye(i))throw new Error("Unknown call format to patch_make.");o=e,l=i}if(0===l.length)return[];for(var s=[],a=new t.patch_obj,c=0,u=0,f=0,d=o,h=o,p=0;p<l.length;p++){var m=l[p][0],g=l[p][1];switch(c||0===m||(a.start1=u,a.start2=f),m){case 1:a.diffs[c++]=l[p],a.length2+=g.length,h=h.substring(0,f)+g+h.substring(f);break;case n:a.length1+=g.length,a.diffs[c++]=l[p],h=h.substring(0,f)+h.substring(f+g.length);break;case 0:g.length<=2*this.Patch_Margin&&c&&l.length!=p+1?(a.diffs[c++]=l[p],a.length1+=g.length,a.length2+=g.length):g.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(a,d),s.push(a),a=new t.patch_obj,c=0,d=h,u=f)}1!==m&&(u+=g.length),m!==n&&(f+=g.length)}return c&&(this.patch_addContext_(a,d),s.push(a)),s},t.prototype.patch_deepCopy=function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=new t.patch_obj;o.diffs=[];for(var l=0;l<i.diffs.length;l++)o.diffs[l]=new t.Diff(i.diffs[l][0],i.diffs[l][1]);o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,n[r]=o}return n},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var i=0,o=[],l=0;l<e.length;l++){var s,a,c=e[l].start2+i,u=this.diff_text1(e[l].diffs),f=-1;if(u.length>this.Match_MaxBits?-1!=(s=this.match_main(t,u.substring(0,this.Match_MaxBits),c))&&(-1==(f=this.match_main(t,u.substring(u.length-this.Match_MaxBits),c+u.length-this.Match_MaxBits))||s>=f)&&(s=-1):s=this.match_main(t,u,c),-1==s)o[l]=!1,i-=e[l].length2-e[l].length1;else if(o[l]=!0,i=s-c,u==(a=-1==f?t.substring(s,s+u.length):t.substring(s,f+this.Match_MaxBits)))t=t.substring(0,s)+this.diff_text2(e[l].diffs)+t.substring(s+u.length);else{var d=this.diff_main(u,a,!1);if(u.length>this.Match_MaxBits&&this.diff_levenshtein(d)/u.length>this.Patch_DeleteThreshold)o[l]=!1;else{this.diff_cleanupSemanticLossless(d);for(var h,p=0,m=0;m<e[l].diffs.length;m++){var g=e[l].diffs[m];0!==g[0]&&(h=this.diff_xIndex(d,p)),1===g[0]?t=t.substring(0,s+h)+g[1]+t.substring(s+h):g[0]===n&&(t=t.substring(0,s+h)+t.substring(s+this.diff_xIndex(d,p+g[1].length))),g[0]!==n&&(p+=g[1].length)}}}}return[t=t.substring(r.length,t.length-r.length),o]},t.prototype.patch_addPadding=function(e){for(var n=this.Patch_Margin,r="",i=1;i<=n;i++)r+=String.fromCharCode(i);for(i=0;i<e.length;i++)e[i].start1+=n,e[i].start2+=n;var o=e[0],l=o.diffs;if(0==l.length||0!=l[0][0])l.unshift(new t.Diff(0,r)),o.start1-=n,o.start2-=n,o.length1+=n,o.length2+=n;else if(n>l[0][1].length){var s=n-l[0][1].length;l[0][1]=r.substring(l[0][1].length)+l[0][1],o.start1-=s,o.start2-=s,o.length1+=s,o.length2+=s}return 0==(l=(o=e[e.length-1]).diffs).length||0!=l[l.length-1][0]?(l.push(new t.Diff(0,r)),o.length1+=n,o.length2+=n):n>l[l.length-1][1].length&&(s=n-l[l.length-1][1].length,l[l.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s),r},t.prototype.patch_splitMax=function(e){for(var r=this.Match_MaxBits,i=0;i<e.length;i++)if(!(e[i].length1<=r)){var o=e[i];e.splice(i--,1);for(var l=o.start1,s=o.start2,a="";0!==o.diffs.length;){var c=new t.patch_obj,u=!0;for(c.start1=l-a.length,c.start2=s-a.length,""!==a&&(c.length1=c.length2=a.length,c.diffs.push(new t.Diff(0,a)));0!==o.diffs.length&&c.length1<r-this.Patch_Margin;){var f=o.diffs[0][0],d=o.diffs[0][1];1===f?(c.length2+=d.length,s+=d.length,c.diffs.push(o.diffs.shift()),u=!1):f===n&&1==c.diffs.length&&0==c.diffs[0][0]&&d.length>2*r?(c.length1+=d.length,l+=d.length,u=!1,c.diffs.push(new t.Diff(f,d)),o.diffs.shift()):(d=d.substring(0,r-c.length1-this.Patch_Margin),c.length1+=d.length,l+=d.length,0===f?(c.length2+=d.length,s+=d.length):u=!1,c.diffs.push(new t.Diff(f,d)),d==o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(d.length))}a=(a=this.diff_text2(c.diffs)).substring(a.length-this.Patch_Margin);var h=this.diff_text1(o.diffs).substring(0,this.Patch_Margin);""!==h&&(c.length1+=h.length,c.length2+=h.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=h:c.diffs.push(new t.Diff(0,h))),u||e.splice(++i,0,c)}}},t.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},t.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var i=e.split("\n"),o=0,l=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;o<i.length;){var s=i[o].match(l);if(!s)throw new Error("Invalid patch string: "+i[o]);var a=new t.patch_obj;for(r.push(a),a.start1=parseInt(s[1],10),""===s[2]?(a.start1--,a.length1=1):"0"==s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),""===s[4]?(a.start2--,a.length2=1):"0"==s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),o++;o<i.length;){var c=i[o].charAt(0);try{var u=decodeURI(i[o].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==c)a.diffs.push(new t.Diff(n,u));else if("+"==c)a.diffs.push(new t.Diff(1,u));else if(" "==c)a.diffs.push(new t.Diff(0,u));else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+u)}o++}}return r},(t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:e="+";break;case n:e="-";break;case 0:e=" "}t[r+1]=e+encodeURI(this.diffs[r][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0}(cn);var un=cn.exports,fn="function"==typeof Symbol&&"symbol"===ye(Symbol.iterator)?function(e){return ye(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ye(e)},dn=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},hn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pn=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var l=i.get;return void 0!==l?l.call(r):void 0},mn=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+ye(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},gn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==ye(t)&&"function"!=typeof t?e:t},vn=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},yn=function(){function e(t){dn(this,e),this.selfOptions=t||{},this.pipes={}}return hn(e,[{key:"options",value:function(e){return e&&(this.selfOptions=e),this.selfOptions}},{key:"pipe",value:function(e,t){var n=t;if("string"==typeof e){if(void 0===n)return this.pipes[e];this.pipes[e]=n}if(e&&e.name){if((n=e).processor===this)return n;this.pipes[n.name]=n}return n.processor=this,n}},{key:"process",value:function(e,t){var n=e;n.options=this.options();for(var r=t||e.pipe||"default",i=void 0,o=void 0;r;)void 0!==n.nextAfterChildren&&(n.next=n.nextAfterChildren,n.nextAfterChildren=null),"string"==typeof r&&(r=this.pipe(r)),r.process(n),o=n,i=r,r=null,n&&n.next&&(n=n.next,r=o.nextPipe||n.pipe||i);return n.hasResult?n.result:void 0}}]),e}(),bn=function(){function e(t){dn(this,e),this.name=t,this.filters=[]}return hn(e,[{key:"process",value:function(e){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var t=this.debug,n=this.filters.length,r=e,i=0;i<n;i++){var o=this.filters[i];if(t&&this.log("filter: "+o.filterName),o(r),"object"===(void 0===r?"undefined":fn(r))&&r.exiting){r.exiting=!1;break}}!r.next&&this.resultCheck&&this.resultCheck(r)}},{key:"log",value:function(e){console.log("[jsondiffpatch] "+this.name+" pipe, "+e)}},{key:"append",value:function(){var e;return(e=this.filters).push.apply(e,arguments),this}},{key:"prepend",value:function(){var e;return(e=this.filters).unshift.apply(e,arguments),this}},{key:"indexOf",value:function(e){if(!e)throw new Error("a filter name is required");for(var t=0;t<this.filters.length;t++)if(this.filters[t].filterName===e)return t;throw new Error("filter not found: "+e)}},{key:"list",value:function(){return this.filters.map((function(e){return e.filterName}))}},{key:"after",value:function(e){var t=this.indexOf(e),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(t+1,0),Array.prototype.splice.apply(this.filters,n),this}},{key:"before",value:function(e){var t=this.indexOf(e),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(t,0),Array.prototype.splice.apply(this.filters,n),this}},{key:"replace",value:function(e){var t=this.indexOf(e),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(t,1),Array.prototype.splice.apply(this.filters,n),this}},{key:"remove",value:function(e){var t=this.indexOf(e);return this.filters.splice(t,1),this}},{key:"clear",value:function(){return this.filters.length=0,this}},{key:"shouldHaveResult",value:function(e){if(!1!==e){if(!this.resultCheck){var t=this;return this.resultCheck=function(e){if(!e.hasResult){console.log(e);var n=new Error(t.name+" failed");throw n.noResult=!0,n}},this}}else this.resultCheck=null}}]),e}(),wn=function(){function e(){dn(this,e)}return hn(e,[{key:"setResult",value:function(e){return this.result=e,this.hasResult=!0,this}},{key:"exit",value:function(){return this.exiting=!0,this}},{key:"switchTo",value:function(e,t){return"string"==typeof e||e instanceof bn?this.nextPipe=e:(this.next=e,t&&(this.nextPipe=t)),this}},{key:"push",value:function(e,t){return e.parent=this,void 0!==t&&(e.childName=t),e.root=this.root||this,e.options=e.options||this.options,this.children?(this.children[this.children.length-1].next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this}}]),e}(),xn="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array};function kn(e){if("object"!==(void 0===e?"undefined":fn(e)))return e;if(null===e)return null;if(xn(e))return e.map(kn);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return t=/^\/(.*)\/([gimyu]*)$/.exec(e.toString()),new RegExp(t[1],t[2]);var t,n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=kn(e[r]));return n}var Sn=function(e){function t(e,n){dn(this,t);var r=gn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.left=e,r.right=n,r.pipe="diff",r}return mn(t,e),hn(t,[{key:"setResult",value:function(e){if(this.options.cloneDiffValues&&"object"===(void 0===e?"undefined":fn(e))){var t="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:kn;"object"===fn(e[0])&&(e[0]=t(e[0])),"object"===fn(e[1])&&(e[1]=t(e[1]))}return wn.prototype.setResult.apply(this,arguments)}}]),t}(wn),Cn=function(e){function t(e,n){dn(this,t);var r=gn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.left=e,r.delta=n,r.pipe="patch",r}return mn(t,e),t}(wn),$n=function(e){function t(e){dn(this,t);var n=gn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.delta=e,n.pipe="reverse",n}return mn(t,e),t}(wn),En="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},On=function(e){if(e.left!==e.right)if(void 0!==e.left)if(void 0!==e.right){if("function"==typeof e.left||"function"==typeof e.right)throw new Error("functions are not supported");e.leftType=null===e.left?"null":fn(e.left),e.rightType=null===e.right?"null":fn(e.right),e.leftType===e.rightType&&"boolean"!==e.leftType&&"number"!==e.leftType?("object"===e.leftType&&(e.leftIsArray=En(e.left)),"object"===e.rightType&&(e.rightIsArray=En(e.right)),e.leftIsArray===e.rightIsArray?e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit()):e.setResult([e.left,e.right]).exit()):e.setResult([e.left,e.right]).exit()}else e.setResult([e.left,0,0]).exit();else{if("function"==typeof e.right)throw new Error("functions are not supported");e.setResult([e.right]).exit()}else e.setResult(void 0).exit()};On.filterName="trivial";var _n=function(e){if(void 0!==e.delta){if(e.nested=!En(e.delta),!e.nested)if(1!==e.delta.length)if(2!==e.delta.length)3===e.delta.length&&0===e.delta[2]&&e.setResult(void 0).exit();else{if(e.left instanceof RegExp){var t=/^\/(.*)\/([gimyu]+)$/.exec(e.delta[1]);if(t)return void e.setResult(new RegExp(t[1],t[2])).exit()}e.setResult(e.delta[1]).exit()}else e.setResult(e.delta[0]).exit()}else e.setResult(e.left).exit()};_n.filterName="trivial";var Mn=function(e){void 0!==e.delta?(e.nested=!En(e.delta),e.nested||(1!==e.delta.length?2!==e.delta.length?3===e.delta.length&&0===e.delta[2]&&e.setResult([e.delta[0]]).exit():e.setResult([e.delta[1],e.delta[0]]).exit():e.setResult([e.delta[0],0,0]).exit())):e.setResult(e.delta).exit()};function Nn(e){if(e&&e.children){for(var t=e.children.length,n=void 0,r=e.result,i=0;i<t;i++)void 0!==(n=e.children[i]).result&&((r=r||{})[n.childName]=n.result);r&&e.leftIsArray&&(r._t="a"),e.setResult(r).exit()}}function Tn(e){if(!e.leftIsArray&&"object"===e.leftType){var t=void 0,n=void 0,r=e.options.propertyFilter;for(t in e.left)Object.prototype.hasOwnProperty.call(e.left,t)&&(r&&!r(t,e)||(n=new Sn(e.left[t],e.right[t]),e.push(n,t)));for(t in e.right)Object.prototype.hasOwnProperty.call(e.right,t)&&(r&&!r(t,e)||void 0===e.left[t]&&(n=new Sn(void 0,e.right[t]),e.push(n,t)));e.children&&0!==e.children.length?e.exit():e.setResult(void 0).exit()}}Mn.filterName="trivial",Nn.filterName="collectChildren",Tn.filterName="objects";var Dn=function(e){if(e.nested&&!e.delta._t){var t=void 0,n=void 0;for(t in e.delta)n=new Cn(e.left[t],e.delta[t]),e.push(n,t);e.exit()}};Dn.filterName="objects";var Rn=function(e){if(e&&e.children&&!e.delta._t){for(var t=e.children.length,n=void 0,r=0;r<t;r++)n=e.children[r],Object.prototype.hasOwnProperty.call(e.left,n.childName)&&void 0===n.result?delete e.left[n.childName]:e.left[n.childName]!==n.result&&(e.left[n.childName]=n.result);e.setResult(e.left).exit()}};Rn.filterName="collectChildren";var An=function(e){if(e.nested&&!e.delta._t){var t=void 0,n=void 0;for(t in e.delta)n=new $n(e.delta[t]),e.push(n,t);e.exit()}};function Pn(e){if(e&&e.children&&!e.delta._t){for(var t=e.children.length,n=void 0,r={},i=0;i<t;i++)r[(n=e.children[i]).childName]!==n.result&&(r[n.childName]=n.result);e.setResult(r).exit()}}An.filterName="objects",Pn.filterName="collectChildren";var zn=function(e,t,n,r){return e[n]===t[r]},In="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},jn="function"==typeof Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]===t)return r;return-1};function Fn(e,t,n,r,i){var o=e[n],l=t[r];if(o===l)return!0;if("object"!==(void 0===o?"undefined":fn(o))||"object"!==(void 0===l?"undefined":fn(l)))return!1;var s=i.objectHash;if(!s)return i.matchByPosition&&n===r;var a=void 0,c=void 0;return"number"==typeof n?(i.hashCache1=i.hashCache1||[],void 0===(a=i.hashCache1[n])&&(i.hashCache1[n]=a=s(o,n))):a=s(o),void 0!==a&&("number"==typeof r?(i.hashCache2=i.hashCache2||[],void 0===(c=i.hashCache2[r])&&(i.hashCache2[r]=c=s(l,r))):c=s(l),void 0!==c&&a===c)}var Bn=function(e){if(e.leftIsArray){var t={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition},n=0,r=0,i=void 0,o=void 0,l=void 0,s=e.left,a=e.right,c=s.length,u=a.length,f=void 0;for(c>0&&u>0&&!t.objectHash&&"boolean"!=typeof t.matchByPosition&&(t.matchByPosition=!function(e,t,n,r){for(var i=0;i<n;i++)for(var o=e[i],l=0;l<r;l++){var s=t[l];if(i!==l&&o===s)return!0}}(s,a,c,u));n<c&&n<u&&Fn(s,a,n,n,t);)i=n,f=new Sn(e.left[i],e.right[i]),e.push(f,i),n++;for(;r+n<c&&r+n<u&&Fn(s,a,c-1-r,u-1-r,t);)o=c-1-r,l=u-1-r,f=new Sn(e.left[o],e.right[l]),e.push(f,l),r++;var d=void 0;if(n+r!==c)if(n+r!==u){delete t.hashCache1,delete t.hashCache2;var h=s.slice(n,c-r),p=a.slice(n,u-r),m=function(e,t,n,r){var i=r||{},o=function(e,t,n,r){var i=e.length,o=t.length,l=void 0,s=void 0,a=[i+1];for(l=0;l<i+1;l++)for(a[l]=[o+1],s=0;s<o+1;s++)a[l][s]=0;for(a.match=n,l=1;l<i+1;l++)for(s=1;s<o+1;s++)n(e,t,l-1,s-1,r)?a[l][s]=a[l-1][s-1]+1:a[l][s]=Math.max(a[l-1][s],a[l][s-1]);return a}(e,t,n||zn,i),l=function(e,t,n,r){for(var i=t.length,o=n.length,l={sequence:[],indices1:[],indices2:[]};0!==i&&0!==o;)e.match(t,n,i-1,o-1,r)?(l.sequence.unshift(t[i-1]),l.indices1.unshift(i-1),l.indices2.unshift(o-1),--i,--o):e[i][o-1]>e[i-1][o]?--o:--i;return l}(o,e,t,i);return"string"==typeof e&&"string"==typeof t&&(l.sequence=l.sequence.join("")),l}(h,p,Fn,t),g=[];for(d=d||{_t:"a"},i=n;i<c-r;i++)jn(m.indices1,i-n)<0&&(d["_"+i]=[s[i],0,0],g.push(i));var v=!0;e.options&&e.options.arrays&&!1===e.options.arrays.detectMove&&(v=!1);var y=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(y=!0);var b=g.length;for(i=n;i<u-r;i++){var w=jn(m.indices2,i-n);if(w<0){var x=!1;if(v&&b>0)for(var k=0;k<b;k++)if(Fn(h,p,(o=g[k])-n,i-n,t)){d["_"+o].splice(1,2,i,3),y||(d["_"+o][0]=""),l=i,f=new Sn(e.left[o],e.right[l]),e.push(f,l),g.splice(k,1),x=!0;break}x||(d[i]=[a[i]])}else o=m.indices1[w]+n,l=m.indices2[w]+n,f=new Sn(e.left[o],e.right[l]),e.push(f,l)}e.setResult(d).exit()}else{for(d=d||{_t:"a"},i=n;i<c-r;i++)d["_"+i]=[s[i],0,0];e.setResult(d).exit()}else{if(c===u)return void e.setResult(void 0).exit();for(d=d||{_t:"a"},i=n;i<u-r;i++)d[i]=[a[i]];e.setResult(d).exit()}}};Bn.filterName="arrays";var Ln=function(e,t){return e-t},qn=function(e){if(e.nested&&"a"===e.delta._t){var t=void 0,n=void 0,r=e.delta,i=e.left,o=[],l=[],s=[];for(t in r)if("_t"!==t)if("_"===t[0]){if(0!==r[t][2]&&3!==r[t][2])throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+r[t][2]);o.push(parseInt(t.slice(1),10))}else 1===r[t].length?l.push({index:parseInt(t,10),value:r[t][0]}):s.push({index:parseInt(t,10),delta:r[t]});for(t=(o=o.sort(Ln)).length-1;t>=0;t--){var a=r["_"+(n=o[t])],c=i.splice(n,1)[0];3===a[2]&&l.push({index:a[1],value:c})}var u=(l=l.sort((m="index",function(e,t){return e[m]-t[m]}))).length;for(t=0;t<u;t++){var f=l[t];i.splice(f.index,0,f.value)}var d=s.length,h=void 0;if(d>0)for(t=0;t<d;t++){var p=s[t];h=new Cn(e.left[p.index],p.delta),e.push(h,p.index)}e.children?e.exit():e.setResult(e.left).exit()}var m};qn.filterName="arrays";var Vn=function(e){if(e&&e.children&&"a"===e.delta._t){for(var t=e.children.length,n=void 0,r=0;r<t;r++)n=e.children[r],e.left[n.childName]=n.result;e.setResult(e.left).exit()}};Vn.filterName="arraysCollectChildren";var Un=function(e){if(e.nested){if("a"===e.delta._t){var t=void 0,n=void 0;for(t in e.delta)"_t"!==t&&(n=new $n(e.delta[t]),e.push(n,t));e.exit()}}else 3===e.delta[2]&&(e.newName="_"+e.delta[1],e.setResult([e.delta[0],parseInt(e.childName.substr(1),10),3]).exit())};Un.filterName="arrays";var Hn=function(e,t,n){if("string"==typeof t&&"_"===t[0])return parseInt(t.substr(1),10);if(In(n)&&0===n[2])return"_"+t;var r=+t;for(var i in e){var o=e[i];if(In(o))if(3===o[2]){var l=parseInt(i.substr(1),10),s=o[1];if(s===+t)return l;l<=r&&s>r?r++:l>=r&&s<r&&r--}else 0===o[2]?parseInt(i.substr(1),10)<=r&&r++:1===o.length&&i<=r&&r--}return r};function Wn(e){if(e&&e.children&&"a"===e.delta._t){for(var t=e.children.length,n=void 0,r={_t:"a"},i=0;i<t;i++){var o=(n=e.children[i]).newName;void 0===o&&(o=Hn(e.delta,n.childName,n.result)),r[o]!==n.result&&(r[o]=n.result)}e.setResult(r).exit()}}Wn.filterName="arraysCollectChildren";var Jn=function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()};Jn.filterName="dates";var Kn=null,Qn=function(e){if(!Kn){var t=void 0;if("undefined"!=typeof diff_match_patch)t="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if(un)try{t=un&&new un}catch(e){t=null}if(!t){if(!e)return null;var n=new Error("text diff_match_patch library not found");throw n.diff_match_patch_not_found=!0,n}Kn={diff:function(e,n){return t.patch_toText(t.patch_make(e,n))},patch:function(e,n){for(var r=t.patch_apply(t.patch_fromText(n),e),i=0;i<r[1].length;i++)r[1][i]||(new Error("text patch failed").textPatchFailed=!0);return r[0]}}}return Kn},Gn=function(e){if("string"===e.leftType){var t=e.options&&e.options.textDiff&&e.options.textDiff.minLength||60;if(e.left.length<t||e.right.length<t)e.setResult([e.left,e.right]).exit();else{var n=Qn();if(n){var r=n.diff;e.setResult([r(e.left,e.right),0,2]).exit()}else e.setResult([e.left,e.right]).exit()}}};Gn.filterName="texts";var Yn=function(e){if(!e.nested&&2===e.delta[2]){var t=Qn(!0).patch;e.setResult(t(e.left,e.delta[0])).exit()}};Yn.filterName="texts";var Xn=function(e){var t,n=void 0,r=void 0,i=void 0,o=void 0,l=null,s=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(n=0,t=(r=e.split("\n")).length;n<t;n++){var a=(i=r[n]).slice(0,1);"@"===a?(l=s.exec(i),r[n]="@@ -"+l[3]+","+l[4]+" +"+l[1]+","+l[2]+" @@"):"+"===a?(r[n]="-"+r[n].slice(1),"+"===r[n-1].slice(0,1)&&(o=r[n],r[n]=r[n-1],r[n-1]=o)):"-"===a&&(r[n]="+"+r[n].slice(1))}return r.join("\n")},Zn=function(e){e.nested||2===e.delta[2]&&e.setResult([Xn(e.delta[0]),0,2]).exit()};Zn.filterName="texts";var er=function(){function e(t){dn(this,e),this.processor=new yn(t),this.processor.pipe(new bn("diff").append(Nn,On,Jn,Gn,Tn,Bn).shouldHaveResult()),this.processor.pipe(new bn("patch").append(Rn,Vn,_n,Yn,Dn,qn).shouldHaveResult()),this.processor.pipe(new bn("reverse").append(Pn,Wn,Mn,Zn,An,Un).shouldHaveResult())}return hn(e,[{key:"options",value:function(){var e;return(e=this.processor).options.apply(e,arguments)}},{key:"diff",value:function(e,t){return this.processor.process(new Sn(e,t))}},{key:"patch",value:function(e,t){return this.processor.process(new Cn(e,t))}},{key:"reverse",value:function(e){return this.processor.process(new $n(e))}},{key:"unpatch",value:function(e,t){return this.patch(e,this.reverse(t))}},{key:"clone",value:function(e){return kn(e)}}]),e}(),tr="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},nr="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},rr=function(e){return"_t"===e?-1:"_"===e.substr(0,1)?parseInt(e.slice(1),10):parseInt(e,10)+.1},ir=function(e,t){return rr(e)-rr(t)},or=function(){function e(){dn(this,e)}return hn(e,[{key:"format",value:function(e,t){var n={};return this.prepareContext(n),this.recurse(n,e,t),this.finalize(n)}},{key:"prepareContext",value:function(e){e.buffer=[],e.out=function(){var e;(e=this.buffer).push.apply(e,arguments)}}},{key:"typeFormattterNotFound",value:function(e,t){throw new Error("cannot format delta type: "+t)}},{key:"typeFormattterErrorFormatter",value:function(e,t){return t.toString()}},{key:"finalize",value:function(e){var t=e.buffer;if(tr(t))return t.join("")}},{key:"recurse",value:function(e,t,n,r,i,o,l){var s=t&&o?o.value:n;if(void 0!==t||void 0!==r){var a=this.getDeltaType(t,o),c="node"===a?"a"===t._t?"array":"object":"";void 0!==r?this.nodeBegin(e,r,i,a,c,l):this.rootBegin(e,a,c);try{(this["format_"+a]||this.typeFormattterNotFound(e,a)).call(this,e,t,s,r,i,o)}catch(n){this.typeFormattterErrorFormatter(e,n,t,s,r,i,o),"undefined"!=typeof console&&console.error&&console.error(n.stack)}void 0!==r?this.nodeEnd(e,r,i,a,c,l):this.rootEnd(e,a,c)}}},{key:"formatDeltaChildren",value:function(e,t,n){var r=this;this.forEachDeltaKey(t,n,(function(i,o,l,s){r.recurse(e,t[i],n?n[o]:void 0,i,o,l,s)}))}},{key:"forEachDeltaKey",value:function(e,t,n){var r,i=nr(e),o="a"===e._t,l={},s=void 0;if(void 0!==t)for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&(void 0!==e[s]||o&&void 0!==e["_"+s]||i.push(s));for(s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=e[s];tr(a)&&3===a[2]&&(l[a[1].toString()]={key:s,value:t&&t[parseInt(s.substr(1))]},!1!==this.includeMoveDestinations&&void 0===t&&void 0===e[a[1]]&&i.push(a[1].toString()))}o?i.sort(ir):i.sort();for(var c=0,u=i.length;c<u;c++){var f=i[c];if(!o||"_t"!==f){var d=o?"number"==typeof f?f:parseInt("_"===(r=f).substr(0,1)?r.slice(1):r,10):f,h=c===u-1;n(f,d,l[d],h)}}}},{key:"getDeltaType",value:function(e,t){if(void 0===e)return void 0!==t?"movedestination":"unchanged";if(tr(e)){if(1===e.length)return"added";if(2===e.length)return"modified";if(3===e.length&&0===e[2])return"deleted";if(3===e.length&&2===e[2])return"textdiff";if(3===e.length&&3===e[2])return"moved"}else if("object"===(void 0===e?"undefined":fn(e)))return"node";return"unknown"}},{key:"parseTextDiff",value:function(e){for(var t=[],n=e.split("\n@@ "),r=0,i=n.length;r<i;r++){var o=n[r],l={pieces:[]},s=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(o).slice(1);l.location={line:s[0],chr:s[1]};for(var a=o.split("\n").slice(1),c=0,u=a.length;c<u;c++){var f=a[c];if(f.length){var d={type:"context"};"+"===f.substr(0,1)?d.type="added":"-"===f.substr(0,1)&&(d.type="deleted"),d.text=f.slice(1),l.pieces.push(d)}}t.push(l)}return t}}]),e}(),lr=Object.freeze({default:or}),sr=function(e){function t(){return dn(this,t),gn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return mn(t,e),hn(t,[{key:"typeFormattterErrorFormatter",value:function(e,t){e.out('<pre class="jsondiffpatch-error">'+t+"</pre>")}},{key:"formatValue",value:function(e,t){e.out("<pre>"+ar(JSON.stringify(t,null,2))+"</pre>")}},{key:"formatTextDiffString",value:function(e,t){var n=this.parseTextDiff(t);e.out('<ul class="jsondiffpatch-textdiff">');for(var r=0,i=n.length;r<i;r++){var o=n[r];e.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+o.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+o.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var l=o.pieces,s=0,a=l.length;s<a;s++){var c=l[s];e.out('<span class="jsondiffpatch-textdiff-'+c.type+'">'+ar(decodeURI(c.text))+"</span>")}e.out("</div></li>")}e.out("</ul>")}},{key:"rootBegin",value:function(e,t,n){var r="jsondiffpatch-"+t+(n?" jsondiffpatch-child-node-type-"+n:"");e.out('<div class="jsondiffpatch-delta '+r+'">')}},{key:"rootEnd",value:function(e){e.out("</div>"+(e.hasArrows?'<script type="text/javascript">setTimeout('+cr.toString()+",10);<\/script>":""))}},{key:"nodeBegin",value:function(e,t,n,r,i){var o="jsondiffpatch-"+r+(i?" jsondiffpatch-child-node-type-"+i:"");e.out('<li class="'+o+'" data-key="'+n+'"><div class="jsondiffpatch-property-name">'+n+"</div>")}},{key:"nodeEnd",value:function(e){e.out("</li>")}},{key:"format_unchanged",value:function(e,t,n){void 0!==n&&(e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,n),e.out("</div>"))}},{key:"format_movedestination",value:function(e,t,n){void 0!==n&&(e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,n),e.out("</div>"))}},{key:"format_node",value:function(e,t,n){var r="a"===t._t?"array":"object";e.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+r+'">'),this.formatDeltaChildren(e,t,n),e.out("</ul>")}},{key:"format_added",value:function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,t[0]),e.out("</div>")}},{key:"format_modified",value:function(e,t){e.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(e,t[0]),e.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(e,t[1]),e.out("</div>")}},{key:"format_deleted",value:function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,t[0]),e.out("</div>")}},{key:"format_moved",value:function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatValue(e,t[0]),e.out('</div><div class="jsondiffpatch-moved-destination">'+t[1]+"</div>"),e.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">\n          <svg width="30" height="60" style="position: absolute; display: none;">\n          <defs>\n              <marker id="markerArrow" markerWidth="8" markerHeight="8"\n                 refx="2" refy="4"\n                     orient="auto" markerUnits="userSpaceOnUse">\n                  <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />\n              </marker>\n          </defs>\n          <path d="M30,0 Q-10,25 26,50"\n            style="stroke: #88f; stroke-width: 2px; fill: none; stroke-opacity: 0.5; marker-end: url(#markerArrow);"\n          ></path>\n          </svg>\n      </div>'),e.hasArrows=!0}},{key:"format_textdiff",value:function(e,t){e.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(e,t[0]),e.out("</div>")}}]),t}(or);function ar(e){for(var t=e,n=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],r=0;r<n.length;r++)t=t.replace(n[r][0],n[r][1]);return t}var cr=function(e){!function(e,t,n){for(var r=e.querySelectorAll(".jsondiffpatch-arrow"),i=0,o=r.length;i<o;i++)n(r[i])}(e||document,0,(function(e){var t=e.parentNode,n=e.children,r=e.style,i=t,o=n[0],l=o.children[1];o.style.display="none";var s,a,c,u=(a=(s=i.querySelector(".jsondiffpatch-moved-destination")).textContent,c=s.innerText,a||c),f=i.parentNode,d=void 0;if(function(e,t){for(var n=e.children,r=0,i=n.length;r<i;r++)(o=n[r]).getAttribute("data-key")===u&&(d=o);var o}(f),d)try{var h=d.offsetTop-i.offsetTop;o.setAttribute("height",Math.abs(h)+6),r.top=-8+(h>0?0:h)+"px";var p=h>0?"M30,0 Q-10,"+Math.round(h/2)+" 26,"+(h-4):"M30,"+-h+" Q-10,"+Math.round(-h/2)+" 26,4";l.setAttribute("d",p),o.style.display=""}catch(e){}}))},ur=function(e,t,n){var r=t||document.body,i="jsondiffpatch-unchanged-",o={showing:i+"showing",hiding:i+"hiding",visible:i+"visible",hidden:i+"hidden"},l=r.classList;if(l){if(!n)return l.remove(o.showing),l.remove(o.hiding),l.remove(o.visible),l.remove(o.hidden),void(!1===e&&l.add(o.hidden));!1===e?(l.remove(o.showing),l.add(o.visible),setTimeout((function(){l.add(o.hiding)}),10)):(l.remove(o.hiding),l.add(o.showing),l.remove(o.hidden));var s=setInterval((function(){cr(r)}),100);setTimeout((function(){l.remove(o.showing),l.remove(o.hiding),!1===e?(l.add(o.hidden),l.remove(o.visible)):(l.add(o.visible),l.remove(o.hidden)),setTimeout((function(){l.remove(o.visible),clearInterval(s)}),n+400)}),n)}},fr=void 0,dr=Object.freeze({showUnchanged:ur,hideUnchanged:function(e,t){return ur(!1,e,t)},default:sr,format:function(e,t){return fr||(fr=new sr),fr.format(e,t)}}),hr=function(e){function t(){dn(this,t);var e=gn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.includeMoveDestinations=!1,e}return mn(t,e),hn(t,[{key:"prepareContext",value:function(e){pn(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepareContext",this).call(this,e),e.indent=function(e){this.indentLevel=(this.indentLevel||0)+(void 0===e?1:e),this.indentPad=new Array(this.indentLevel+1).join("&nbsp;&nbsp;")},e.row=function(t,n){e.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),e.out(e.indentPad),e.out('</pre><pre style="display: inline-block">'),e.out(t),e.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),e.out(n),e.out("</div></td></tr>")}}},{key:"typeFormattterErrorFormatter",value:function(e,t){e.row("",'<pre class="jsondiffpatch-error">'+t+"</pre>")}},{key:"formatTextDiffString",value:function(e,t){var n=this.parseTextDiff(t);e.out('<ul class="jsondiffpatch-textdiff">');for(var r=0,i=n.length;r<i;r++){var o=n[r];e.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+o.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+o.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var l=o.pieces,s=0,a=l.length;s<a;s++){var c=l[s];e.out('<span class="jsondiffpatch-textdiff-'+c.type+'">'+c.text+"</span>")}e.out("</div></li>")}e.out("</ul>")}},{key:"rootBegin",value:function(e,t,n){e.out('<table class="jsondiffpatch-annotated-delta">'),"node"===t&&(e.row("{"),e.indent()),"array"===n&&e.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"rootEnd",value:function(e,t){"node"===t&&(e.indent(-1),e.row("}")),e.out("</table>")}},{key:"nodeBegin",value:function(e,t,n,r,i){e.row("&quot;"+t+"&quot;: {"),"node"===r&&e.indent(),"array"===i&&e.row('"_t": "a",',"Array delta (member names indicate array indices)")}},{key:"nodeEnd",value:function(e,t,n,r,i,o){"node"===r&&e.indent(-1),e.row("}"+(o?"":","))}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(e,t,n){this.formatDeltaChildren(e,t,n)}}]),t}(or),pr=function(e){return'<pre style="display:inline-block">&quot;'+e+"&quot;</pre>"},mr={added:function(e,t,n,r){var i=" <pre>([newValue])</pre>";return void 0===r?"new value"+i:"number"==typeof r?"insert at index "+r+i:"add property "+pr(r)+i},modified:function(e,t,n,r){var i=" <pre>([previousValue, newValue])</pre>";return void 0===r?"modify value"+i:"number"==typeof r?"modify at index "+r+i:"modify property "+pr(r)+i},deleted:function(e,t,n,r){var i=" <pre>([previousValue, 0, 0])</pre>";return void 0===r?"delete value"+i:"number"==typeof r?"remove index "+r+i:"delete property "+pr(r)+i},moved:function(e,t,n,r){return'move from <span title="(position to remove at original state)">index '+r+'</span> to <span title="(position to insert at final state)">index '+e[1]+"</span>"},textdiff:function(e,t,n,r){return"text diff"+(void 0===r?"":"number"==typeof r?" at index "+r:" at property "+pr(r))+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}},gr=function(e,t){var n=this.getDeltaType(t),r=mr[n],i=r&&r.apply(r,Array.prototype.slice.call(arguments,1)),o=JSON.stringify(t,null,2);"textdiff"===n&&(o=o.split("\\n").join('\\n"+\n   "')),e.indent(),e.row(o,i),e.indent(-1)};hr.prototype.format_added=gr,hr.prototype.format_modified=gr,hr.prototype.format_deleted=gr,hr.prototype.format_moved=gr,hr.prototype.format_textdiff=gr;var vr=void 0,yr=Object.freeze({default:hr,format:function(e,t){return vr||(vr=new hr),vr.format(e,t)}}),br=function(e){function t(){dn(this,t);var e=gn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.includeMoveDestinations=!0,e}return mn(t,e),hn(t,[{key:"prepareContext",value:function(e){pn(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepareContext",this).call(this,e),e.result=[],e.path=[],e.pushCurrentOp=function(e){var t=e.op,n=e.value,r={op:t,path:this.currentPath()};void 0!==n&&(r.value=n),this.result.push(r)},e.pushMoveOp=function(e){var t=this.currentPath();this.result.push({op:"move",from:t,path:this.toPath(e)})},e.currentPath=function(){return"/"+this.path.join("/")},e.toPath=function(e){var t=this.path.slice();return t[t.length-1]=e,"/"+t.join("/")}}},{key:"typeFormattterErrorFormatter",value:function(e,t){e.out("[ERROR] "+t)}},{key:"rootBegin",value:function(){}},{key:"rootEnd",value:function(){}},{key:"nodeBegin",value:function(e,t,n){e.path.push(n)}},{key:"nodeEnd",value:function(e){e.path.pop()}},{key:"format_unchanged",value:function(){}},{key:"format_movedestination",value:function(){}},{key:"format_node",value:function(e,t,n){this.formatDeltaChildren(e,t,n)}},{key:"format_added",value:function(e,t){e.pushCurrentOp({op:"add",value:t[0]})}},{key:"format_modified",value:function(e,t){e.pushCurrentOp({op:"replace",value:t[1]})}},{key:"format_deleted",value:function(e){e.pushCurrentOp({op:"remove"})}},{key:"format_moved",value:function(e,t){var n=t[1];e.pushMoveOp(n)}},{key:"format_textdiff",value:function(){throw new Error("Not implemented")}},{key:"format",value:function(e,t){var n={};return this.prepareContext(n),this.recurse(n,e,t),n.result}}]),t}(or),wr=function(e){return e[e.length-1]},xr=function(e,t){var n=Array(t.length+1).fill().map((function(){return[]}));return e.map((function(e){var n=t.map((function(t){return t(e)})).indexOf(!0);return n<0&&(n=t.length),{item:e,position:n}})).reduce((function(e,t){return e[t.position].push(t.item),e}),n)},kr=function(e){return"move"===e.op},Sr=function(e){return"remove"===e.op},Cr=void 0,$r=function(e,t){return Cr||(Cr=new br),function(e){var t,n,r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(xr(e,[kr,Sr]),3),i=r[0],o=r[1],l=r[2],s=(n=function(e,t){var n,r,i,o,l=e.path.split("/"),s=t.path.split("/");return l.length!==s.length?l.length-s.length:(n=wr(l),r=wr(s),i=parseInt(n,10),o=parseInt(r,10),isNaN(i)||isNaN(o)?0:o-i)},(t=o).sort(n),t);return[].concat(vn(s),vn(i),vn(l))}(Cr.format(e,t))},Er=Object.freeze({default:br,partitionOps:xr,format:$r,log:function(e,t){console.log($r(e,t))}});function Or(e){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}}var _r={added:Or(),deleted:Or(),movedestination:Or(),moved:Or(),unchanged:Or(),error:Or(),textDiffLine:Or()},Mr=function(e){function t(){dn(this,t);var e=gn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.includeMoveDestinations=!1,e}return mn(t,e),hn(t,[{key:"prepareContext",value:function(e){pn(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepareContext",this).call(this,e),e.indent=function(e){this.indentLevel=(this.indentLevel||0)+(void 0===e?1:e),this.indentPad=new Array(this.indentLevel+1).join("  "),this.outLine()},e.outLine=function(){this.buffer.push("\n"+(this.indentPad||""))},e.out=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t.length;r<i;r++){var o=t[r].split("\n"),l=o.join("\n"+(this.indentPad||""));this.color&&this.color[0]&&(l=this.color[0](l)),this.buffer.push(l)}},e.pushColor=function(e){this.color=this.color||[],this.color.unshift(e)},e.popColor=function(){this.color=this.color||[],this.color.shift()}}},{key:"typeFormattterErrorFormatter",value:function(e,t){e.pushColor(_r.error),e.out("[ERROR]"+t),e.popColor()}},{key:"formatValue",value:function(e,t){e.out(JSON.stringify(t,null,2))}},{key:"formatTextDiffString",value:function(e,t){var n=this.parseTextDiff(t);e.indent();for(var r=0,i=n.length;r<i;r++){var o=n[r];e.pushColor(_r.textDiffLine),e.out(o.location.line+","+o.location.chr+" "),e.popColor();for(var l=o.pieces,s=0,a=l.length;s<a;s++){var c=l[s];e.pushColor(_r[c.type]),e.out(c.text),e.popColor()}r<i-1&&e.outLine()}e.indent(-1)}},{key:"rootBegin",value:function(e,t,n){e.pushColor(_r[t]),"node"===t&&(e.out("array"===n?"[":"{"),e.indent())}},{key:"rootEnd",value:function(e,t,n){"node"===t&&(e.indent(-1),e.out("array"===n?"]":"}")),e.popColor()}},{key:"nodeBegin",value:function(e,t,n,r,i){e.pushColor(_r[r]),e.out(n+": "),"node"===r&&(e.out("array"===i?"[":"{"),e.indent())}},{key:"nodeEnd",value:function(e,t,n,r,i,o){"node"===r&&(e.indent(-1),e.out("array"===i?"]":"}"+(o?"":","))),o||e.outLine(),e.popColor()}},{key:"format_unchanged",value:function(e,t,n){void 0!==n&&this.formatValue(e,n)}},{key:"format_movedestination",value:function(e,t,n){void 0!==n&&this.formatValue(e,n)}},{key:"format_node",value:function(e,t,n){this.formatDeltaChildren(e,t,n)}},{key:"format_added",value:function(e,t){this.formatValue(e,t[0])}},{key:"format_modified",value:function(e,t){e.pushColor(_r.deleted),this.formatValue(e,t[0]),e.popColor(),e.out(" => "),e.pushColor(_r.added),this.formatValue(e,t[1]),e.popColor()}},{key:"format_deleted",value:function(e,t){this.formatValue(e,t[0])}},{key:"format_moved",value:function(e,t){e.out("==> "+t[1])}},{key:"format_textdiff",value:function(e,t){this.formatTextDiffString(e,t[0])}}]),t}(or),Nr=void 0,Tr=function(e,t){return Nr||(Nr=new Mr),Nr.format(e,t)},Dr=Object.freeze({default:Mr,format:Tr,log:function(e,t){console.log(Tr(e,t))}});Object.freeze({base:lr,html:dr,annotated:yr,jsonpatch:Er,console:Dr});const Rr=new er({arrays:{detectMove:!1,includeValueOnMove:!1},textDiff:{minLength:1}});function Ar(e,t){return Rr.diff(e,t)}const Pr=["docChanged","isGeneric","scrolledIntoView","selectionSet","storedMarksSet"];function zr(e){return{type:e.type,empty:e.empty,anchor:e.anchor,head:e.head,from:e.from,to:e.to}}function Ir(e){return("00"+e).slice(-2)}const jr=e=>{const t=new Date(e);return[Ir(t.getHours()),Ir(t.getMinutes()),Ir(t.getSeconds()),(n=t.getMilliseconds(),("000"+n).slice(-3))].join(":");var n},Fr=/(&lt;\/?[\w\d\s="']+&gt;)/gim,Br=e=>e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(Fr,"<span style='color: cadetblue;'>$&</span>");const Lr=Ut(new Map),qr=Ut([]),Vr=Ut(void 0);function Ur(){Lr.set(new Map),qr.set([]),Vr.set(void 0)}const Hr=["jsonID","empty","anchor","from","head","to"],Wr=["$anchor","$head","$cursor","$to","$from"],Jr=["nodeAfter","nodeBefore","textOffset"];function Kr(e){return Hr.reduce(((t,n)=>(t[n]=e[n],t)),{})}function Qr(e){return Hr.concat(Wr).reduce(((t,n)=>{let r=e[n];if(r&&Wr.includes(n)){const e={};Jr.forEach((t=>{e[t]=r[t]})),r=Object.assign(Object.assign({},r),e)}return t[n]=r,t}),{})}function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yr(e,t,n,r,i){var o=i?[].concat(Ce(i.path),[e]):[];return{id:"[".concat(o.join(","),"]"),index:e,key:t,value:n,depth:r,collapsed:!0,type:Xr(n),path:o,parentId:i?i.id:null,circularOfId:null,children:[]}}function Xr(e){return Array.isArray(e)?"array":e instanceof Map?"map":e instanceof Set?"set":e instanceof Date?"date":null===e?"null":ye(e)}function Zr(e,t,n,r,i,o,l,s,a,c,u){var f;if((null===(f=u.omitKeys)||void 0===f?void 0:f.includes(t))||u.maxDepth&&r>u.maxDepth)return null;var d=Yr(e,t,n,r,o),h=s.get(d.id);if(i?d.collapsed=!1:h&&!c?d.collapsed=h.collapsed:u.shouldExpandNode&&(d.collapsed=!u.shouldExpandNode(d)),l.set(d.id,d),function(e,t,n,r){if(!t)return!0;if(e.collapsed&&(null==t?void 0:t.collapsed))return!1;if(!r.stopCircularRecursion)return!0;if(r.isCircularNode)return r.isCircularNode(e,n);if("object"===e.type||"array"===e.type){var i=n.get(e.value);if(i&&e.id!==i.id)return e.circularOfId=i.id,!1;n.set(e.value,e)}return!0}(d,o,a,u)){var p=u.mapChildren&&u.mapChildren(n,Xr(n),d),m=null!=p?p:function(e,t){switch(t){case"array":return e.map((function(e,t){return[t.toString(),e]}));case"map":return Array.from(e.entries()).map((function(e,t){var n=Se(e,2),r=n[0],i=n[1];return["[map entry ".concat(t,"]"),{"[key]":r,"[value]":i}]}));case"set":return Array.from(e.values()).map((function(e,t){return["[set entry ".concat(t,"]"),e]}));case"object":return Object.entries(e);default:return[]}}(n,Xr(n));d.children=m.map((function(e,t){var n=Se(e,2);return Zr(t,n[0],n[1],r+1,!1,d,l,s,a,c,u)})).filter((function(e){return null!==e}))}return d}function ei(e,t,n){var r=e.slice();return r[14]=t[n],r}function ti(e){var t,n,r,i,o;return{c:function(){t=We("button"),n=Ke("▶"),Xe(t,"class",r=Le("arrow-btn ".concat(e[0].collapsed?"collapsed":""))+" svelte-ngcjq5")},m:function(r,l){Ve(r,t,l),qe(t,n),i||(o=Ye(t,"click",e[9]),i=!0)},p:function(e,n){1&n&&r!==(r=Le("arrow-btn ".concat(e[0].collapsed?"collapsed":""))+" svelte-ngcjq5")&&Xe(t,"class",r)},d:function(e){e&&Ue(t),i=!1,o()}}}function ni(e){var t,n=e[5].formatValue(e[0].value,e[0])+"";return{c:function(){t=Ke(n)},m:function(e,n){Ve(e,t,n)},p:function(e,r){1&r&&n!==(n=e[5].formatValue(e[0].value,e[0])+"")&&tt(t,n)},i:$e,o:$e,d:function(e){e&&Ue(t)}}}function ri(e){var t,n,r,i=e[3];function o(e){return{props:{value:e[0].value,node:e[0],defaultFormatter:e[10]}}}return i&&(t=new i(o(e))),{c:function(){t&&Mt(t.$$.fragment),n=Ge()},m:function(e,i){t&&Nt(t,e,i),Ve(e,n,i),r=!0},p:function(e,r){var l={};if(1&r&&(l.value=e[0].value),1&r&&(l.node=e[0]),i!==(i=e[3])){if(t){$t();var s=t;_t(s.$$.fragment,1,0,(function(){Tt(s,1)})),Et()}i?(Mt((t=new i(o(e))).$$.fragment),Ot(t.$$.fragment,1),Nt(t,n.parentNode,n)):t=null}else i&&t.$set(l)},i:function(e){r||(t&&Ot(t.$$.fragment,e),r=!0)},o:function(e){t&&_t(t.$$.fragment,e),r=!1},d:function(e){e&&Ue(n),t&&Tt(t,e)}}}function ii(e){var t,n,r;return{c:function(){(t=We("button")).textContent="log",Xe(t,"class","log-copy-button svelte-ngcjq5")},m:function(i,o){Ve(i,t,o),n||(r=Ye(t,"click",e[7]),n=!0)},p:$e,d:function(e){e&&Ue(t),n=!1,r()}}}function oi(e){var t,n,r;return{c:function(){(t=We("button")).textContent="copy",Xe(t,"class","log-copy-button svelte-ngcjq5")},m:function(i,o){Ve(i,t,o),n||(r=Ye(t,"click",e[8]),n=!0)},p:$e,d:function(e){e&&Ue(t),n=!1,r()}}}function li(e){for(var t,n,r,i=e[0].children,o=[],l=0;l<i.length;l+=1)o[l]=si(ei(e,i,l));var s=function(e){return _t(o[e],1,1,(function(){o[e]=null}))};return{c:function(){t=We("li"),n=We("ul");for(var e=0;e<o.length;e+=1)o[e].c();Xe(n,"class","svelte-ngcjq5"),Xe(t,"class","row svelte-ngcjq5")},m:function(e,i){Ve(e,t,i),qe(t,n);for(var l=0;l<o.length;l+=1)o[l].m(n,null);r=!0},p:function(e,t){if(1&t){var r;for(i=e[0].children,r=0;r<i.length;r+=1){var l=ei(e,i,r);o[r]?(o[r].p(l,t),Ot(o[r],1)):(o[r]=si(l),o[r].c(),Ot(o[r],1),o[r].m(n,null))}for($t(),r=i.length;r<o.length;r+=1)s(r);Et()}},i:function(e){if(!r){for(var t=0;t<i.length;t+=1)Ot(o[t]);r=!0}},o:function(e){o=o.filter(Boolean);for(var t=0;t<o.length;t+=1)_t(o[t]);r=!1},d:function(e){e&&Ue(t),He(o,e)}}}function si(e){var t,n;return t=new ui({props:{id:e[14].id}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r={};1&n&&(r.id=e[14].id),t.$set(r)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function ai(e){var t,n,r,i,o,l,s,a,c,u,f,d,h,p,m,g,v,y,b,w=e[0].key+"",x=e[2]&&ti(e),k=[ri,ni],S=[];function C(e,t){return e[3]?0:1}a=C(e),c=S[a]=k[a](e);var $=e[1].showLogButton&&ii(e),E=e[1].showCopyButton&&oi(e),O=!e[0].collapsed&&e[2]&&li(e);return{c:function(){t=We("li"),x&&x.c(),n=Qe(),r=We("div"),i=Ke(w),o=Ke(":"),l=Qe(),s=We("div"),c.c(),f=Qe(),d=We("div"),$&&$.c(),h=Qe(),E&&E.c(),m=Qe(),O&&O.c(),g=Ge(),Xe(r,"class","node-key svelte-ngcjq5"),rt(r,"has-children",e[2]),rt(r,"p-left",!e[2]),Xe(s,"class","node-value svelte-ngcjq5"),Xe(s,"data-type",u=e[0].type),rt(s,"expanded",!e[0].collapsed&&e[2]),rt(s,"has-children",e[2]),Xe(d,"class","buttons svelte-ngcjq5"),Xe(t,"class","row svelte-ngcjq5"),Xe(t,"data-tree-id",p=e[0].id),rt(t,"collapsed",e[0].collapsed&&e[2])},m:function(c,u){Ve(c,t,u),x&&x.m(t,null),qe(t,n),qe(t,r),qe(r,i),qe(r,o),qe(t,l),qe(t,s),S[a].m(s,null),qe(t,f),qe(t,d),$&&$.m(d,null),qe(d,h),E&&E.m(d,null),Ve(c,m,u),O&&O.m(c,u),Ve(c,g,u),v=!0,y||(b=[Ye(r,"click",e[9]),Ye(s,"click",e[9])],y=!0)},p:function(e,o){var l=Se(o,1)[0];e[2]?x?x.p(e,l):((x=ti(e)).c(),x.m(t,n)):x&&(x.d(1),x=null),(!v||1&l)&&w!==(w=e[0].key+"")&&tt(i,w),(!v||4&l)&&rt(r,"has-children",e[2]),(!v||4&l)&&rt(r,"p-left",!e[2]);var f=a;(a=C(e))===f?S[a].p(e,l):($t(),_t(S[f],1,1,(function(){S[f]=null})),Et(),(c=S[a])?c.p(e,l):(c=S[a]=k[a](e)).c(),Ot(c,1),c.m(s,null)),(!v||1&l&&u!==(u=e[0].type))&&Xe(s,"data-type",u),(!v||5&l)&&rt(s,"expanded",!e[0].collapsed&&e[2]),(!v||4&l)&&rt(s,"has-children",e[2]),e[1].showLogButton?$?$.p(e,l):(($=ii(e)).c(),$.m(d,h)):$&&($.d(1),$=null),e[1].showCopyButton?E?E.p(e,l):((E=oi(e)).c(),E.m(d,null)):E&&(E.d(1),E=null),(!v||1&l&&p!==(p=e[0].id))&&Xe(t,"data-tree-id",p),(!v||5&l)&&rt(t,"collapsed",e[0].collapsed&&e[2]),!e[0].collapsed&&e[2]?O?(O.p(e,l),5&l&&Ot(O,1)):((O=li(e)).c(),Ot(O,1),O.m(g.parentNode,g)):O&&($t(),_t(O,1,1,(function(){O=null})),Et())},i:function(e){v||(Ot(c),Ot(O),v=!0)},o:function(e){_t(c),_t(O),v=!1},d:function(e){e&&Ue(t),x&&x.d(),S[a].d(),$&&$.d(),E&&E.d(),e&&Ue(m),O&&O.d(e),e&&Ue(g),y=!1,Me(b)}}}function ci(e,t,n){var r,i,o,l,s,a=$e;e.$$.on_destroy.push((function(){return a()}));var c,u=t.id,f=ut("svelte-tree-view"),d=f.treeStore,h=f.propsStore,p=f.rootElementStore;return Ae(e,p,(function(e){return n(12,l=e)})),d.treeMap.subscribe((function(e){var t=e.get(u);t&&c!==t&&n(0,c=t)})),e.$$set=function(e){"id"in e&&n(11,u=e.id)},e.$$.update=function(){if(2048&e.$$.dirty){var t=d.getNode(u);if(!t)throw Error("[svelte-tree-view] TreeViewNode.svelte received undefined node from treeMapStore whereas it should be already unmounted!");n(0,c=t)}1&e.$$.dirty&&n(2,r=c&&c.children.length>0),2&e.$$.dirty&&n(3,o=s.valueComponent)},n(4,i=h.props),a(),a=De(i,(function(e){return n(1,s=e)})),[c,s,r,o,i,h,p,function(){console.info("%c [svelte-tree-view]: Property added to window._node","color: #b8e248"),console.log(c.value);try{"undefined"!=typeof window&&(window._node=c.value)}catch(e){console.error("Failed to set _node, window was undefined")}},function(){try{navigator.clipboard.writeText(JSON.stringify(c.value))}catch(e){console.error("Copying node to clipboard failed: ",e)}},function(){var e;r?d.toggleCollapse(c.id):c.circularOfId&&(d.expandAllNodesToNode(c.circularOfId),null===(e=l.querySelector('li[data-tree-id="'.concat(c.circularOfId,'"]')))||void 0===e||e.scrollIntoView())},function(e){return h.formatValue(e,c)},u]}It("ul.svelte-ngcjq5.svelte-ngcjq5{display:flex;flex-direction:column;height:max-content;list-style:none;padding:0;padding-left:var(--tree-view-left-indent);margin:0;width:100%}li.svelte-ngcjq5.svelte-ngcjq5{align-items:baseline;display:flex;height:max-content;line-height:var(--tree-view-line-height);list-style:none;width:100%}li.svelte-ngcjq5+li.svelte-ngcjq5{margin-top:0.25em}.empty-block.svelte-ngcjq5.svelte-ngcjq5{visibility:hidden}.node-key.svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base0D);margin-right:var(--tree-view-key-margin-right)}.node-key.has-children.svelte-ngcjq5.svelte-ngcjq5{cursor:pointer}.node-key.p-left.svelte-ngcjq5.svelte-ngcjq5{padding-left:1.1em}.node-value.svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base0B);margin-right:0.5em;word-break:break-all}.node-value[data-type=number].svelte-ngcjq5.svelte-ngcjq5,.node-value[data-type=boolean].svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base09)}.node-value[data-type=null].svelte-ngcjq5.svelte-ngcjq5,.node-value[data-type=undefined].svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base08)}.node-value.expanded.svelte-ngcjq5.svelte-ngcjq5{color:var(--tree-view-base03)}.node-value.has-children.svelte-ngcjq5.svelte-ngcjq5{cursor:pointer}.arrow-btn.svelte-ngcjq5.svelte-ngcjq5{background:transparent;border:0;color:var(--tree-view-base0D);cursor:pointer;margin-right:0.7em;padding:0;transition:all 150ms ease 0s;transform:rotateZ(90deg);transform-origin:47% 43%;position:relative;line-height:1.1em;font-size:0.75em}.arrow-btn.collapsed.svelte-ngcjq5.svelte-ngcjq5{transform:rotateZ(0deg)}.buttons.svelte-ngcjq5.svelte-ngcjq5{display:flex;flex-wrap:wrap}.log-copy-button.svelte-ngcjq5.svelte-ngcjq5{background:transparent;border:0;color:var(--tree-view-base0D);cursor:pointer;margin:0;padding:0 0.5em}.log-copy-button.svelte-ngcjq5.svelte-ngcjq5:hover{background:rgba(255, 162, 177, 0.4);border-radius:2px;color:var(--tree-view-base07)}");var ui=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,ci,ai,Te,{id:11}),t}return he(i)}(At);function fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fi(Object(n),!0).forEach((function(t){Gr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hi(e,t,n){var r=e.slice();return r[18]=t[n],r}function pi(e){var t,n;return t=new ui({props:{id:e[18].id}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r={};4&n&&(r.id=e[18].id),t.$set(r)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function mi(e){for(var t,n,r,i=e[2].children,o=[],l=0;l<i.length;l+=1)o[l]=pi(hi(e,i,l));var s=function(e){return _t(o[e],1,1,(function(){o[e]=null}))};return{c:function(){t=We("ul");for(var r=0;r<o.length;r+=1)o[r].c();Xe(t,"class",n=Le("".concat(e[3].class||""," svelte-tree-view"))+" svelte-10nukq0")},m:function(n,i){Ve(n,t,i);for(var l=0;l<o.length;l+=1)o[l].m(t,null);e[13](t),r=!0},p:function(e,l){var a=Se(l,1)[0];if(4&a){var c;for(i=e[2].children,c=0;c<i.length;c+=1){var u=hi(e,i,c);o[c]?(o[c].p(u,a),Ot(o[c],1)):(o[c]=pi(u),o[c].c(),Ot(o[c],1),o[c].m(t,null))}for($t(),c=i.length;c<o.length;c+=1)s(c);Et()}(!r||8&a&&n!==(n=Le("".concat(e[3].class||""," svelte-tree-view"))+" svelte-10nukq0"))&&Xe(t,"class",n)},i:function(e){if(!r){for(var t=0;t<i.length;t+=1)Ot(o[t]);r=!0}},o:function(e){o=o.filter(Boolean);for(var t=0;t<o.length;t+=1)_t(o[t]);r=!1},d:function(n){n&&Ue(t),He(o,n),e[13](null)}}}function gi(e,t,n){var r,i,o,l=$e;e.$$.on_destroy.push((function(){return l()}));var s=t,a=s.data,c=s.theme,u=void 0===c?void 0:c,f=s.showLogButton,d=void 0!==f&&f,h=s.showCopyButton,p=void 0!==h&&h,m=s.valueComponent,g=void 0===m?void 0:m,v=s.recursionOpts,y=void 0===v?{}:v,b=s.valueFormatter,w=void 0===b?void 0:b,x=null,k={maxDepth:16,omitKeys:[],stopCircularRecursion:!1,shouldExpandNode:function(){return!1}},S={showLogButton:d,showCopyButton:p,valueComponent:g,recursionOpts:di(di({},k),y),valueFormatter:w},C=function(e){var t,n,r,i,o,l,s,a=Ut(e),c=(t=a,n=function(e){return e.recursionOpts},o=!Array.isArray(t),l=o?[t]:t,s=n.length<2,i=function(e){var t=!1,r=[],i=0,a=$e,c=function(){if(!i){a();var t=n(o?r[0]:r,e);s?e(t):a=Ne(t)?t:$e}},u=l.map((function(e,n){return De(e,(function(e){r[n]=e,i&=~(1<<n),t&&c()}),(function(){i|=1<<n}))}));return t=!0,c(),function(){Me(u),a()}},{subscribe:Ut(r,i).subscribe});return{props:a,recursionOpts:c,setProps:function(e){a.set(e)},formatValue:function(e,t){var n=Re(a).valueFormatter,r=n?n(e,t):void 0;if(r)return r;switch(t.type){case"array":return"".concat(t.circularOfId?"circular":""," [] ").concat(e.length," items");case"object":return"".concat(t.circularOfId?"circular":""," {} ").concat(Object.keys(e).length," keys");case"map":case"set":return"".concat(t.circularOfId?"circular":""," () ").concat(e.size," entries");case"date":return"".concat(e.toISOString());case"string":return'"'.concat(e,'"');case"boolean":return e?"true":"false";case"symbol":return String(e);default:return e}}}}(S),$=function(){var e=Ut(null);return{set:e.set,subscribe:e.subscribe}}(),E=function(e){var t=Yr(0,"root",[],0,null),n=Ut(t),r=Ut(new Map),i=Ut(new Map);return{tree:n,treeMap:r,defaultRootNode:t,init:function(e,o,l){e?n.set(e):n.set(t),r.set(o),i.set(l)},getNode:function(e){return Re(r).get(e)},toggleCollapse:function(t){var n=Re(r).get(t);if(n){var i=Object.assign(Object.assign({},n),{collapsed:!n.collapsed});r.update((function(e){return new Map(e.set(n.id,i))}));var o=Re(e.recursionOpts);o&&this.expandNodeChildren(i,o)}else console.warn("Attempted to collapse non-existent node: ".concat(t))},expandNodeChildren:function(e,t){var n=this.getNode((null==e?void 0:e.parentId)||"")||null;if(!n)throw Error("No parent in expandNodeChildren for node: "+e);var o=new Map(Re(r)),l=Re(r),s=Re(i),a=Zr(e.index,e.key,e.value,e.depth,!e.collapsed,n,o,l,s,!1,t);a&&(n.children=n.children.map((function(e){return e.id===a.id?a:e})),o.set(a.id,a),o.set(n.id,n),r.set(o),i.set(s))},expandAllNodesToNode:function(e){var t=new Map(Re(r));!function e(t,n){n&&(t.set(n.id,Object.assign(Object.assign({},n),{collapsed:!1})),n.parentId&&e(t,t.get(n.parentId)))}(t,t.get(e)),r.set(t)}}}(C);return ct("svelte-tree-view",{propsStore:C,rootElementStore:$,treeStore:E}),st((function(){$.set(x)})),e.$$set=function(e){n(3,t=Ee(Ee({},t),Be(e))),"data"in e&&n(4,a=e.data),"theme"in e&&n(5,u=e.theme),"showLogButton"in e&&n(6,d=e.showLogButton),"showCopyButton"in e&&n(7,p=e.showCopyButton),"valueComponent"in e&&n(8,g=e.valueComponent),"recursionOpts"in e&&n(9,y=e.recursionOpts),"valueFormatter"in e&&n(10,w=e.valueFormatter)},e.$$.update=function(){if(5568&e.$$.dirty&&n(12,S={showLogButton:d,showCopyButton:p,valueComponent:g,valueFormatter:w,recursionOpts:S.recursionOpts}),6672&e.$$.dirty){var t=di(di({},k),y),r=(null===n(11,o=null==S?void 0:S.recursionOpts)||void 0===o?void 0:o.shouldExpandNode)!==t.shouldExpandNode,i=Re(E.treeMap),l=function(e,t,n,r){var i=new Map,o=new Map;return{treeMap:i,tree:Zr(-1,"root",e,0,!0,null,i,t,o,r,n),iteratedValues:o}}(a,i,t,r),s=l.treeMap,c=l.tree,f=l.iteratedValues;E.init(c,s,f),n(12,S.recursionOpts=t,S),C.setProps(S)}var h;if(33&e.$$.dirty&&u&&x)for(h in u){var m=u[h];x&&h.includes("base")&&m&&x.style.setProperty("--tree-view-".concat(h),m)}},n(1,r=E.tree),l(),l=De(r,(function(e){return n(2,i=e)})),t=Be(t),[x,r,i,t,a,u,d,p,g,y,w,o,S,function(e){ht[e?"unshift":"push"]((function(){n(0,x=e)}))}]}It(".svelte-10nukq0{box-sizing:border-box}.svelte-tree-view.svelte-10nukq0{--tree-view-font-family:'Helvetica Neue', 'Calibri Light', Roboto, sans-serif;--tree-view-font-size:13px;--tree-view-left-indent:0.875em;--tree-view-line-height:1.1;--tree-view-key-margin-right:0.5em}ul.svelte-10nukq0{background:var(--tree-view-base00);font-family:var(--tree-view-font-family);font-size:var(--tree-view-font-size);height:max-content;list-style:none;margin:0;padding:0;width:max-content}");var vi=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,gi,mi,Te,{data:4,theme:5,showLogButton:6,showCopyButton:7,valueComponent:8,recursionOpts:9,valueFormatter:10}),t}return he(i)}(At);It("section.svelte-kkh9zd{border-top:1px solid rgba(255, 162, 177, 0.2);color:#fff;display:flex;height:calc(100% - var(--height-tabs-menu));width:100%}.split-view h2{color:rgb(187, 145, 163);font-family:var(--font-sans);font-size:var(--font-medium);font-weight:400;letter-spacing:1px;margin:0;text-transform:uppercase}.split-view > .left-panel{display:flex;flex-direction:column;flex-grow:1;overflow:scroll;padding:1em}.split-view > .right-panel{border-left:1px solid rgba(255, 162, 177, 0.2);display:flex;flex-direction:column;flex-grow:1;overflow:scroll;padding:1em}.split-view .hidden{visibility:hidden}");var yi=function(e){return{}},bi=function(e){return{class:"right-panel"}},wi=function(e){return{}},xi=function(e){return{class:"left-panel"}};function ki(e){var t,n,r,i=e[1].left,o=Pe(i,e,e[0],xi),l=e[1].right,s=Pe(l,e,e[0],bi);return{c:function(){t=We("section"),o&&o.c(),n=Qe(),s&&s.c(),Xe(t,"class","split-view svelte-kkh9zd")},m:function(e,i){Ve(e,t,i),o&&o.m(t,null),qe(t,n),s&&s.m(t,null),r=!0},p:function(e,t){var n=Se(t,1)[0];o&&o.p&&(!r||1&n)&&je(o,i,e,e[0],r?Ie(i,e[0],n,wi):Fe(e[0]),xi),s&&s.p&&(!r||1&n)&&je(s,l,e,e[0],r?Ie(l,e[0],n,yi):Fe(e[0]),bi)},i:function(e){r||(Ot(o,e),Ot(s,e),r=!0)},o:function(e){_t(o,e),_t(s,e),r=!1},d:function(e){e&&Ue(t),o&&o.d(e),s&&s.d(e)}}}function Si(e,t,n){var r=t.$$slots,i=void 0===r?{}:r,o=t.$$scope;return e.$$set=function(e){"$$scope"in e&&n(0,o=e.$$scope)},[o,i]}var Ci=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,Si,ki,Te,{}),t}return he(i)}(At);function $i(e){var t,n,r,i,o,l=e[3].default,s=Pe(l,e,e[2],null);return{c:function(){t=We("button"),s&&s.c(),Xe(t,"class",n=Le("".concat(e[1].class||""))+" svelte-1bsnhi4"),rt(t,"selected",e[0])},m:function(n,l){Ve(n,t,l),s&&s.m(t,null),r=!0,i||(o=[Ye(t,"click",e[4]),Ye(t,"mouseover",e[5]),Ye(t,"mouseenter",e[6]),Ye(t,"mouseleave",e[7]),Ye(t,"focus",e[8])],i=!0)},p:function(e,i){var o=Se(i,1)[0];s&&s.p&&(!r||4&o)&&je(s,l,e,e[2],r?Ie(l,e[2],o,null):Fe(e[2]),null),(!r||2&o&&n!==(n=Le("".concat(e[1].class||""))+" svelte-1bsnhi4"))&&Xe(t,"class",n),(!r||3&o)&&rt(t,"selected",e[0])},i:function(e){r||(Ot(s,e),r=!0)},o:function(e){_t(s,e),r=!1},d:function(e){e&&Ue(t),s&&s.d(e),i=!1,Me(o)}}}function Ei(e,t,n){var r=t,i=r.$$slots,o=void 0===i?{}:i,l=r.$$scope,s=t.selected,a=void 0!==s&&s;return e.$$set=function(e){n(1,t=Ee(Ee({},t),Be(e))),"selected"in e&&n(0,a=e.selected),"$$scope"in e&&n(2,l=e.$$scope)},t=Be(t),[a,t,l,o,function(t){ft.call(this,e,t)},function(t){ft.call(this,e,t)},function(t){ft.call(this,e,t)},function(t){ft.call(this,e,t)},function(t){ft.call(this,e,t)}]}It("button.svelte-1bsnhi4{background:transparent;border:0;border-radius:2px;color:#d3d3d9;cursor:pointer;font-size:var(--font-small);padding:6px 10px;text-transform:uppercase}button.svelte-1bsnhi4:hover{background:rgba(255, 162, 177, 0.4);color:#fff}button.selected.svelte-1bsnhi4{background:rgba(255, 162, 177, 0.4)}");var Oi=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,Ei,$i,Te,{selected:0}),t}return he(i)}(At);function _i(e){var t;return{c:function(){t=Ke("log")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function Mi(e){var t,n,r,i,o,l,s,a;return(o=new Oi({props:{$$slots:{default:[_i]},$$scope:{ctx:e}}})).$on("click",e[6]),s=new vi({props:{class:"tree-view",data:e[0],showLogButton:!0,showCopyButton:!0,valueFormatter:Pi}}),{c:function(){t=We("div"),n=We("div"),(r=We("h2")).textContent="Current doc",i=Qe(),Mt(o.$$.fragment),l=Qe(),Mt(s.$$.fragment),Xe(n,"class","top-row svelte-1lnyndi"),Xe(t,"slot","left"),Xe(t,"class","left-panel svelte-1lnyndi")},m:function(e,c){Ve(e,t,c),qe(t,n),qe(n,r),qe(n,i),Nt(o,n,null),qe(t,l),Nt(s,t,null),a=!0},p:function(e,t){var n={};1024&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);var r={};1&t&&(r.data=e[0]),s.$set(r)},i:function(e){a||(Ot(o.$$.fragment,e),Ot(s.$$.fragment,e),a=!0)},o:function(e){_t(o.$$.fragment,e),_t(s.$$.fragment,e),a=!1},d:function(e){e&&Ue(t),Tt(o),Tt(s)}}}function Ni(e){var t;return{c:function(){Xe(t=We("span"),"class","caret-icon svelte-1lnyndi"),rt(t,"expanded",e[5])},m:function(e,n){Ve(e,t,n)},p:function(e,n){32&n&&rt(t,"expanded",e[5])},d:function(e){e&&Ue(t)}}}function Ti(e){var t,n;return t=new vi({props:{class:"tree-view",data:e[2]}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r={};4&n&&(r.data=e[2]),t.$set(r)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Di(e){var t;return{c:function(){(t=We("div")).textContent="No active marks",Xe(t,"class","no-marks svelte-1lnyndi")},m:function(e,n){Ve(e,t,n)},p:$e,i:$e,o:$e,d:function(e){e&&Ue(t)}}}function Ri(e){var t,n,r,i,o,l,s,a,c,u,f,d,h,p,m,g,v,y,b;(o=new Oi({props:{class:"selection-btn",$$slots:{default:[Ni]},$$scope:{ctx:e}}})).$on("click",e[7]),s=new vi({props:{class:"tree-view",data:e[1]}});var w=[Di,Ti],x=[];function k(e,t){return 0===e[2].length?0:1}return d=k(e),h=x[d]=w[d](e),y=new vi({props:{class:"tree-view",data:{nodeSize:e[3],childCount:e[4]}}}),{c:function(){t=We("div"),n=We("div"),(r=We("h2")).textContent="Selection",i=Qe(),Mt(o.$$.fragment),l=Qe(),Mt(s.$$.fragment),a=Qe(),c=We("div"),(u=We("h2")).textContent="Active marks",f=Qe(),h.c(),p=Qe(),m=We("div"),(g=We("h2")).textContent="Document stats",v=Qe(),Mt(y.$$.fragment),Xe(n,"class","top-row svelte-1lnyndi"),Xe(t,"slot","right"),Xe(t,"class","right-panel svelte-1lnyndi")},m:function(e,h){Ve(e,t,h),qe(t,n),qe(n,r),qe(n,i),Nt(o,n,null),qe(t,l),Nt(s,t,null),qe(t,a),qe(t,c),qe(c,u),qe(c,f),x[d].m(c,null),qe(t,p),qe(t,m),qe(m,g),qe(m,v),Nt(y,m,null),b=!0},p:function(e,t){var n={};1056&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);var r={};2&t&&(r.data=e[1]),s.$set(r);var i=d;(d=k(e))===i?x[d].p(e,t):($t(),_t(x[i],1,1,(function(){x[i]=null})),Et(),(h=x[d])?h.p(e,t):(h=x[d]=w[d](e)).c(),Ot(h,1),h.m(c,null));var l={};24&t&&(l.data={nodeSize:e[3],childCount:e[4]}),y.$set(l)},i:function(e){b||(Ot(o.$$.fragment,e),Ot(s.$$.fragment,e),Ot(h),Ot(y.$$.fragment,e),b=!0)},o:function(e){_t(o.$$.fragment,e),_t(s.$$.fragment,e),_t(h),_t(y.$$.fragment,e),b=!1},d:function(e){e&&Ue(t),Tt(o),Tt(s),x[d].d(),Tt(y)}}}function Ai(e){var t,n;return t=new Ci({props:{$$slots:{right:[Ri],left:[Mi]},$$scope:{ctx:e}}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r=Se(n,1)[0],i={};1087&r&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Pi(e,t){if("object"===t.type&&e.type)return"{} ".concat(e.type)}function zi(e,t,n){var r=zt("editor-view").view,i=r.state.doc.toJSON(),o=Kr(r.state.selection),l=r.state,s=[],a=r.state.doc.nodeSize,c=r.state.doc.childCount,u=!1;return Vr.subscribe((function(e){if(e){var t=e.state;l=t,n(0,i=t.doc.toJSON()),n(1,o=u?Qr(t.selection):Kr(t.selection)),n(2,s=function(e){if(e.selection.empty){const t=e.selection.$from,n=e.storedMarks;return n?n.map((e=>e.type.name)):t.marks().map((e=>e.type.name))}{const t=e.selection.$head,n=e.selection.$anchor,r=new Set;return t.marks().forEach((e=>r.add(e.type.name))),n.marks().forEach((e=>r.add(e.type.name))),Array.from(r)}}(t)),n(3,a=t.doc.nodeSize),n(4,c=t.doc.childCount)}})),[i,o,s,a,c,u,function(){console.log(i),window._doc=i},function(){n(5,u=!u),n(1,o=u?Qr(l.selection):Kr(l.selection))}]}It('@charset "UTF-8";.top-row.svelte-1lnyndi{align-items:center;display:flex;justify-content:space-between}.left-panel.svelte-1lnyndi{overflow:scroll}.right-panel.svelte-1lnyndi{border-left:1px solid rgba(255, 162, 177, 0.2);flex-grow:0;min-width:200px;width:200px}.split-view .selection-btn{height:24px;width:35px}.caret-icon.svelte-1lnyndi::before{content:"▶"}.caret-icon.expanded.svelte-1lnyndi::before{content:"▼"}.no-marks.svelte-1lnyndi{color:#85d9ef;margin:0.5em 0 1em 1em}.split-view .tree-view{margin:0.5em 0 1em 0}');var Ii=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,zi,Ai,Te,{}),t}return he(i)}(At);function ji(e,t,n){if("array"===t)return[]}function Fi(e,t){if("array"===t&&0===e[1]&&0===e[2])return[];if("array"===t&&"string"==typeof e[0]&&0===e[1]&&2===e[2])return[];if("array"===t&&1===e.length&&"object"==typeof e[0])return[];if("object"!==t||"a"!==e._t)return;const n=[];for(const t in e)"_t"!==t&&("_"===t.charAt(0)?n.push([t.substr(1),e[t]]):n.push([t,e[t]]));return n}function Bi(e,t,n){var r=e.slice();return r[7]=t[n],r[9]=n,r}function Li(e,t,n){var r=e.slice();return r[10]=t[n],r}function qi(e){var t,n,r,i=e[7].entries.length+"";return{c:function(){t=Ke("["),n=Ke(i),r=Ke("]")},m:function(e,i){Ve(e,t,i),Ve(e,n,i),Ve(e,r,i)},p:function(e,t){1&t&&i!==(i=e[7].entries.length+"")&&tt(n,i)},d:function(e){e&&Ue(t),e&&Ue(n),e&&Ue(r)}}}function Vi(e){var t;return{c:function(){Xe(t=We("span"),"class","caret-icon svelte-s055jw"),rt(t,"expanded",e[7].expanded)},m:function(e,n){Ve(e,t,n)},p:function(e,n){1&n&&rt(t,"expanded",e[7].expanded)},d:function(e){e&&Ue(t)}}}function Ui(e){for(var t,n=e[7].entries,r=[],i=0;i<n.length;i+=1)r[i]=Hi(Li(e,n,i));return{c:function(){for(var e=0;e<r.length;e+=1)r[e].c();t=Ge()},m:function(e,n){for(var i=0;i<r.length;i+=1)r[i].m(e,n);Ve(e,t,n)},p:function(e,i){if(7&i){var o;for(n=e[7].entries,o=0;o<n.length;o+=1){var l=Li(e,n,o);r[o]?r[o].p(l,i):(r[o]=Hi(l),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(e){He(r,e),e&&Ue(t)}}}function Hi(e){var t,n,r,i,o,l,s,a=(null===(t=e[10])||void 0===t?void 0:t.timeStr)+"";function c(){return e[6](e[10],e[9])}return{c:function(){var t;n=We("li"),r=We("button"),i=Ke(a),o=Qe(),Xe(r,"class","p-left svelte-s055jw"),Xe(n,"class","svelte-s055jw"),rt(n,"selected",e[1]===(null===(t=e[10])||void 0===t?void 0:t.id))},m:function(e,t){Ve(e,n,t),qe(n,r),qe(r,i),qe(n,o),l||(s=Ye(r,"click",c),l=!0)},p:function(t,r){var o,l;e=t,1&r&&a!==(a=(null===(o=e[10])||void 0===o?void 0:o.timeStr)+"")&&tt(i,a),3&r&&rt(n,"selected",e[1]===(null===(l=e[10])||void 0===l?void 0:l.id))},d:function(e){e&&Ue(n),l=!1,s()}}}function Wi(e){var t,n,r,i,o,l,s,a,c,u,f,d,h=(null===(t=e[7])||void 0===t||null===(n=t.topEntry)||void 0===n?void 0:n.timeStr)+"",p=e[7].isGroup&&qi(e),m=e[7].isGroup&&e[7].entries.length>1&&Vi(e);function g(){return e[4](e[7],e[9])}function v(){return e[5](e[7])}var y=e[7].isGroup&&e[7].expanded&&Ui(e);return{c:function(){var t,n;r=We("li"),i=We("button"),o=We("span"),l=Ke(h),s=Qe(),p&&p.c(),a=Qe(),m&&m.c(),c=Qe(),y&&y.c(),u=Ge(),Xe(i,"class","svelte-s055jw"),rt(i,"is-group",e[7].isGroup),Xe(r,"class","svelte-s055jw"),rt(r,"selected",!e[7].expanded&&e[1]===(null===(t=e[7])||void 0===t||null===(n=t.topEntry)||void 0===n?void 0:n.id))},m:function(e,t){Ve(e,r,t),qe(r,i),qe(i,o),qe(o,l),qe(o,s),p&&p.m(o,null),qe(i,a),m&&m.m(i,null),Ve(e,c,t),y&&y.m(e,t),Ve(e,u,t),f||(d=[Ye(i,"click",g),Ye(i,"dblclick",v)],f=!0)},p:function(t,n){var s,a,c,f;e=t,1&n&&h!==(h=(null===(s=e[7])||void 0===s||null===(a=s.topEntry)||void 0===a?void 0:a.timeStr)+"")&&tt(l,h),e[7].isGroup?p?p.p(e,n):((p=qi(e)).c(),p.m(o,null)):p&&(p.d(1),p=null),e[7].isGroup&&e[7].entries.length>1?m?m.p(e,n):((m=Vi(e)).c(),m.m(i,null)):m&&(m.d(1),m=null),1&n&&rt(i,"is-group",e[7].isGroup),3&n&&rt(r,"selected",!e[7].expanded&&e[1]===(null===(c=e[7])||void 0===c||null===(f=c.topEntry)||void 0===f?void 0:f.id)),e[7].isGroup&&e[7].expanded?y?y.p(e,n):((y=Ui(e)).c(),y.m(u.parentNode,u)):y&&(y.d(1),y=null)},d:function(e){e&&Ue(r),p&&p.d(),m&&m.d(),e&&Ue(c),y&&y.d(e),e&&Ue(u),f=!1,Me(d)}}}function Ji(e){for(var t,n=e[0],r=[],i=0;i<n.length;i+=1)r[i]=Wi(Bi(e,n,i));return{c:function(){t=We("ul");for(var e=0;e<r.length;e+=1)r[e].c();Xe(t,"class","svelte-s055jw")},m:function(e,n){Ve(e,t,n);for(var i=0;i<r.length;i+=1)r[i].m(t,null)},p:function(e,i){var o=Se(i,1)[0];if(15&o){var l;for(n=e[0],l=0;l<n.length;l+=1){var s=Bi(e,n,l);r[l]?r[l].p(s,o):(r[l]=Wi(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:$e,o:$e,d:function(e){e&&Ue(t),He(r,e)}}}function Ki(e,t,n){var r=t.listItems,i=void 0===r?[]:r,o=t.selectedId,l=at(),s=at();return e.$$set=function(e){"listItems"in e&&n(0,i=e.listItems),"selectedId"in e&&n(1,o=e.selectedId)},[i,o,l,s,function(e,t){var n;return l("click-item",{id:null==e||null===(n=e.topEntry)||void 0===n?void 0:n.id,groupIdx:t,wasTopNode:!0})},function(e){var t;return s("dblclick-item",{id:null==e||null===(t=e.topEntry)||void 0===t?void 0:t.id})},function(e,t){return l("click-item",{id:null==e?void 0:e.id,groupIdx:t,wasTopNode:!1})}]}It('@charset "UTF-8";ul.svelte-s055jw.svelte-s055jw{color:#fff;list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-s055jw.svelte-s055jw{transition:background 0.1s}li.svelte-s055jw.svelte-s055jw:hover{background:rgba(255, 162, 177, 0.4);color:#fff}li.selected.svelte-s055jw.svelte-s055jw{background:rgba(255, 162, 177, 0.4)}li.svelte-s055jw+li.svelte-s055jw{border-top:1px solid rgb(96, 76, 104)}button.svelte-s055jw.svelte-s055jw{background:transparent;border:0;color:#d3d3d9;cursor:pointer;display:flex;font-family:monospace;font-size:var(--font-small);justify-content:space-between;padding:6px 18px;text-transform:uppercase;width:100%}button.p-left.svelte-s055jw.svelte-s055jw{margin-left:1em}.caret-icon.svelte-s055jw.svelte-s055jw::before{content:"▶"}.caret-icon.expanded.svelte-s055jw.svelte-s055jw::before{content:"▼"}');var Qi=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,Ki,Ji,Te,{listItems:0,selectedId:1}),t}return he(i)}(At);function Gi(e,t,n){var r=e.slice();return r[3]=t[n],r}function Yi(e){var t,n=e[0](e[1])+"";return{c:function(){t=Ke(n)},m:function(e,n){Ve(e,t,n)},p:function(e,r){3&r&&n!==(n=e[0](e[1])+"")&&tt(t,n)},d:function(e){e&&Ue(t)}}}function Xi(e){var t;function n(e,t){return 1===e[1].length?no:2===e[1].length?to:3===e[1].length&&0===e[1][1]&&0===e[1][2]?eo:3===e[1].length&&2===e[1][2]?Zi:void 0}var r=n(e),i=r&&r(e);return{c:function(){i&&i.c(),t=Ge()},m:function(e,n){i&&i.m(e,n),Ve(e,t,n)},p:function(e,o){r===(r=n(e))&&i?i.p(e,o):(i&&i.d(1),(i=r&&r(e))&&(i.c(),i.m(t.parentNode,t)))},d:function(e){i&&i.d(e),e&&Ue(t)}}}function Zi(e){for(var t,n=ao(e[1][0]),r=[],i=0;i<n.length;i+=1)r[i]=lo(Gi(e,n,i));return{c:function(){t=We("span");for(var e=0;e<r.length;e+=1)r[e].c();Xe(t,"class","updated svelte-17gp0ui")},m:function(e,n){Ve(e,t,n);for(var i=0;i<r.length;i+=1)r[i].m(t,null)},p:function(e,i){if(2&i){var o;for(n=ao(e[1][0]),o=0;o<n.length;o+=1){var l=Gi(e,n,o);r[o]?r[o].p(l,i):(r[o]=lo(l),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d:function(e){e&&Ue(t),He(r,e)}}}function eo(e){var t,n,r=co(e[1][0])+"";return{c:function(){t=We("span"),n=Ke(r),Xe(t,"class","deleted svelte-17gp0ui")},m:function(e,r){Ve(e,t,r),qe(t,n)},p:function(e,t){2&t&&r!==(r=co(e[1][0])+"")&&tt(n,r)},d:function(e){e&&Ue(t)}}}function to(e){var t,n,r,i,o,l,s,a,c=co(e[1][0])+"",u=co(e[1][1])+"";return{c:function(){t=We("span"),n=We("span"),r=Ke(c),i=Qe(),(o=We("span")).textContent="=>",l=Qe(),s=We("span"),a=Ke(u),Xe(n,"class","deleted svelte-17gp0ui"),Xe(o,"class","arrow svelte-17gp0ui"),Xe(s,"class","added svelte-17gp0ui"),Xe(t,"class","updated svelte-17gp0ui")},m:function(e,c){Ve(e,t,c),qe(t,n),qe(n,r),qe(t,i),qe(t,o),qe(t,l),qe(t,s),qe(s,a)},p:function(e,t){2&t&&c!==(c=co(e[1][0])+"")&&tt(r,c),2&t&&u!==(u=co(e[1][1])+"")&&tt(a,u)},d:function(e){e&&Ue(t)}}}function no(e){var t,n,r=co(e[1][0])+"";return{c:function(){t=We("span"),n=Ke(r),Xe(t,"class","added svelte-17gp0ui")},m:function(e,r){Ve(e,t,r),qe(t,n)},p:function(e,t){2&t&&r!==(r=co(e[1][0])+"")&&tt(n,r)},d:function(e){e&&Ue(t)}}}function ro(e){var t,n,r=e[3].raw+"";return{c:function(){t=We("span"),n=Ke(r)},m:function(e,r){Ve(e,t,r),qe(t,n)},p:function(e,t){2&t&&r!==(r=e[3].raw+"")&&tt(n,r)},d:function(e){e&&Ue(t)}}}function io(e){var t,n,r=e[3].add+"";return{c:function(){t=We("span"),n=Ke(r),Xe(t,"class","added svelte-17gp0ui")},m:function(e,r){Ve(e,t,r),qe(t,n)},p:function(e,t){2&t&&r!==(r=e[3].add+"")&&tt(n,r)},d:function(e){e&&Ue(t)}}}function oo(e){var t,n,r=e[3].delete+"";return{c:function(){t=We("span"),n=Ke(r),Xe(t,"class","deleted svelte-17gp0ui")},m:function(e,r){Ve(e,t,r),qe(t,n)},p:function(e,t){2&t&&r!==(r=e[3].delete+"")&&tt(n,r)},d:function(e){e&&Ue(t)}}}function lo(e){var t;function n(e,t){return e[3].delete?oo:e[3].add?io:ro}var r=n(e),i=r(e);return{c:function(){i.c(),t=Ge()},m:function(e,n){i.m(e,n),Ve(e,t,n)},p:function(e,o){r===(r=n(e))&&i?i.p(e,o):(i.d(1),(i=r(e))&&(i.c(),i.m(t.parentNode,t)))},d:function(e){i.d(e),e&&Ue(t)}}}function so(e){var t,n;function r(e,n){return 2&n&&(t=null),null==t&&(t=!!Array.isArray(e[1])),t?Xi:Yi}var i=r(e,-1),o=i(e);return{c:function(){o.c(),n=Ge()},m:function(e,t){o.m(e,t),Ve(e,n,t)},p:function(e,t){var l=Se(t,1)[0];i===(i=r(e,l))&&o?o.p(e,l):(o.d(1),(o=i(e))&&(o.c(),o.m(n.parentNode,n)))},i:$e,o:$e,d:function(e){o.d(e),e&&Ue(n)}}}function ao(e){return e.split(/\n/gm).slice(1).map((function(e){return Gr({},e.startsWith("-")?"delete":e.startsWith("+")?"add":"raw",e.slice(1).replace(/\s/gm," "))}))}function co(e){return"string"==typeof e?e:function(e){if(null===e)return"null";var t=JSON.stringify(e);return void 0===t?"undefined":t.length>22?"".concat(t.slice(0,15),"…").concat(t.slice(-5)):t}(e)}function uo(e,t,n){var r,i=t.node,o=t.defaultFormatter;return e.$$set=function(e){"node"in e&&n(2,i=e.node),"defaultFormatter"in e&&n(0,o=e.defaultFormatter)},e.$$.update=function(){4&e.$$.dirty&&n(1,r=i.value)},[o,r,i]}It(".added.svelte-17gp0ui.svelte-17gp0ui{display:inline-block;background:#87cc86;border-radius:1px;color:green;padding:1px 2px;text-indent:0;min-height:1ex}.deleted.svelte-17gp0ui.svelte-17gp0ui{display:inline-block;background:#d66363;border-radius:1px;color:#d3d3d9;padding:1px 2px;text-decoration:line-through;text-indent:0;min-height:1ex}.updated.svelte-17gp0ui.svelte-17gp0ui{word-break:break-all}.updated.svelte-17gp0ui .added.svelte-17gp0ui{background:#eaea37}.arrow.svelte-17gp0ui.svelte-17gp0ui{color:#87cc86}");var fo=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,uo,so,Te,{node:2,defaultFormatter:0}),t}return he(i)}(At);function ho(e){var t,n,r,i;return(r=new Qi({props:{listItems:e[4],selectedId:(null===(t=e[0])||void 0===t?void 0:t.id)||""}})).$on("click-item",e[7]),r.$on("dblclick-item",e[8]),{c:function(){n=We("div"),Mt(r.$$.fragment),Xe(n,"slot","left"),Xe(n,"class","left-panel svelte-lq0bhc")},m:function(e,t){Ve(e,n,t),Nt(r,n,null),i=!0},p:function(e,t){var n,i={};16&t&&(i.listItems=e[4]),1&t&&(i.selectedId=(null===(n=e[0])||void 0===n?void 0:n.id)||""),r.$set(i)},i:function(e){i||(Ot(r.$$.fragment,e),i=!0)},o:function(e){_t(r.$$.fragment,e),i=!1},d:function(e){e&&Ue(n),Tt(r)}}}function po(e){var t;return{c:function(){(t=We("div")).textContent="Docs are equal.",Xe(t,"class","equal-diff svelte-lq0bhc")},m:function(e,n){Ve(e,t,n)},p:$e,i:$e,o:$e,d:function(e){e&&Ue(t)}}}function mo(e){var t,n,r,i,o,l,s,a,c,u,f,d,h,p=e[0].contentDiff&&go(e),m=e[0].selectionDiff&&yo(e),g=e[0].selectionHtml.length>0&&wo(e),v=e[1]&&ko(e);(f=new Oi({props:{$$slots:{default:[$o]},$$scope:{ctx:e}}})).$on("click",e[5]);var y=e[1]&&Eo(e);return{c:function(){t=We("div"),p&&p.c(),n=Qe(),m&&m.c(),r=Qe(),g&&g.c(),i=Qe(),o=We("div"),l=We("div"),(s=We("h2")).textContent="Transaction",a=Qe(),c=We("div"),v&&v.c(),u=Qe(),Mt(f.$$.fragment),d=Qe(),y&&y.c(),Xe(c,"class","transaction-buttons svelte-lq0bhc"),Xe(l,"class","title-container svelte-lq0bhc"),Xe(o,"class","entry-row svelte-lq0bhc")},m:function(e,b){Ve(e,t,b),p&&p.m(t,null),qe(t,n),m&&m.m(t,null),qe(t,r),g&&g.m(t,null),qe(t,i),qe(t,o),qe(o,l),qe(l,s),qe(l,a),qe(l,c),v&&v.m(c,null),qe(c,u),Nt(f,c,null),qe(o,d),y&&y.m(o,null),h=!0},p:function(e,l){e[0].contentDiff?p?(p.p(e,l),1&l&&Ot(p,1)):((p=go(e)).c(),Ot(p,1),p.m(t,n)):p&&($t(),_t(p,1,1,(function(){p=null})),Et()),e[0].selectionDiff?m?(m.p(e,l),1&l&&Ot(m,1)):((m=yo(e)).c(),Ot(m,1),m.m(t,r)):m&&($t(),_t(m,1,1,(function(){m=null})),Et()),e[0].selectionHtml.length>0?g?(g.p(e,l),1&l&&Ot(g,1)):((g=wo(e)).c(),Ot(g,1),g.m(t,i)):g&&($t(),_t(g,1,1,(function(){g=null})),Et()),e[1]?v?(v.p(e,l),2&l&&Ot(v,1)):((v=ko(e)).c(),Ot(v,1),v.m(c,u)):v&&($t(),_t(v,1,1,(function(){v=null})),Et());var s={};8194&l&&(s.$$scope={dirty:l,ctx:e}),f.$set(s),e[1]?y?(y.p(e,l),2&l&&Ot(y,1)):((y=Eo(e)).c(),Ot(y,1),y.m(o,null)):y&&($t(),_t(y,1,1,(function(){y=null})),Et())},i:function(e){h||(Ot(p),Ot(m),Ot(g),Ot(v),Ot(f.$$.fragment,e),Ot(y),h=!0)},o:function(e){_t(p),_t(m),_t(g),_t(v),_t(f.$$.fragment,e),_t(y),h=!1},d:function(e){e&&Ue(t),p&&p.d(),m&&m.d(),g&&g.d(),v&&v.d(),Tt(f),y&&y.d()}}}function go(e){var t,n,r,i,o,l,s,a;return o=new Oi({props:{class:"hidden",$$slots:{default:[vo]},$$scope:{ctx:e}}}),s=new vi({props:{class:"tree-view",data:e[0].contentDiff,showLogButton:!0,showCopyButton:!0,valueComponent:fo,recursionOpts:{maxDepth:12,mapChildren:Fi,shouldExpandNode:Mo}}}),{c:function(){t=We("div"),n=We("div"),(r=We("h2")).textContent="Doc diff",i=Qe(),Mt(o.$$.fragment),l=Qe(),Mt(s.$$.fragment),Xe(n,"class","title-container svelte-lq0bhc"),Xe(t,"class","entry-row svelte-lq0bhc")},m:function(e,c){Ve(e,t,c),qe(t,n),qe(n,r),qe(n,i),Nt(o,n,null),qe(t,l),Nt(s,t,null),a=!0},p:function(e,t){var n={};8192&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);var r={};1&t&&(r.data=e[0].contentDiff),s.$set(r)},i:function(e){a||(Ot(o.$$.fragment,e),Ot(s.$$.fragment,e),a=!0)},o:function(e){_t(o.$$.fragment,e),_t(s.$$.fragment,e),a=!1},d:function(e){e&&Ue(t),Tt(o),Tt(s)}}}function vo(e){var t;return{c:function(){t=Ke("log")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function yo(e){var t,n,r,i,o,l,s,a;return o=new Oi({props:{class:"hidden",$$slots:{default:[bo]},$$scope:{ctx:e}}}),s=new vi({props:{class:"tree-view",data:e[0].selectionDiff,valueComponent:fo,recursionOpts:{mapChildren:ji,shouldExpandNode:No}}}),{c:function(){t=We("div"),n=We("div"),(r=We("h2")).textContent="Selection diff",i=Qe(),Mt(o.$$.fragment),l=Qe(),Mt(s.$$.fragment),Xe(n,"class","title-container svelte-lq0bhc"),Xe(t,"class","entry-row svelte-lq0bhc")},m:function(e,c){Ve(e,t,c),qe(t,n),qe(n,r),qe(n,i),Nt(o,n,null),qe(t,l),Nt(s,t,null),a=!0},p:function(e,t){var n={};8192&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);var r={};1&t&&(r.data=e[0].selectionDiff),s.$set(r)},i:function(e){a||(Ot(o.$$.fragment,e),Ot(s.$$.fragment,e),a=!0)},o:function(e){_t(o.$$.fragment,e),_t(s.$$.fragment,e),a=!1},d:function(e){e&&Ue(t),Tt(o),Tt(s)}}}function bo(e){var t;return{c:function(){t=Ke("log")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function wo(e){var t,n,r,i,o,l,s,a,c,u=e[0].selectionHtml+"";return o=new Oi({props:{class:"hidden",$$slots:{default:[xo]},$$scope:{ctx:e}}}),{c:function(){t=We("div"),n=We("div"),(r=We("h2")).textContent="Selection content",i=Qe(),Mt(o.$$.fragment),l=Qe(),s=We("pre"),a=We("code"),Xe(n,"class","title-container svelte-lq0bhc"),Xe(s,"class","selection-html svelte-lq0bhc"),Xe(t,"class","entry-row svelte-lq0bhc")},m:function(e,f){Ve(e,t,f),qe(t,n),qe(n,r),qe(n,i),Nt(o,n,null),qe(t,l),qe(t,s),qe(s,a),a.innerHTML=u,c=!0},p:function(e,t){var n={};8192&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n),(!c||1&t)&&u!==(u=e[0].selectionHtml+"")&&(a.innerHTML=u)},i:function(e){c||(Ot(o.$$.fragment,e),c=!0)},o:function(e){_t(o.$$.fragment,e),c=!1},d:function(e){e&&Ue(t),Tt(o)}}}function xo(e){var t;return{c:function(){t=Ke("log")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function ko(e){var t,n,r,i;return(t=new Oi({props:{$$slots:{default:[So]},$$scope:{ctx:e}}})).$on("click",e[9]),(r=new Oi({props:{$$slots:{default:[Co]},$$scope:{ctx:e}}})).$on("click",e[6]),{c:function(){Mt(t.$$.fragment),n=Qe(),Mt(r.$$.fragment)},m:function(e,o){Nt(t,e,o),Ve(e,n,o),Nt(r,e,o),i=!0},p:function(e,n){var i={};8196&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);var o={};8192&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i:function(e){i||(Ot(t.$$.fragment,e),Ot(r.$$.fragment,e),i=!0)},o:function(e){_t(t.$$.fragment,e),_t(r.$$.fragment,e),i=!1},d:function(e){Tt(t,e),e&&Ue(n),Tt(r,e)}}}function So(e){var t,n=e[2]?"collapse":"expand";return{c:function(){t=Ke(n)},m:function(e,n){Ve(e,t,n)},p:function(e,r){4&r&&n!==(n=e[2]?"collapse":"expand")&&tt(t,n)},d:function(e){e&&Ue(t)}}}function Co(e){var t;return{c:function(){t=Ke("log")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function $o(e){var t,n=e[1]?"hide":"show";return{c:function(){t=Ke(n)},m:function(e,n){Ve(e,t,n)},p:function(e,r){2&r&&n!==(n=e[1]?"hide":"show")&&tt(t,n)},d:function(e){e&&Ue(t)}}}function Eo(e){var t,n;return t=new vi({props:{class:"tree-view",data:e[0].trs[0],showLogButton:!0,showCopyButton:!0,recursionOpts:e[3]}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r={};1&n&&(r.data=e[0].trs[0]),8&n&&(r.recursionOpts=e[3]),t.$set(r)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Oo(e){var t,n,r,i,o=[mo,po],l=[];function s(e,t){return e[0]?0:1}return n=s(e),r=l[n]=o[n](e),{c:function(){t=We("div"),r.c(),Xe(t,"slot","right"),Xe(t,"class","right-panel")},m:function(e,r){Ve(e,t,r),l[n].m(t,null),i=!0},p:function(e,i){var a=n;(n=s(e))===a?l[n].p(e,i):($t(),_t(l[a],1,1,(function(){l[a]=null})),Et(),(r=l[n])?r.p(e,i):(r=l[n]=o[n](e)).c(),Ot(r,1),r.m(t,null))},i:function(e){i||(Ot(r),i=!0)},o:function(e){_t(r),i=!1},d:function(e){e&&Ue(t),l[n].d()}}}function _o(e){var t,n;return t=new Ci({props:{$$slots:{right:[Oo],left:[ho]},$$scope:{ctx:e}}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r=Se(n,1)[0],i={};8223&r&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}It(".hidden{display:none;visibility:hidden}.left-panel.svelte-lq0bhc.svelte-lq0bhc{flex-grow:0;padding:0;min-width:190px;width:190px}.title-container.svelte-lq0bhc.svelte-lq0bhc{align-items:center;display:flex}.transaction-buttons.svelte-lq0bhc.svelte-lq0bhc{margin-left:2rem}.entry-row.svelte-lq0bhc+.entry-row.svelte-lq0bhc{margin-top:1em}.selection-html.svelte-lq0bhc.svelte-lq0bhc{font-weight:100;margin:0.5em 0 0 0;padding:0}.equal-diff.svelte-lq0bhc.svelte-lq0bhc{align-items:center;color:rgb(255, 162, 177);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}");var Mo=function(){return!0},No=function(){return!0};function To(e,t,n){var r,i,o;Ae(e,Lr,(function(e){return n(10,i=e)})),Ae(e,qr,(function(e){return n(11,o=e)}));var l=void 0,s=!1,a=zt("editor-view").replaceEditorContent,c=!1,u={maxDepth:24,stopCircularRecursion:!0,omitKeys:["schema"],shouldExpandNode:function(){return c}};return Vr.subscribe((function(e){e&&n(0,l=e)})),e.$$.update=function(){3072&e.$$.dirty&&n(4,r=o.map((function(e){return{isGroup:e.isGroup,topEntry:i.get(e.topEntryId),entries:e.entryIds.map((function(e){return i.get(e)})),expanded:e.expanded}})))},[l,s,c,u,r,function(){n(1,s=!s)},function(){console.info("%c [prosemirror-dev-toolkit]: Property added to window._trs","color: #b8e248"),console.log(null==l?void 0:l.trs),window._trs=null==l?void 0:l.trs},function(e){var t=e.detail,o=t.id,s=void 0===o?"":o,a=t.groupIdx,c=t.wasTopNode;if(n(0,l=i.get(s)),l){var u=r[a];u.isGroup&&u.entries.length>1&&c&&qr.update((function(e){return e.map((function(e,t){return t!==a?e:Object.assign(Object.assign({},e),{expanded:!e.expanded})}))}))}},function(e){n(0,l=i.get(e.detail.id||"")),l&&a(l.state)},function(){n(2,c=!c),n(3,u=Object.assign(Object.assign({},u),{shouldExpandNode:function(){return c}}))},i,o]}var Do=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,To,_o,Te,{}),t}return he(i)}(At);function Ro(e,t,n){var r=e.slice();return r[4]=t[n],r}function Ao(e){var t,n,r,i,o,l,s=e[4].value+"";function a(){return e[3](e[4])}return{c:function(){t=We("li"),n=We("button"),r=Ke(s),i=Qe(),Xe(n,"class","svelte-i8gf0s"),rt(n,"selected",e[1]===e[4].key),rt(n,"empty",e[4].empty),Xe(t,"class","svelte-i8gf0s")},m:function(e,s){Ve(e,t,s),qe(t,n),qe(n,r),qe(t,i),o||(l=Ye(n,"click",a),o=!0)},p:function(t,i){e=t,1&i&&s!==(s=e[4].value+"")&&tt(r,s),3&i&&rt(n,"selected",e[1]===e[4].key),1&i&&rt(n,"empty",e[4].empty)},d:function(e){e&&Ue(t),o=!1,l()}}}function Po(e){for(var t,n=e[0],r=[],i=0;i<n.length;i+=1)r[i]=Ao(Ro(e,n,i));return{c:function(){t=We("ul");for(var e=0;e<r.length;e+=1)r[e].c();Xe(t,"class","svelte-i8gf0s")},m:function(e,n){Ve(e,t,n);for(var i=0;i<r.length;i+=1)r[i].m(t,null)},p:function(e,i){var o=Se(i,1)[0];if(7&o){var l;for(n=e[0],l=0;l<n.length;l+=1){var s=Ro(e,n,l);r[l]?r[l].p(s,o):(r[l]=Ao(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:$e,o:$e,d:function(e){e&&Ue(t),He(r,e)}}}function zo(e,t,n){var r=t.listItems,i=void 0===r?[]:r,o=t.selectedKey,l=t.onSelect;return e.$$set=function(e){"listItems"in e&&n(0,i=e.listItems),"selectedKey"in e&&n(1,o=e.selectedKey),"onSelect"in e&&n(2,l=e.onSelect)},[i,o,l,function(e){return l(e)}]}It("ul.svelte-i8gf0s.svelte-i8gf0s{color:#fff;list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-i8gf0s+li.svelte-i8gf0s{border-top:1px solid rgb(96, 76, 104)}button.svelte-i8gf0s.svelte-i8gf0s{background:transparent;border:0;color:#d3d3d9;cursor:pointer;display:flex;font-family:monospace;font-size:var(--font-small);font-weight:100;padding:6px 18px;text-transform:uppercase;width:100%}button.svelte-i8gf0s.svelte-i8gf0s:hover{background:rgba(255, 162, 177, 0.4);color:#fff}button:hover.empty.svelte-i8gf0s.svelte-i8gf0s{background:rgb(80, 68, 93)}button.selected.svelte-i8gf0s.svelte-i8gf0s{background:rgba(255, 162, 177, 0.4)}button.selected.empty.svelte-i8gf0s.svelte-i8gf0s{background:rgb(80, 68, 93)}button.empty.svelte-i8gf0s.svelte-i8gf0s{color:#727288}");var Io=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,zo,Po,Te,{listItems:0,selectedKey:1,onSelect:2}),t}return he(i)}(At);function jo(e){var t,n,r,i;return r=new Io({props:{listItems:e[4],selectedKey:null===(t=e[0])||void 0===t?void 0:t.key,onSelect:e[5]}}),{c:function(){n=We("div"),Mt(r.$$.fragment),Xe(n,"slot","left"),Xe(n,"class","left-panel svelte-1oogal0")},m:function(e,t){Ve(e,n,t),Nt(r,n,null),i=!0},p:function(e,t){var n,i={};16&t&&(i.listItems=e[4]),1&t&&(i.selectedKey=null===(n=e[0])||void 0===n?void 0:n.key),r.$set(i)},i:function(e){i||(Ot(r.$$.fragment,e),i=!0)},o:function(e){_t(r.$$.fragment,e),i=!1},d:function(e){e&&Ue(n),Tt(r)}}}function Fo(e){var t,n,r,i,o,l,s,a;return(o=new Oi({props:{$$slots:{default:[Bo]},$$scope:{ctx:e}}})).$on("click",e[6]),(s=new Oi({props:{$$slots:{default:[Lo]},$$scope:{ctx:e}}})).$on("click",e[7]),{c:function(){t=We("div"),(n=We("h2")).textContent="Plugin state",r=Qe(),i=We("div"),Mt(o.$$.fragment),l=Qe(),Mt(s.$$.fragment),Xe(t,"class","top-row svelte-1oogal0")},m:function(e,c){Ve(e,t,c),qe(t,n),qe(t,r),qe(t,i),Nt(o,i,null),qe(i,l),Nt(s,i,null),a=!0},p:function(e,t){var n={};2050&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);var r={};2048&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r)},i:function(e){a||(Ot(o.$$.fragment,e),Ot(s.$$.fragment,e),a=!0)},o:function(e){_t(o.$$.fragment,e),_t(s.$$.fragment,e),a=!1},d:function(e){e&&Ue(t),Tt(o),Tt(s)}}}function Bo(e){var t,n=e[1]?"collapse":"expand";return{c:function(){t=Ke(n)},m:function(e,n){Ve(e,t,n)},p:function(e,r){2&r&&n!==(n=e[1]?"collapse":"expand")&&tt(t,n)},d:function(e){e&&Ue(t)}}}function Lo(e){var t;return{c:function(){t=Ke("log")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function qo(e){var t;return{c:function(){(t=We("div")).textContent="Plugin has no state",Xe(t,"class","empty-state svelte-1oogal0")},m:function(e,n){Ve(e,t,n)},p:$e,i:$e,o:$e,d:function(e){e&&Ue(t)}}}function Vo(e){var t,n;return t=new vi({props:{data:e[3],showLogButton:!0,showCopyButton:!0,recursionOpts:e[2]}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r={};8&n&&(r.data=e[3]),4&n&&(r.recursionOpts=e[2]),t.$set(r)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Uo(e){var t,n,r,i,o,l=e[3]&&Fo(e),s=[Vo,qo],a=[];function c(e,t){return e[3]?0:1}return r=c(e),i=a[r]=s[r](e),{c:function(){t=We("div"),l&&l.c(),n=Qe(),i.c(),Xe(t,"slot","right"),Xe(t,"class","right-panel svelte-1oogal0")},m:function(e,i){Ve(e,t,i),l&&l.m(t,null),qe(t,n),a[r].m(t,null),o=!0},p:function(e,o){e[3]?l?(l.p(e,o),8&o&&Ot(l,1)):((l=Fo(e)).c(),Ot(l,1),l.m(t,n)):l&&($t(),_t(l,1,1,(function(){l=null})),Et());var u=r;(r=c(e))===u?a[r].p(e,o):($t(),_t(a[u],1,1,(function(){a[u]=null})),Et(),(i=a[r])?i.p(e,o):(i=a[r]=s[r](e)).c(),Ot(i,1),i.m(t,null))},i:function(e){o||(Ot(l),Ot(i),o=!0)},o:function(e){_t(l),_t(i),o=!1},d:function(e){e&&Ue(t),l&&l.d(),a[r].d()}}}function Ho(e){var t,n;return t=new Ci({props:{$$slots:{right:[Uo],left:[jo]},$$scope:{ctx:e}}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r=Se(n,1)[0],i={};2079&r&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Wo(e,t,n){var r,i,o=zt("editor-view").view,l=!1,s={maxDepth:10,stopCircularRecursion:!0,shouldExpandNode:function(){return l}},a=o.state,c=a.plugins,u=c[0];return Vr.subscribe((function(e){e&&(n(8,a=e.state),n(9,c=a.plugins),n(0,u=c.find((function(e){return e.key===(null==u?void 0:u.key)}))))})),e.$$.update=function(){257&e.$$.dirty&&n(3,r=(null==u?void 0:u.getState)?u.getState(a):void 0),768&e.$$.dirty&&n(4,i=c.map((function(e){return{key:e.key,value:e.key.toUpperCase(),empty:!(e.getState&&e.getState(a))}})))},[u,l,s,r,i,function(e){n(0,u=c.find((function(t){return t.key===e.key})))},function(){n(1,l=!l),n(2,s=Object.assign(Object.assign({},s),{shouldExpandNode:function(){return l}}))},function(){window._plugin=[u,r],console.info("%c [prosemirror-dev-toolkit]: Property added to window._plugin","color: #b8e248"),console.log(u),console.log(r)},a,c]}It(".top-row.svelte-1oogal0{align-items:center;display:flex;justify-content:space-between;margin-bottom:0.5em}.left-panel.svelte-1oogal0{flex-grow:0;overflow:scroll;padding:0;min-width:190px;width:190px}.right-panel.svelte-1oogal0{border-left:1px solid rgba(255, 162, 177, 0.2)}.empty-state.svelte-1oogal0{align-items:center;color:rgb(255, 162, 177);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}");var Jo=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,Wo,Ho,Te,{}),t}return he(i)}(At);function Ko(e){var t;return{c:function(){t=Ke("log")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function Qo(e){var t,n,r,i,o,l,s,a;return o=new Oi({props:{class:"hidden",$$slots:{default:[Ko]},$$scope:{ctx:e}}}),s=new vi({props:{class:"tree-view",data:e[0],showLogButton:!0,showCopyButton:!0,recursionOpts:{stopCircularRecursion:!0}}}),{c:function(){t=We("div"),n=We("div"),(r=We("h2")).textContent="Nodes",i=Qe(),Mt(o.$$.fragment),l=Qe(),Mt(s.$$.fragment),Xe(n,"class","top-row svelte-vmhtas"),Xe(t,"slot","left"),Xe(t,"class","left-panel svelte-vmhtas")},m:function(e,c){Ve(e,t,c),qe(t,n),qe(n,r),qe(n,i),Nt(o,n,null),qe(t,l),Nt(s,t,null),a=!0},p:function(e,t){var n={};8&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i:function(e){a||(Ot(o.$$.fragment,e),Ot(s.$$.fragment,e),a=!0)},o:function(e){_t(o.$$.fragment,e),_t(s.$$.fragment,e),a=!1},d:function(e){e&&Ue(t),Tt(o),Tt(s)}}}function Go(e){var t;return{c:function(){t=Ke("log")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function Yo(e){var t,n,r,i,o,l,s,a;return o=new Oi({props:{class:"hidden",$$slots:{default:[Go]},$$scope:{ctx:e}}}),s=new vi({props:{class:"tree-view",data:e[1],showLogButton:!0,showCopyButton:!0,recursionOpts:{stopCircularRecursion:!0}}}),{c:function(){t=We("div"),n=We("div"),(r=We("h2")).textContent="Marks",i=Qe(),Mt(o.$$.fragment),l=Qe(),Mt(s.$$.fragment),Xe(n,"class","top-row svelte-vmhtas"),Xe(t,"slot","right"),Xe(t,"class","right-panel svelte-vmhtas")},m:function(e,c){Ve(e,t,c),qe(t,n),qe(n,r),qe(n,i),Nt(o,n,null),qe(t,l),Nt(s,t,null),a=!0},p:function(e,t){var n={};8&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i:function(e){a||(Ot(o.$$.fragment,e),Ot(s.$$.fragment,e),a=!0)},o:function(e){_t(o.$$.fragment,e),_t(s.$$.fragment,e),a=!1},d:function(e){e&&Ue(t),Tt(o),Tt(s)}}}function Xo(e){var t,n;return t=new Ci({props:{$$slots:{right:[Yo],left:[Qo]},$$scope:{ctx:e}}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r=Se(n,1)[0],i={};8&r&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Zo(e){var t=zt("editor-view").view;return[t.state.schema.nodes,t.state.schema.marks]}It(".hidden{display:none;visibility:hidden}.top-row.svelte-vmhtas{align-items:center;display:flex;justify-content:space-between}.left-panel.svelte-vmhtas{overflow:scroll;padding:1em}.right-panel.svelte-vmhtas{border-left:1px solid rgba(255, 162, 177, 0.2);overflow:scroll;padding:1em}");var el=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,Zo,Xo,Te,{}),t}return he(i)}(At);function tl(e,t,n){var r=e.slice();return r[15]=t[n],r[17]=n,r}function nl(e){var t,n;return t=new ol({props:{node:e[15],startPos:e[5][e[17]],depth:e[1]+1}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r={};4&n&&(r.node=e[15]),32&n&&(r.startPos=e[5][e[17]]),2&n&&(r.depth=e[1]+1),t.$set(r)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function rl(e){for(var t,n,r,i,o,l,s,a,c,u,f,d,h,p,m,g,v,y=e[2].content,b=[],w=0;w<y.length;w+=1)b[w]=nl(tl(e,y,w));var x=function(e){return _t(b[e],1,1,(function(){b[e]=null}))};return{c:function(){t=We("li"),n=We("div"),r=We("div"),i=Ke(e[0]),o=Qe(),l=We("button"),s=Ke(e[6]),a=Qe(),c=We("div"),u=Ke(e[4]),d=Qe(),h=We("ul");for(var m=0;m<b.length;m+=1)b[m].c();Xe(r,"class","number-box svelte-km02vz"),Xe(l,"aria-label","Show node info button"),Xe(l,"class","svelte-km02vz"),rt(l,"selected",!1),Xe(c,"class","number-box svelte-km02vz"),Xe(n,"class","doc-node-body svelte-km02vz"),Xe(n,"style",f="background: ".concat(e[7])),Xe(h,"class","svelte-km02vz"),rt(h,"inline-children",e[3]),rt(h,"show-borders",e[1]>=1),Xe(t,"class",p=Le("".concat(e[11].class||""," doc-node"))+" svelte-km02vz"),rt(t,"root",e[8])},m:function(f,p){Ve(f,t,p),qe(t,n),qe(n,r),qe(r,i),qe(n,o),qe(n,l),qe(l,s),qe(n,a),qe(n,c),qe(c,u),qe(t,d),qe(t,h);for(var y=0;y<b.length;y+=1)b[y].m(h,null);m=!0,g||(v=[Ye(l,"click",e[9]),Ye(l,"dblclick",e[10])],g=!0)},p:function(e,r){var o=Se(r,1)[0];if((!m||1&o)&&tt(i,e[0]),(!m||64&o)&&tt(s,e[6]),(!m||16&o)&&tt(u,e[4]),(!m||128&o&&f!==(f="background: ".concat(e[7])))&&Xe(n,"style",f),38&o){var l;for(y=e[2].content,l=0;l<y.length;l+=1){var a=tl(e,y,l);b[l]?(b[l].p(a,o),Ot(b[l],1)):(b[l]=nl(a),b[l].c(),Ot(b[l],1),b[l].m(h,null))}for($t(),l=y.length;l<b.length;l+=1)x(l);Et()}(!m||8&o)&&rt(h,"inline-children",e[3]),(!m||2&o)&&rt(h,"show-borders",e[1]>=1),(!m||2048&o&&p!==(p=Le("".concat(e[11].class||""," doc-node"))+" svelte-km02vz"))&&Xe(t,"class",p),(!m||2304&o)&&rt(t,"root",e[8])},i:function(e){if(!m){for(var t=0;t<y.length;t+=1)Ot(b[t]);m=!0}},o:function(e){b=b.filter(Boolean);for(var t=0;t<b.length;t+=1)_t(b[t]);m=!1},d:function(e){e&&Ue(t),He(b,e),g=!1,Me(v)}}}function il(e,t,n){var r,i,o,l,s,a,c=zt("doc-view"),u=c.colors,f=c.handleNodeClick,d=t,h=d.node,p=d.startPos,m=d.depth,g=0===m;return e.$$set=function(e){n(11,t=Ee(Ee({},t),Be(e))),"node"in e&&n(12,h=e.node),"startPos"in e&&n(0,p=e.startPos),"depth"in e&&n(1,m=e.depth)},e.$$.update=function(){4096&e.$$.dirty&&n(2,r=h.content),4096&e.$$.dirty&&n(7,i=u[h.type.name]),4096&e.$$.dirty&&n(6,o=h.isText&&h.marks.length>0?"".concat(h.type.name," - [").concat(h.marks.map((function(e){return e.type.name})).join(", "),"]"):h.type.name),4097&e.$$.dirty&&n(5,l=Array(h.childCount).fill(void 0).reduce((function(e,t,n){if(0===n)return[g?0:p+1];var r=e[n-1],i=h.child(n-1);return[].concat(Ce(e),[r+i.nodeSize])}),[])),4097&e.$$.dirty&&n(4,s=p+h.nodeSize),4&e.$$.dirty&&n(3,a=r.content.every((function(e){return e.isInline})))},t=Be(t),[p,m,r,a,s,l,o,i,g,function(){f(h,p)},function(){f(h,p,!0)},t,h]}It(".doc-node.svelte-km02vz{border-left:1px solid #363755;border-right:1px solid #363755;display:flex;flex-direction:column;padding:0 12px}.doc-node.root.svelte-km02vz{border:0;padding:0}.doc-node-body.svelte-km02vz{background:#363755;color:#222;display:flex;font-size:13px;margin-top:3px}.number-box.svelte-km02vz{padding:3px 6px;background:rgba(255, 255, 255, 0.3)}button.svelte-km02vz{background:transparent;border:0;color:#222;cursor:pointer;display:flex;height:100%;padding:3px 9px;white-space:pre;width:100%}button.svelte-km02vz:hover{background:rgba(255, 162, 177, 0.4);color:#fff}button.selected.svelte-km02vz{background:rgba(255, 162, 177, 0.4)}ul.svelte-km02vz{list-style:none;margin:0;padding:0}ul.show-borders.svelte-km02vz{border-left:1px solid rgb(96, 76, 104);border-right:1px solid rgb(96, 76, 104)}.inline-children.svelte-km02vz{border-left:1px solid rgb(96, 76, 104);border-right:1px solid rgb(96, 76, 104);display:flex;flex-wrap:wrap;padding:0 12px}.inline-children.svelte-km02vz>.doc-node{flex-grow:1;padding:0}");var ol=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,il,rl,Te,{node:12,startPos:0,depth:1}),t}return he(i)}(At);const ll=["#EA7C7F","#67B0C6","#94BB7F","#CA9EDB","#DCDC5D","#B9CC7C","#DD97D8","#FFB761","#4D8FD1","#F36E98","#E45F44","#A6A4AE","#FCC047","#FFC129","#D3929C","#4CBCD4","#8D7BC0"];function sl(e){return Object.keys(e.nodes).reduce(((e,t,n)=>{const r=n>=ll.length?function(e,t){const n=e/t;return Math.round(t*(n-Math.floor(n)))}(n,ll.length):n;return e[t]=ll[r],e}),{})}function al(e){var t,n,r;return n=new ol({props:{class:e[1].class,node:e[0],startPos:0,depth:0}}),{c:function(){t=We("ul"),Mt(n.$$.fragment),Xe(t,"class","svelte-is7zuw")},m:function(e,i){Ve(e,t,i),Nt(n,t,null),r=!0},p:function(e,t){var r=Se(t,1)[0],i={};2&r&&(i.class=e[1].class),1&r&&(i.node=e[0]),n.$set(i)},i:function(e){r||(Ot(n.$$.fragment,e),r=!0)},o:function(e){_t(n.$$.fragment,e),r=!1},d:function(e){e&&Ue(t),Tt(n)}}}function cl(e,t,n){var r=t,i=r.doc,o=r.schema,l=r.selected,s=void 0===l?{type:"",start:0,end:0}:l,a=r.handleNodeSelect;return Pt("doc-view",{selected:s,colors:sl(o),handleNodeClick:a}),e.$$set=function(e){n(1,t=Ee(Ee({},t),Be(e))),"doc"in e&&n(0,i=e.doc),"schema"in e&&n(2,o=e.schema),"selected"in e&&n(3,s=e.selected),"handleNodeSelect"in e&&n(4,a=e.handleNodeSelect)},t=Be(t),[i,t,o,s,a]}It("ul.svelte-is7zuw{list-style:none;margin:0;padding:0}");var ul=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,cl,al,Te,{doc:0,schema:2,selected:3,handleNodeSelect:4}),t}return he(i)}(At);function fl(e){var t;return{c:function(){t=Ke("log")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function dl(e){var t,n,r,i,o,l,s,a;return o=new Oi({props:{class:"hidden",$$slots:{default:[fl]},$$scope:{ctx:e}}}),s=new ul({props:{class:"m-top",doc:e[0],schema:e[2],handleNodeSelect:e[3]}}),{c:function(){t=We("div"),n=We("div"),(r=We("h2")).textContent="Current doc",i=Qe(),Mt(o.$$.fragment),l=Qe(),Mt(s.$$.fragment),Xe(n,"class","top-row svelte-uwxe50"),Xe(t,"slot","left"),Xe(t,"class","left-panel")},m:function(e,c){Ve(e,t,c),qe(t,n),qe(n,r),qe(n,i),Nt(o,n,null),qe(t,l),Nt(s,t,null),a=!0},p:function(e,t){var n={};256&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);var r={};1&t&&(r.doc=e[0]),s.$set(r)},i:function(e){a||(Ot(o.$$.fragment,e),Ot(s.$$.fragment,e),a=!0)},o:function(e){_t(o.$$.fragment,e),_t(s.$$.fragment,e),a=!1},d:function(e){e&&Ue(t),Tt(o),Tt(s)}}}function hl(e){var t;return{c:function(){t=Ke("log")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function pl(e){var t,n,r,i,o,l,s,a;return(o=new Oi({props:{$$slots:{default:[hl]},$$scope:{ctx:e}}})).$on("click",e[4]),s=new vi({props:{class:"m-top",data:e[1],recursionOpts:{shouldExpandNode:vl}}}),{c:function(){t=We("div"),n=We("div"),(r=We("h2")).textContent="Node info",i=Qe(),Mt(o.$$.fragment),l=Qe(),Mt(s.$$.fragment),Xe(n,"class","top-row svelte-uwxe50"),Xe(t,"slot","right"),Xe(t,"class","right-panel svelte-uwxe50")},m:function(e,c){Ve(e,t,c),qe(t,n),qe(n,r),qe(n,i),Nt(o,n,null),qe(t,l),Nt(s,t,null),a=!0},p:function(e,t){var n={};256&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);var r={};2&t&&(r.data=e[1]),s.$set(r)},i:function(e){a||(Ot(o.$$.fragment,e),Ot(s.$$.fragment,e),a=!0)},o:function(e){_t(o.$$.fragment,e),_t(s.$$.fragment,e),a=!1},d:function(e){e&&Ue(t),Tt(o),Tt(s)}}}function ml(e){var t,n;return t=new Ci({props:{$$slots:{right:[pl],left:[dl]},$$scope:{ctx:e}}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r=Se(n,1)[0],i={};259&r&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function gl(e){if(e&&e!==document.body)return e.scrollHeight!==e.clientHeight?e:gl(e.parentElement)}It(".hidden{display:none;visibility:hidden}.top-row.svelte-uwxe50{align-items:center;display:flex;justify-content:space-between}.right-panel.svelte-uwxe50{border-left:1px solid rgba(255, 162, 177, 0.2);flex-grow:0;min-width:220px;width:220px}.split-view .m-top{margin-top:0.5em}");var vl=function(e){return"array"!==e.type||e.value.length<=50};function yl(e,t,n){var r,i,o=zt("editor-view").view,l=o.state.doc,s={node:o.state.doc,pos:0},a=o.state.schema;return Vr.subscribe((function(e){e&&(e.trs.forEach((function(e){n(5,s.pos=e.mapping.map(s.pos),s)})),clearTimeout(i),i=setTimeout((function(){n(0,l=e.state.doc);var t=s.pos;try{var r=l.nodeAt(t);n(5,s={node:r||l,pos:r?t:0})}catch(e){}}),100))})),e.$$.update=function(){32&e.$$.dirty&&n(1,r=s.node.toJSON())},[l,r,a,function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n(5,s={node:e,pos:t}),i){for(var l=o.nodeDOM(t);l&&!(l instanceof HTMLElement);)l=l.parentElement;if(l&&"none"!==getComputedStyle(l).display){var a=gl(o.dom);if(a){var c=a.scrollTop,u=a.offsetTop-window.scrollY,f=a.getBoundingClientRect().top-u,d=l.getBoundingClientRect().top-u,h=a.clientHeight/2;a.scroll(0,c+f+d-h)}var p=o.coordsAtPos(t).top,m=(null===(r=document.querySelector(".floating-dock"))||void 0===r?void 0:r.clientHeight)||0;window.scroll(0,p-m+l.clientHeight+window.scrollY)}}},function(){console.log(s),window._node=s,console.info("%c [prosemirror-dev-toolkit]: Property added to window._node","color: #b8e248")},s]}var bl=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,yl,ml,Te,{}),t}return he(i)}(At);function wl(e,t,n){var r=e.slice();return r[23]=t[n],r}function xl(e){var t,n,r,i,o=e[23].name+"";function l(){return e[16](e[23])}return{c:function(){t=We("button"),n=Ke(o),Xe(t,"class","unstyled-btn svelte-969ox4"),Xe(t,"aria-label","Edit snapshot name button")},m:function(e,o){Ve(e,t,o),qe(t,n),r||(i=Ye(t,"dblclick",l),r=!0)},p:function(t,r){e=t,1&r&&o!==(o=e[23].name+"")&&tt(n,o)},d:function(e){e&&Ue(t),r=!1,i()}}}function kl(e){var t,n,r,i;return{c:function(){(t=We("input")).value=n=e[2].name,Xe(t,"class","svelte-969ox4")},m:function(n,o){Ve(n,t,o),r||(i=[Ye(t,"input",e[5]),Ye(t,"keypress",e[6])],r=!0)},p:function(e,r){4&r&&n!==(n=e[2].name)&&t.value!==n&&(t.value=n)},d:function(e){e&&Ue(t),r=!1,Me(i)}}}function Sl(e){var t;return{c:function(){t=Ke("Show")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function Cl(e){var t;return{c:function(){t=Ke("Hide")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function $l(e){var t;return{c:function(){t=Ke("Delete")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function El(e){var t;return{c:function(){t=Ke("Confirm Delete")},m:function(e,n){Ve(e,t,n)},d:function(e){e&&Ue(t)}}}function Ol(e){var t,n,r,i,o,l,s,a,c,u,f,d;function h(e,t){return e[2]&&e[2].timestamp===e[23].timestamp?kl:xl}var p=h(e),m=p(e);function g(e,t){var n;return(null===(n=e[1])||void 0===n?void 0:n.timestamp)===e[23].timestamp?Cl:Sl}var v=g(e),y=v(e);function b(){return e[17](e[23])}function w(){return e[18](e[23])}function x(){return e[19](e[23])}function k(e,t){var n;return(null===(n=e[3])||void 0===n?void 0:n.timestamp)===e[23].timestamp?El:$l}var S=k(e),C=S(e);function $(){return e[20](e[23])}return{c:function(){t=We("li"),m.c(),n=Qe(),r=We("button"),y.c(),i=Qe(),(o=We("button")).textContent="Restore",l=Qe(),(s=We("button")).textContent="Export",a=Qe(),c=We("button"),C.c(),u=Qe(),Xe(r,"class","snapshot-btn ml-2 svelte-969ox4"),Xe(o,"class","snapshot-btn svelte-969ox4"),Xe(s,"class","snapshot-btn svelte-969ox4"),Xe(c,"class","snapshot-btn svelte-969ox4"),Xe(t,"class","svelte-969ox4")},m:function(e,h){Ve(e,t,h),m.m(t,null),qe(t,n),qe(t,r),y.m(r,null),qe(t,i),qe(t,o),qe(t,l),qe(t,s),qe(t,a),qe(t,c),C.m(c,null),qe(t,u),f||(d=[Ye(r,"click",b),Ye(o,"click",w),Ye(s,"click",x),Ye(c,"click",$)],f=!0)},p:function(i,o){p===(p=h(e=i))&&m?m.p(e,o):(m.d(1),(m=p(e))&&(m.c(),m.m(t,n))),v!==(v=g(e))&&(y.d(1),(y=v(e))&&(y.c(),y.m(r,null))),S!==(S=k(e))&&(C.d(1),(C=S(e))&&(C.c(),C.m(c,null)))},d:function(e){e&&Ue(t),m.d(),y.d(),C.d(),f=!1,Me(d)}}}function _l(e){for(var t,n=e[0],r=[],i=0;i<n.length;i+=1)r[i]=Ol(wl(e,n,i));return{c:function(){t=We("ul");for(var e=0;e<r.length;e+=1)r[e].c();Xe(t,"class","svelte-969ox4")},m:function(e,n){Ve(e,t,n);for(var i=0;i<r.length;i+=1)r[i].m(t,null)},p:function(e,i){var o=Se(i,1)[0];if(2047&o){var l;for(n=e[0],l=0;l<n.length;l+=1){var s=wl(e,n,l);r[l]?r[l].p(s,o):(r[l]=Ol(s),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:$e,o:$e,d:function(e){e&&Ue(t),He(r,e)}}}function Ml(e,t,n){var r,i,o,l=t.snapshots,s=void 0===l?[]:l,a=t.selectedSnapshot,c=void 0===a?void 0:a,u=t.onUpdate,f=t.onView,d=t.onRestore,h=t.onExport,p=t.onDelete;function m(e){n(2,r=e),n(3,i=void 0)}function g(e){(null==c?void 0:c.timestamp)===e.timestamp?f():f(e),n(3,i=void 0)}function v(e){d(e),n(3,i=void 0)}function y(e){h(e),n(3,i=void 0)}function b(e){i&&i.timestamp===e.timestamp?(p(e),n(3,i=void 0)):n(3,i=e)}return e.$$set=function(e){"snapshots"in e&&n(0,s=e.snapshots),"selectedSnapshot"in e&&n(1,c=e.selectedSnapshot),"onUpdate"in e&&n(11,u=e.onUpdate),"onView"in e&&n(12,f=e.onView),"onRestore"in e&&n(13,d=e.onRestore),"onExport"in e&&n(14,h=e.onExport),"onDelete"in e&&n(15,p=e.onDelete)},[s,c,r,i,m,function(e){r&&(n(2,r.name=e.target.value,r),clearTimeout(o),o=setTimeout((function(){u(r)}),150))},function(e){"Enter"===e.key&&r&&(u(r),clearTimeout(o),n(2,r=void 0),n(3,i=void 0))},g,v,y,b,u,f,d,h,p,function(e){return m(e)},function(e){return g(e)},function(e){return v(e)},function(e){return y(e)},function(e){return b(e)}]}It("ul.svelte-969ox4.svelte-969ox4{color:#fff;list-style:none;margin:0;padding:0;height:100%;width:100%}li.svelte-969ox4+li.svelte-969ox4{border-top:1px solid rgb(96, 76, 104)}li.svelte-969ox4.svelte-969ox4{align-items:center;display:flex;font-family:monospace;padding:6px 18px}input.svelte-969ox4.svelte-969ox4{background:transparent;border:0;color:#fff;height:100%;margin:0;padding:2px;width:100%}.unstyled-btn.svelte-969ox4.svelte-969ox4{background:transparent;border:0;color:#fff;cursor:pointer;display:block;font-family:monospace;margin:0;padding:0;text-align:start;width:100%}.snapshot-btn.svelte-969ox4.svelte-969ox4{background:transparent;border:0;border-radius:3px;color:#d3d3d9;cursor:pointer;display:flex;font-size:11px;padding:6px 18px;text-transform:uppercase}.snapshot-btn.svelte-969ox4.svelte-969ox4:hover{background:rgba(255, 162, 177, 0.4);color:#fff}.ml-2.svelte-969ox4.svelte-969ox4{margin-left:1rem}");var Nl=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,Ml,_l,Te,{snapshots:0,selectedSnapshot:1,onUpdate:11,onView:12,onRestore:13,onExport:14,onDelete:15}),t}return he(i)}(At);function Tl(e){var t,n;return t=new Nl({props:{snapshots:e[0],selectedSnapshot:e[1],onUpdate:Xt,onView:e[4],onRestore:e[3],onExport:Zt,onDelete:en}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r={};1&n&&(r.snapshots=e[0]),2&n&&(r.selectedSnapshot=e[1]),t.$set(r)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Dl(e){var t;return{c:function(){(t=We("div")).textContent='Save snapshots by clicking "Save" button.',Xe(t,"class","no-snapshots svelte-3bfy1p")},m:function(e,n){Ve(e,t,n)},p:$e,i:$e,o:$e,d:function(e){e&&Ue(t)}}}function Rl(e){var t,n,r,i,o=[Dl,Tl],l=[];function s(e,t){return 0===e[0].length?0:1}return n=s(e),r=l[n]=o[n](e),{c:function(){t=We("div"),r.c(),Xe(t,"slot","right"),Xe(t,"class","right-panel svelte-3bfy1p")},m:function(e,r){Ve(e,t,r),l[n].m(t,null),i=!0},p:function(e,i){var a=n;(n=s(e))===a?l[n].p(e,i):($t(),_t(l[a],1,1,(function(){l[a]=null})),Et(),(r=l[n])?r.p(e,i):(r=l[n]=o[n](e)).c(),Ot(r,1),r.m(t,null))},i:function(e){i||(Ot(r),i=!0)},o:function(e){_t(r),i=!1},d:function(e){e&&Ue(t),l[n].d()}}}function Al(e){var t,n;return t=new Ci({props:{$$slots:{right:[Rl]},$$scope:{ctx:e}}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r=Se(n,1)[0],i={};35&r&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Pl(e,t,n){var r,i;Ae(e,Wt,(function(e){return n(0,r=e)})),Ae(e,Jt,(function(e){return n(1,i=e)}));var o=zt("editor-view").view;return[r,i,o,function(e){!function(e,t){Gt(e,t.doc),Kt.set(void 0),Jt.set(void 0)}(o,e),Ur()},function(e){return function(e,t){if(t)Re(Kt)||Kt.set(e.state),Gt(e,t.doc);else{const t=Re(Kt);t?e.updateState(t):console.error("No previous state to restore!"),Kt.set(void 0)}Jt.set(t)}(o,e)}]}It(".right-panel.svelte-3bfy1p{padding:0}.no-snapshots.svelte-3bfy1p{align-items:center;color:rgb(255, 162, 177);display:flex;font-size:14px;height:100%;justify-content:center;width:100%}");var zl=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,Pl,Al,Te,{}),t}return he(i)}(At);function Il(e){var t;return{c:function(){(t=We("p")).textContent="nuting here"},m:function(e,n){Ve(e,t,n)},i:$e,o:$e,d:function(e){e&&Ue(t)}}}function jl(e){var t,n;return t=new zl({}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Fl(e){var t,n;return t=new bl({}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Bl(e){var t,n;return t=new el({}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Ll(e){var t,n;return t=new Jo({}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function ql(e){var t,n;return t=new Do({}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Vl(e){var t,n;return t=new Ii({}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Ul(e){var t,n,r,i,o,l,s,a,c,u,f,d,h,p,m,g,v,y,b,w,x,k,S,C,$,E,O,_;(n=new on({props:{isOpen:e[5]}})).$on("submit",e[12]),n.$on("close",e[11]),x=new an({props:{onClickTab:e[14],active:e[1]}});var M=[Vl,ql,Ll,Bl,Fl,jl,Il],N=[];function T(e,t){return"state"===e[1]?0:"history"===e[1]?1:"plugins"===e[1]?2:"schema"===e[1]?3:"structure"===e[1]?4:"snapshots"===e[1]?5:6}return S=T(e),C=N[S]=M[S](e),{c:function(){var S,E;t=We("div"),Mt(n.$$.fragment),r=Qe(),i=We("div"),o=We("div"),l=Qe(),s=We("div"),a=We("div"),(c=We("button")).textContent="Copy",u=Qe(),(f=We("button")).textContent="Save",d=Qe(),(h=We("button")).textContent="Import",p=Qe(),(m=We("button")).textContent="Paste",g=Qe(),(v=We("button")).textContent="X",y=Qe(),b=We("input"),w=Qe(),Mt(x.$$.fragment),k=Qe(),C.c(),Xe(o,"class","resizing-div svelte-5jlb2q"),Xe(c,"class","btn copy-btn svelte-5jlb2q"),Xe(f,"class","btn save-btn svelte-5jlb2q"),Xe(h,"class","btn import-btn svelte-5jlb2q"),Xe(m,"class","btn paste-btn svelte-5jlb2q"),Xe(v,"class","btn close-btn svelte-5jlb2q"),Xe(v,"aria-label","Close dev-toolkit"),S=b,E="display",null==="none"?S.style.removeProperty(E):S.style.setProperty(E,"none",""),Xe(b,"type","file"),Xe(b,"accept",".json"),b.multiple=!0,Xe(s,"class","container svelte-5jlb2q"),Xe(i,"class","floating-dock svelte-5jlb2q"),Xe(i,"style",$="top: ".concat(e[2],"%; height: ").concat(e[3],"%;")),Xe(t,"class","floating-dock-wrapper svelte-5jlb2q")},m:function(C,$){Ve(C,t,$),Nt(n,t,null),qe(t,r),qe(t,i),qe(i,o),qe(i,l),qe(i,s),qe(s,a),qe(a,c),qe(a,u),qe(a,f),qe(a,d),qe(a,h),qe(a,p),qe(a,m),qe(a,g),qe(a,v),qe(s,y),qe(s,b),e[15](b),qe(s,w),Nt(x,s,null),qe(s,k),N[S].m(s,null),E=!0,O||(_=[Ye(o,"mousedown",e[6]),Ye(c,"click",e[7]),Ye(f,"click",e[8]),Ye(h,"click",e[9]),Ye(m,"click",e[10]),Ye(v,"click",(function(){Ne(e[0])&&e[0].apply(this,arguments)})),Ye(b,"change",e[13])],O=!0)},p:function(t,r){var o=Se(r,1)[0];e=t;var l={};32&o&&(l.isOpen=e[5]),n.$set(l);var a={};2&o&&(a.active=e[1]),x.$set(a);var c=S;(S=T(e))!==c&&($t(),_t(N[c],1,1,(function(){N[c]=null})),Et(),(C=N[S])||(C=N[S]=M[S](e)).c(),Ot(C,1),C.m(s,null)),(!E||12&o&&$!==($="top: ".concat(e[2],"%; height: ").concat(e[3],"%;")))&&Xe(i,"style",$)},i:function(e){E||(Ot(n.$$.fragment,e),Ot(x.$$.fragment,e),Ot(C),E=!0)},o:function(e){_t(n.$$.fragment,e),_t(x.$$.fragment,e),_t(C),E=!1},d:function(r){r&&Ue(t),Tt(n),e[15](null),Tt(x),N[S].d(),O=!1,Me(_)}}}function Hl(e,t,n){var r,i,o=t.onClose,l=zt("editor-view").view,s="state",a=50,c=50,u=!1;function f(e){e.preventDefault(),n(2,a=100*e.clientY/window.innerHeight),n(3,c=100*(1-e.clientY/window.innerHeight))}function d(e){e.preventDefault(),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",d)}return i=function(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",d)},lt().$$.on_destroy.push(i),e.$$set=function(e){"onClose"in e&&n(0,o=e.onClose)},[o,s,a,c,r,u,function(){document.addEventListener("mousemove",f),document.addEventListener("mouseup",d)},function(){navigator.clipboard.writeText(JSON.stringify(l.state.doc.toJSON()))},function(){var e=(new Date).toLocaleString("sv"),t=prompt("Enter snapshot name",e);t&&Yt(t,l.state.doc.toJSON())},function(){r.click()},function(){n(5,u=!u)},function(){n(5,u=!1)},function(e){console.log("handled ",e.detail.doc),Yt((new Date).toLocaleString("sv"),e.detail.doc),n(5,u=!1)},function(e){var t=e.target;Array.from(t.files||[]).forEach((function(e){var t=new FileReader;t.readAsText(e),t.onload=function(t){var n,r,i="string"==typeof(null===(n=t.target)||void 0===n?void 0:n.result)?null===(r=t.target)||void 0===r?void 0:r.result:"";try{var o=JSON.parse(i);if(!o||"object"!==ye(o))throw Error("Imported snapshot was not a JSON object"+o);!function(e,t,n){const r=n.nodeFromJSON(t),i={name:e,timestamp:Date.now(),doc:r.toJSON()};Wt.update((e=>[i,...e]))}(e.name.slice(0,e.name.lastIndexOf(".")),o,l.state.schema)}catch(e){console.error("Failed to import snapshot: "+e)}}}))},function(e){n(1,s=e)},function(e){ht[e?"unshift":"push"]((function(){n(4,r=e)}))}]}It(".floating-dock-wrapper.svelte-5jlb2q{position:fixed;width:0px;height:0px;top:0px;left:0px;z-index:99999999}.floating-dock.svelte-5jlb2q{background-color:#363755;position:fixed;z-index:1;box-shadow:rgba(34, 34, 34, 0.3) 0px 0px 4px 0px;left:0px;top:50%;width:100%;height:50%}.resizing-div.svelte-5jlb2q{position:absolute;z-index:2;opacity:0;top:-5px;height:10px;left:0px;width:100%;cursor:row-resize}.container.svelte-5jlb2q{height:100%}.btn.svelte-5jlb2q{background:rgba(255, 162, 177, 0.6);border:0;border-radius:3px;color:#fff;cursor:pointer;font-size:12px;height:24px;line-height:25px;padding:0 6px;position:absolute}.btn.svelte-5jlb2q:hover{background:rgba(255, 162, 177, 0.8)}.copy-btn.svelte-5jlb2q{right:173px;top:-28px}.save-btn.svelte-5jlb2q{right:129px;top:-28px}.import-btn.svelte-5jlb2q{right:79px;top:-28px}.paste-btn.svelte-5jlb2q{right:32px;top:-28px}.close-btn.svelte-5jlb2q{font-size:var(--font-medium);right:4px;top:-28px;width:24px}");var Wl=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,Hl,Ul,Te,{onClose:0}),t}return he(i)}(At);function Jl(e){var t,n;return(t=new Bt({props:{buttonPosition:e[1]}})).$on("click",e[2]),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:function(e,n){var r={};2&n&&(r.buttonPosition=e[1]),t.$set(r)},i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Kl(e){var t,n;return t=new Wl({props:{onClose:e[3]}}),{c:function(){Mt(t.$$.fragment)},m:function(e,r){Nt(t,e,r),n=!0},p:$e,i:function(e){n||(Ot(t.$$.fragment,e),n=!0)},o:function(e){_t(t.$$.fragment,e),n=!1},d:function(e){Tt(t,e)}}}function Ql(e){var t,n,r,i,o=[Kl,Jl],l=[];function s(e,t){return e[0]?0:1}return n=s(e),r=l[n]=o[n](e),{c:function(){t=We("section"),r.c(),Xe(t,"class","dev-tools svelte-1g07t8b")},m:function(e,r){Ve(e,t,r),l[n].m(t,null),i=!0},p:function(e,i){var a=Se(i,1)[0],c=n;(n=s(e))===c?l[n].p(e,a):($t(),_t(l[c],1,1,(function(){l[c]=null})),Et(),(r=l[n])?r.p(e,a):(r=l[n]=o[n](e)).c(),Ot(r,1),r.m(t,null))},i:function(e){i||(Ot(r),i=!0)},o:function(e){_t(r),i=!1},d:function(e){e&&Ue(t),l[n].d()}}}function Gl(e,t,n){var r=t.view,i=t.devToolsExpanded,o=void 0!==i&&i,l=t.buttonPosition,s=void 0===l?"bottom-right":l;return Pt("editor-view",{view:r,execCmd:function(e){e(r.state,r.dispatch)},replaceEditorContent:function(e){var t=r.state.tr;t.replaceWith(0,r.state.doc.nodeSize-2,e.doc.content),r.dispatch(t)}}),st((function(){var e=document&&document.querySelector("html");o&&e&&(e.style.paddingBottom="341px")})),e.$$set=function(e){"view"in e&&n(4,r=e.view),"devToolsExpanded"in e&&n(0,o=e.devToolsExpanded),"buttonPosition"in e&&n(1,s=e.buttonPosition)},[o,s,function(){n(0,o=!0);var e=document&&document.querySelector("html");e&&(e.style.paddingBottom="341px")},function(){n(0,o=!1);var e=document&&document.querySelector("html");e&&(e.style.paddingBottom="")},r]}It(".svelte-1g07t8b{--font-sans:Helvetica Neue, Calibri Light, Roboto, sans-serif;--font-small:11px;--font-medium:13px;--font-large:16px;--height-tabs-menu:48px}.dev-tools.svelte-1g07t8b{font-family:var(--font-sans);font-size:var(--font-medium);--tree-view-base00:#363755;--tree-view-base01:#604d49;--tree-view-base02:#6d5a55;--tree-view-base03:#d1929b;--tree-view-base04:#b79f8d;--tree-view-base05:#f9f8f2;--tree-view-base06:#f7f4f1;--tree-view-base07:#faf8f5;--tree-view-base08:#fa3e7e;--tree-view-base09:#fd993c;--tree-view-base0A:#f6bf81;--tree-view-base0B:#b8e248;--tree-view-base0C:#b4efe4;--tree-view-base0D:#85d9ef;--tree-view-base0E:#be87ff;--tree-view-base0F:#d6724c}");var Yl=function(e){ve(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=we(t);if(n){var i=we(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return be(this,e)});function i(e){var t;return pe(this,i),Rt(me(t=r.call(this)),e,Gl,Ql,Te,{view:4,devToolsExpanded:0,buttonPosition:1}),t}return he(i)}(At);let Xl,Zl=!1;const es=(e,t)=>n=>{const r=e.state,i=e.state.applyTransaction(n);if(t){const r=e.state.applyTransaction.bind(e.state);e.state.applyTransaction=function(t){return t!==n?(e.state.applyTransaction=r,Reflect.apply(r,e.state,arguments)):i},t(n)}else e.updateState(i.state);Zl&&i.transactions.length>0&&function(e,t,n){const r=Re(Lr),i=Re(qr)[0],o=function(e,t,n,r){const i=se.fromSchema(t.schema),o=t.selection,l=i.serializeFragment(o.content().content),s=[];if(l){let e=l.firstChild;for(;e;)s.push(e.outerHTML),e=e.nextSibling}const a=r?r.state:n,c=Ar(a.doc.toJSON(),t.doc.toJSON()),u=Ar(zr(a.selection),zr(t.selection));return{id:Math.random().toString()+Math.random().toString(),state:t,trs:e.map((e=>function(e){return Object.keys(e).concat(Pr).reduce(((t,n)=>(t[n]=e[n],t)),{})}(e))),timestamp:e[0].time,timeStr:jr(e[0].time),contentDiff:c,selectionDiff:u,selectionHtml:Br((0,fe.prettyPrint)(s.join("\n"),{max_char:60,indent_size:2}))}}(e,t,n,r.get((null==i?void 0:i.topEntryId)||""));Lr.update((e=>new Map(e.set(o.id,o)))),Vr.set(o);const l=!o.contentDiff;if((null==i?void 0:i.isGroup)&&l){const e={isGroup:l,entryIds:[o.id,...i.entryIds],topEntryId:o.id,expanded:i.expanded};qr.update((t=>[e,...t.slice(1)]))}else{const e={isGroup:l,entryIds:[o.id],topEntryId:o.id,expanded:!1};qr.update((t=>[e,...t]))}}(i.transactions,e.state,r)},ts="__prosemirror-dev-toolkit__";let ns;function rs(){ns&&ns(),ns=void 0}"undefined"!=typeof window&&(window.applyDevTools=function(e,t={}){const n=function(){let e=document.querySelector(`.${ts}`);return e||(e=document.createElement("div"),e.className=ts,document.body.appendChild(e)),e}();rs();const r=new Yl({target:n,props:Object.assign({view:e},t)});"undefined"!=typeof window&&(window.editorView=e);const i=e.destroy.bind(e);e.destroy=()=>{rs(),i()},function(e){var t;Zl=!0;const n=null===(t=e.props.dispatchTransaction)||void 0===t?void 0:t.bind(e);e.setProps({dispatchTransaction:es(e,n)}),Xl=()=>e.setProps({dispatchTransaction:n})}(e),ns=()=>{Ur(),Zl=!1,Xl&&Xl(),Xl=void 0,r.$destroy()}});for(var is={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ls={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ss="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),as=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),cs="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),us=as||ss&&+ss[1]<57,fs=0;fs<10;fs++)is[48+fs]=is[96+fs]=String(fs);for(fs=1;fs<=24;fs++)is[fs+111]="F"+fs;for(fs=65;fs<=90;fs++)is[fs]=String.fromCharCode(fs+32),ls[fs]=String.fromCharCode(fs);for(var ds in is)ls.hasOwnProperty(ds)||(ls[ds]=is[ds]);const hs=Math.pow(2,16);function ps(e){return 65535&e}class ms{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class gs{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&gs.empty)return gs.empty}recover(e){let t=0,n=ps(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/hs}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let s=this.ranges[l]-(this.inverted?r:0);if(s>e)break;let a=this.ranges[l+i],c=this.ranges[l+o],u=s+a;if(e<=u){let i=s+r+((a?e==s?-1:e==u?1:t:t)<0?0:c);if(n)return i;let o=e==s?2:e==u?1:4;return(t<0?e!=s:e!=u)&&(o|=8),new ms(i,o,e==(t<0?s:u)?null:l/3+(e-s)*hs)}r+=c-a}return n?e+r:new ms(e+r,0,null)}touches(e,t){let n=0,r=ps(t),i=this.inverted?2:1,o=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let l=this.ranges[t]-(this.inverted?n:0);if(l>e)break;let s=this.ranges[t+i];if(e<=l+s&&t==3*r)return!0;n+=this.ranges[t+o]-s}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],l=o-(this.inverted?i:0),s=o+(this.inverted?0:i),a=this.ranges[r+t],c=this.ranges[r+n];e(l,l+a,s,s+c),i+=c-a}}invert(){return new gs(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?gs.empty:new gs(e<0?[0,-e,0]:[0,0,e])}}gs.empty=new gs([]);class vs{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new vs(this.maps,this.mirror,e,t)}copy(){return new vs(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new vs;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let i=this.maps[n].mapResult(e,t);if(null!=i.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this.maps[t].recover(i.recover);continue}}r|=i.delInfo,e=i.pos}return n?e:new ms(e,r,null)}}const ys=Object.create(null);class bs{getMap(){return gs.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=ys[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in ys)throw new RangeError("Duplicate use of step JSON ID "+e);return ys[e]=t,t.prototype.jsonID=e,t}}class ws{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new ws(e,null)}static fail(e){return new ws(null,e)}static fromReplace(e,t,n,r){try{return ws.ok(e.replace(t,n,r))}catch(e){if(e instanceof d)return ws.fail(e.message);throw e}}}function xs(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(xs(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return s.fromArray(r)}class ks extends bs{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),i=new h(xs(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),r),t.openStart,t.openEnd);return ws.fromReplace(e,this.from,this.to,i)}invert(){return new Ss(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new ks(t.pos,n.pos,this.mark)}merge(e){return e instanceof ks&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ks(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ks(t.from,t.to,e.markFromJSON(t.mark))}}bs.jsonID("addMark",ks);class Ss extends bs{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new h(xs(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return ws.fromReplace(e,this.from,this.to,n)}invert(){return new ks(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Ss(t.pos,n.pos,this.mark)}merge(e){return e instanceof Ss&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ss(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ss(t.from,t.to,e.markFromJSON(t.mark))}}bs.jsonID("removeMark",Ss);class Cs extends bs{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ws.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return ws.fromReplace(e,this.pos,this.pos+1,new h(s.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new Cs(this.pos,t.marks[n]);return new Cs(this.pos,this.mark)}}return new $s(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Cs(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Cs(t.pos,e.markFromJSON(t.mark))}}bs.jsonID("addNodeMark",Cs);class $s extends bs{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ws.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return ws.fromReplace(e,this.pos,this.pos+1,new h(s.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new Cs(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new $s(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new $s(t.pos,e.markFromJSON(t.mark))}}bs.jsonID("removeNodeMark",$s);class Es extends bs{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&_s(e,this.from,this.to)?ws.fail("Structure replace would overwrite content"):ws.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new gs([this.from,this.to-this.from,this.slice.size])}invert(e){return new Es(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Es(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Es)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?h.empty:new h(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Es(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?h.empty:new h(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Es(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Es(t.from,t.to,h.fromJSON(e,t.slice),!!t.structure)}}bs.jsonID("replace",Es);class Os extends bs{constructor(e,t,n,r,i,o,l=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(_s(e,this.from,this.gapFrom)||_s(e,this.gapTo,this.to)))return ws.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return ws.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?ws.fromReplace(e,this.from,this.to,n):ws.fail("Content does not fit in gap")}getMap(){return new gs([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Os(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||i>n.pos?null:new Os(t.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Os(t.from,t.to,t.gapFrom,t.gapTo,h.fromJSON(e,t.slice),t.insert,!!t.structure)}}function _s(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let e=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,i--}}return!1}function Ms(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Ns(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),i=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(i,o,t))return n;if(0==n||r.type.spec.isolating||!Ms(r,i,o))break}return null}function Ts(e,t,n=null,r=e){let i=function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let l=o.length?o[0]:t;return n.canReplaceWith(r,i,l)?o:null}(e,t),o=i&&function(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),l=t.contentMatch.findWrapping(o.type);if(!l)return null;let s=(l.length?l[l.length-1]:t).contentMatch;for(let e=r;s&&e<i;e++)s=s.matchType(n.child(e).type);return s&&s.validEnd?l:null}(r,t);return o?i.map(Ds).concat({type:t,attrs:n}).concat(o.map(Ds)):null}function Ds(e){return{type:e,attrs:null}}function Rs(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,l=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let e=i.depth-1,t=n-2;e>o;e--,t--){let n=i.node(e),o=i.index(e);if(n.type.spec.isolating)return!1;let l=n.content.cutByIndex(o,n.childCount),s=r&&r[t]||n;if(s!=n&&(l=l.replaceChild(0,s.type.create(s.attrs))),!n.canReplace(o+1,n.childCount)||!s.type.validContent(l))return!1}let s=i.indexAfter(o),a=r&&r[0];return i.node(o).canReplaceWith(s,s,a?a.type:i.node(o+1).type)}function As(e,t){let n=e.resolve(t),r=n.index();return Ps(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Ps(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function zs(e,t,n=-1){let r=e.resolve(t);for(let e=r.depth;;e--){let i,o,l=r.index(e);if(e==r.depth?(i=r.nodeBefore,o=r.nodeAfter):n>0?(i=r.node(e+1),l++,o=r.node(e).maybeChild(l)):(i=r.node(e).maybeChild(l-1),o=r.node(e+1)),i&&!i.isTextblock&&Ps(i,o)&&r.node(e).canReplace(l,l+1))return t;if(0==e)break;t=n<0?r.before(e):r.after(e)}}function Is(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let e=0;e<n.openStart;e++)i=i.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,o=r.index(t)+(n>0?1:0),l=r.node(t),s=!1;if(1==e)s=l.canReplace(o,o,i);else{let e=l.contentMatchAt(o).findWrapping(i.firstChild.type);s=e&&l.canReplaceWith(o,o,e[0])}if(s)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function js(e,t,n=t,r=h.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return Fs(i,o,r)?new Es(t,n,r):new Bs(i,o,r).fit()}function Fs(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}bs.jsonID("replaceAround",Os);class Bs{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=s.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=s.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let i=this.placed,o=n.depth,l=r.depth;for(;o&&l&&1==i.childCount;)i=i.firstChild.content,o--,l--;let s=new h(i,o,l);return e>-1?new Os(n.pos,e,this.$to.pos,this.$to.end(),s,t):s.size||n.pos!=this.$to.pos?new Es(n.pos,r.pos,s):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let n,r=null;t?(r=Vs(this.unplaced.content,t-1).firstChild,n=r.content):n=this.unplaced.content;let i=n.firstChild;for(let n=this.depth;n>=0;n--){let o,{type:l,match:a}=this.frontier[n],c=null;if(1==e&&(i?a.matchType(i.type)||(c=a.fillBefore(s.from(i),!1)):r&&l.compatibleContent(r.type)))return{sliceDepth:t,frontierDepth:n,parent:r,inject:c};if(2==e&&i&&(o=a.findWrapping(i.type)))return{sliceDepth:t,frontierDepth:n,parent:r,wrap:o};if(r&&a.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Vs(e,t);return!(!r.childCount||r.firstChild.isLeaf||(this.unplaced=new h(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),0))}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Vs(e,t);if(r.childCount<=1&&t>0){let i=e.size-t<=t+r.size;this.unplaced=new h(Ls(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new h(Ls(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:i}){for(;this.depth>t;)this.closeFrontierNode();if(i)for(let e=0;e<i.length;e++)this.openFrontierNode(i[e]);let o=this.unplaced,l=n?n.content:o.content,a=o.openStart-e,c=0,u=[],{match:f,type:d}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)u.push(r.child(e));f=f.matchFragment(r)}let p=l.size+e-(o.content.size-o.openEnd);for(;c<l.childCount;){let e=l.child(c),t=f.matchType(e.type);if(!t)break;c++,(c>1||0==a||e.content.size)&&(f=t,u.push(Us(e.mark(d.allowedMarks(e.marks)),1==c?a:0,c==l.childCount?p:-1)))}let m=c==l.childCount;m||(p=-1),this.placed=qs(this.placed,t,s.from(u)),this.frontier[t].match=f,m&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=l;e<p;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=m?0==e?h.empty:new h(Ls(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new h(Ls(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!Hs(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=Hs(e,t,r,n,i);if(o){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],i=Hs(e,n,r,t,!0);if(!i||i.childCount)continue e}return{depth:t,fit:o,move:i?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=qs(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=qs(this.placed,this.depth,s.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(s.empty,!0);e.childCount&&(this.placed=qs(this.placed,this.frontier.length,e))}}function Ls(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Ls(e.firstChild.content,t-1,n)))}function qs(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(qs(e.lastChild.content,t-1,n)))}function Vs(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Us(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Us(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(s.empty,!0)))),e.copy(r)}function Hs(e,t,n,r,i){let o=e.node(t),l=i?e.indexAfter(t):e.index(t);if(l==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,l);return s&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,o.content,l)?s:null}function Ws(e){return e.spec.defining||e.spec.definingForContent}function Js(e,t,n,r,i){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(Js(i.content,t+1,n,r,i)))}if(t>r){let t=i.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(s.empty,!0))}return e}function Ks(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let i=e.start(r);if(i<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(i==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==i-1)&&n.push(r)}return n}class Qs extends bs{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return ws.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return ws.fromReplace(e,this.pos,this.pos+1,new h(s.from(r),0,t.isLeaf?0:1))}getMap(){return gs.empty}invert(e){return new Qs(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Qs(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Qs(t.pos,t.attr,t.value)}}bs.jsonID("attr",Qs);let Gs=class extends Error{};Gs=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(Gs.prototype=Object.create(Error.prototype)).constructor=Gs,Gs.prototype.name="TransformError";const Ys=Object.create(null);class Xs{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new Zs(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=h.empty){let n=t.content.lastChild,r=null;for(let e=0;e<t.openEnd;e++)r=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:s,$to:a}=o[l],c=e.mapping.slice(i);e.replaceRange(c.map(s.pos),c.map(a.pos),l?h.empty:t),0==l&&ca(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:l}=r[i],s=e.mapping.slice(n),a=s.map(o.pos),c=s.map(l.pos);i?e.deleteRange(a,c):(e.replaceRangeWith(a,c,t),ca(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new na(e):aa(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let i=t<0?aa(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):aa(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(i)return i}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new la(e.node(0))}static atStart(e){return aa(e,e,0,0,1)||new la(e)}static atEnd(e){return aa(e,e,e.content.size,e.childCount,-1)||new la(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Ys[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in Ys)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ys[e]=t,t.prototype.jsonID=e,t}getBookmark(){return na.between(this.$anchor,this.$head).getBookmark()}}Xs.prototype.visible=!0;class Zs{constructor(e,t){this.$from=e,this.$to=t}}let ea=!1;function ta(e){ea||e.parent.inlineContent||(ea=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class na extends Xs{constructor(e,t=e){ta(e),ta(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Xs.near(n);let r=e.resolve(t.map(this.anchor));return new na(r.parent.inlineContent?r:n,n)}replace(e,t=h.empty){if(super.replace(e,t),t==h.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof na&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ra(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new na(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=Xs.findFrom(t,n,!0)||Xs.findFrom(t,-n,!0);if(!e)return Xs.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(Xs.findFrom(e,-n,!0)||Xs.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new na(e,t)}}Xs.jsonID("text",na);class ra{constructor(e,t){this.anchor=e,this.head=t}map(e){return new ra(e.map(this.anchor),e.map(this.head))}resolve(e){return na.between(e.resolve(this.anchor),e.resolve(this.head))}}class ia extends Xs{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),i=e.resolve(r);return n?Xs.near(i):new ia(i)}content(){return new h(s.from(this.node),0,0)}eq(e){return e instanceof ia&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new oa(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ia(e.resolve(t.anchor))}static create(e,t){return new ia(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}ia.prototype.visible=!1,Xs.jsonID("node",ia);class oa{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new ra(n,n):new oa(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&ia.isSelectable(n)?new ia(t):Xs.near(t)}}class la extends Xs{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=h.empty){if(t==h.empty){e.delete(0,e.doc.content.size);let t=Xs.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new la(e)}map(e){return new la(e)}eq(e){return e instanceof la}getBookmark(){return sa}}Xs.jsonID("all",la);const sa={map(){return this},resolve(e){return new la(e)}};function aa(e,t,n,r,i,o=!1){if(t.inlineContent)return na.create(e,n);for(let l=r-(i>0?0:1);i>0?l<t.childCount:l>=0;l+=i){let r=t.child(l);if(r.isAtom){if(!o&&ia.isSelectable(r))return ia.create(e,n-(i<0?r.nodeSize:0))}else{let t=aa(e,r,n+i,i<0?r.childCount:0,i,o);if(t)return t}n+=r.nodeSize*i}return null}function ca(e,t,n){let r=e.steps.length-1;if(r<t)return;let i,o=e.steps[r];(o instanceof Es||o instanceof Os)&&(e.mapping.maps[r].forEach(((e,t,n,r)=>{null==i&&(i=r)})),e.setSelection(Xs.near(e.doc.resolve(i),n)))}class ua extends class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new vs}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Gs(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=h.empty){let r=js(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new h(s.from(n),0,0))}delete(e,t){return this.replace(e,t,h.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(Fs(i,o,r))return e.step(new Es(t,n,r));let l=Ks(i,e.doc.resolve(n));0==l[l.length-1]&&l.pop();let s=-(i.depth+1);l.unshift(s);for(let e=i.depth,t=i.pos-1;e>0;e--,t--){let n=i.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;l.indexOf(e)>-1?s=e:i.before(e)==t&&l.splice(1,0,-e)}let a=l.indexOf(s),c=[],u=r.openStart;for(let e=r.content,t=0;;t++){let n=e.firstChild;if(c.push(n),t==r.openStart)break;e=n.content}for(let e=u-1;e>=0;e--){let t=c[e].type,n=Ws(t);if(n&&i.node(a).type!=t)u=e;else if(n||!t.isTextblock)break}for(let t=r.openStart;t>=0;t--){let s=(t+u+1)%(r.openStart+1),f=c[s];if(f)for(let t=0;t<l.length;t++){let c=l[(t+a)%l.length],u=!0;c<0&&(u=!1,c=-c);let d=i.node(c-1),p=i.index(c-1);if(d.canReplaceWith(p,p,f.type,f.marks))return e.replace(i.before(c),u?o.after(c):n,new h(Js(r.content,0,r.openStart,s),s,r.openEnd))}}let f=e.steps.length;for(let s=l.length-1;s>=0&&(e.replace(t,n,r),!(e.steps.length>f));s--){let e=l[s];e<0||(t=i.before(e),n=o.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)return null}return null}(e.doc,t,r.type);null!=i&&(t=n=i)}e.replaceRange(t,n,new h(s.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=Ks(r,i);for(let t=0;t<o.length;t++){let n=o[t],l=t==o.length-1;if(l&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),i.end(n));if(n>0&&(l||r.node(n-1).canReplace(r.index(n-1),i.indexAfter(n-1))))return e.delete(r.before(n),i.after(n))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(t-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return e.delete(r.before(o),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:i,depth:o}=t,l=r.before(o+1),a=i.after(o+1),c=l,u=a,f=s.empty,d=0;for(let e=o,t=!1;e>n;e--)t||r.index(e)>0?(t=!0,f=s.from(r.node(e).copy(f)),d++):c--;let p=s.empty,m=0;for(let e=o,t=!1;e>n;e--)t||i.after(e+1)<i.end(e)?(t=!0,p=s.from(i.node(e).copy(p)),m++):u++;e.step(new Os(c,u,l,a,new h(f.append(p),d,m),f.size-d,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let r=new Es(t-n,t+n,h.empty,!0);e.step(r)}(this,e,t),this}wrap(e,t){return function(e,t,n){let r=s.empty;for(let e=n.length-1;e>=0;e--){if(r.size){let t=n[e].type.contentMatch.matchFragment(r);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=s.from(n[e].type.create(n[e].attrs,r))}let i=t.start,o=t.end;e.step(new Os(i,o,i,o,new h(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,r=null){return function(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{if(t.isTextblock&&!t.hasMarkup(r,i)&&function(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(e.doc,e.mapping.slice(o).map(n),r)){e.clearIncompatible(e.mapping.slice(o).map(n,1),r);let l=e.mapping.slice(o),a=l.map(n,1),c=l.map(n+t.nodeSize,1);return e.step(new Os(a,c,a+1,c-1,new h(s.from(r.create(i,null,t.marks)),0,0),1,!0)),!1}}))}(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r=[]){return function(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let l=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,l);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Os(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new h(s.from(l),0,0),1,!0))}(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new Qs(e,t,n)),this}addNodeMark(e,t){return this.step(new Cs(e,t)),this}removeNodeMark(e,t){if(!(t instanceof f)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(n.marks)))return this}return this.step(new $s(e,t)),this}split(e,t=1,n){return function(e,t,n=1,r){let i=e.doc.resolve(t),o=s.empty,l=s.empty;for(let e=i.depth,t=i.depth-n,a=n-1;e>t;e--,a--){o=s.from(i.node(e).copy(o));let t=r&&r[a];l=s.from(t?t.type.create(t.attrs,l):i.node(e).copy(l))}e.step(new Es(t,t,new h(o.append(l),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let i,o,l=[],s=[];e.doc.nodesBetween(t,n,((e,a,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(a,t),f=Math.min(a+e.nodeSize,n),d=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(d)||(i&&i.to==c&&i.mark.eq(u[e])?i.to=f:l.push(i=new Ss(c,f,u[e])));o&&o.to==c?o.to=f:s.push(o=new ks(c,f,r))}})),l.forEach((t=>e.step(t))),s.forEach((t=>e.step(t)))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,((e,l)=>{if(!e.isInline)return;o++;let s=null;if(r instanceof K){let t,n=e.marks;for(;t=r.isInSet(n);)(s||(s=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(s=[r]):s=e.marks;if(s&&s.length){let r=Math.min(l+e.nodeSize,n);for(let e=0;e<s.length;e++){let n,a=s[e];for(let e=0;e<i.length;e++){let t=i[e];t.step==o-1&&a.eq(i[e].style)&&(n=t)}n?(n.to=r,n.step=o):i.push({style:a,from:Math.max(l,t),to:r,step:o})}}})),i.forEach((t=>e.step(new Ss(t.from,t.to,t.style))))}(this,e,t,n),this}clearIncompatible(e,t,n){return function(e,t,n,r=n.contentMatch){let i=e.doc.nodeAt(t),o=[],l=t+1;for(let t=0;t<i.childCount;t++){let s=i.child(t),a=l+s.nodeSize,c=r.matchType(s.type);if(c){r=c;for(let t=0;t<s.marks.length;t++)n.allowsMarkType(s.marks[t].type)||e.step(new Ss(l,a,s.marks[t]))}else o.push(new Es(l,a,h.empty));l=a}if(!r.validEnd){let t=r.fillBefore(s.empty,!0);e.replace(l,l,new h(t,0,0))}for(let t=o.length-1;t>=0;t--)e.step(o[t])}(this,e,t,n),this}}{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return f.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||f.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let i=this.storedMarks;if(!i){let e=this.doc.resolve(t);i=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,i)),this.selection.empty||this.setSelection(Xs.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function fa(e,t){return t&&e?e.bind(t):e}class da{constructor(e,t,n){this.name=e,this.init=fa(t.init,n),this.apply=fa(t.apply,n)}}const ha=[new da("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new da("selection",{init(e,t){return e.selection||Xs.atStart(t.doc)},apply(e){return e.selection}}),new da("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new da("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class pa{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ha.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new da(e.key,e.spec.state,e))}))}}class ma{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let s=r?r[o].n:0,a=r?r[o].state:this,c=s<t.length&&l.spec.appendTransaction.call(l,s?t.slice(s):t,a,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<o?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:t.length})}}if(!i)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new ma(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];t[i.name]=i.apply(e,this[i.name],this,t)}return t}get tr(){return new ua(this)}static create(e){let t=new pa(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new ma(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new pa(this.schema,e.plugins),n=t.fields,r=new ma(t);for(let t=0;t<n.length;t++){let i=n[t].name;r[i]=this.hasOwnProperty(i)?this[i]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],i=r.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new pa(e.schema,e.plugins),i=new ma(r);return r.fields.forEach((r=>{if("doc"==r.name)i.doc=T.fromJSON(e.schema,t.doc);else if("selection"==r.name)i.selection=Xs.fromJSON(i.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let o in n){let l=n[o],s=l.spec.state;if(l.key==r.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,o))return void(i[r.name]=s.fromJSON.call(l,e,t[o],i))}i[r.name]=r.init(e,i)}})),i}}function ga(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):"handleDOMEvents"==r&&(i=ga(i,t,{})),n[r]=i}return n}class va{constructor(e){this.spec=e,this.props={},e.props&&ga(e.props,this,this.props),this.key=e.key?e.key.key:ba("plugin")}getState(e){return e[this.key]}}const ya=Object.create(null);function ba(e){return e in ya?e+"$"+ ++ya[e]:(ya[e]=0,e+"$")}class wa{constructor(e="key"){this.key=ba(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const xa="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function ka(e){let t,n,r,i,o=e.split(/-(?!$)/),l=o[o.length-1];"Space"==l&&(l=" ");for(let e=0;e<o.length-1;e++){let l=o[e];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);xa?i=!0:n=!0}}return t&&(l="Alt-"+l),n&&(l="Ctrl-"+l),i&&(l="Meta-"+l),r&&(l="Shift-"+l),l}function Sa(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function Ca(e){return new va({props:{handleKeyDown:$a(e)}})}function $a(e){let t=function(e){let t=Object.create(null);for(let n in e)t[ka(n)]=e[n];return t}(e);return function(e,n){let r,i=function(e){var t=!(us&&(e.ctrlKey||e.altKey||e.metaKey)||cs&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?ls:is)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),o=1==i.length&&" "!=i,l=t[Sa(i,n,!o)];if(l&&l(e.state,e.dispatch,e))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(r=is[n.keyCode])&&r!=i){let i=t[Sa(r,n,!0)];if(i&&i(e.state,e.dispatch,e))return!0}else if(o&&n.shiftKey){let r=t[Sa(i,n,!0)];if(r&&r(e.state,e.dispatch,e))return!0}return!1}}var Ea=200,Oa=function(){};Oa.prototype.append=function(e){return e.length?(e=Oa.from(e),!this.length&&e||e.length<Ea&&this.leafAppend(e)||this.length<Ea&&e.leafPrepend(this)||this.appendInner(e)):this},Oa.prototype.prepend=function(e){return e.length?Oa.from(e).append(this):this},Oa.prototype.appendInner=function(e){return new Ma(this,e)},Oa.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Oa.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Oa.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Oa.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Oa.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},Oa.from=function(e){return e instanceof Oa?e:e&&e.length?new _a(e):Oa.empty};var _a=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var i=t;i<n;i++)if(!1===e(this.values[i],r+i))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var i=t-1;i>=n;i--)if(!1===e(this.values[i],r+i))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=Ea)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=Ea)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Oa);Oa.empty=new _a([]);var Ma=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var i=this.left.length;return!(t<i&&!1===this.left.forEachInner(e,t,Math.min(n,i),r))&&!(n>i&&!1===this.right.forEachInner(e,Math.max(t-i,0),Math.min(this.length,n)-i,r+i))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,r){var i=this.left.length;return!(t>i&&!1===this.right.forEachInvertedInner(e,t-i,Math.max(n,i)-i,r+i))&&!(n<i&&!1===this.left.forEachInvertedInner(e,Math.min(t,i),n,r))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Oa),Na=Oa;class Ta{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}t&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,l,s=e.tr,a=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(i,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new Da(e.map));let t,i=e.step.map(n.slice(r));i&&s.maybeStep(i).doc&&(t=s.mapping.maps[s.mapping.maps.length-1],a.push(new Da(t,void 0,void 0,a.length+c.length))),r--,t&&n.appendMap(t,r)}else s.maybeStep(e.step);return e.selection?(o=n?e.selection.map(n.slice(r)):e.selection,l=new Ta(this.items.slice(0,i).append(c.reverse().concat(a)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:l,transform:s,selection:o}}addTransform(e,t,n,r){let i=[],o=this.eventCount,l=this.items,s=!r&&l.length?l.get(l.length-1):null;for(let n=0;n<e.steps.length;n++){let a,c=e.steps[n].invert(e.docs[n]),u=new Da(e.mapping.maps[n],c,t);(a=s&&s.merge(u))&&(u=a,n?i.pop():l=l.slice(0,l.length-1)),i.push(u),t&&(o++,t=void 0),r||(s=u)}let a=o-n.depth;return a>Aa&&(l=function(e,t){let n;return e.forEach(((e,r)=>{if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}(l,a),o-=a),new Ta(l.append(i),o)}remapping(e,t){let n=new vs;return this.items.forEach(((t,r)=>{let i=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,i)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new Ta(this.items.append(e.map((e=>new Da(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach((e=>{e.selection&&l--}),r);let s=t;this.items.forEach((t=>{let r=i.getMirror(--s);if(null==r)return;o=Math.min(o,r);let a=i.maps[r];if(t.step){let o=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(i.slice(s+1,r));c&&l++,n.push(new Da(a,o,c))}else n.push(new Da(a))}),r);let a=[];for(let e=t;e<o;e++)a.push(new Da(i.maps[e]));let c=this.items.slice(0,r).append(a).append(n),u=new Ta(c,l);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach(((o,l)=>{if(l>=e)r.push(o),o.selection&&i++;else if(o.step){let e=o.step.map(t.slice(n)),l=e&&e.getMap();if(n--,l&&t.appendMap(l,n),e){let s=o.selection&&o.selection.map(t.slice(n));s&&i++;let a,c=new Da(l.invert(),e,s),u=r.length-1;(a=r.length&&r[u].merge(c))?r[u]=a:r.push(c)}}else o.map&&n--}),this.items.length,0),new Ta(Na.from(r.reverse()),i)}}Ta.empty=new Ta(Na.empty,0);class Da{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Da(t.getMap().invert(),t,this.selection)}}}class Ra{constructor(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r}}const Aa=20;function Pa(e){let t=[];return e.forEach(((e,n,r,i)=>t.push(r,i))),t}function za(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function Ia(e,t,n,r){let i=Ba(t),o=La.get(t).spec.config,l=(r?e.undone:e.done).popEvent(t,i);if(!l)return;let s=l.selection.resolve(l.transform.doc),a=(r?e.done:e.undone).addTransform(l.transform,t.selection.getBookmark(),o,i),c=new Ra(r?a:l.remaining,r?l.remaining:a,null,0);n(l.transform.setSelection(s).setMeta(La,{redo:r,historyState:c}).scrollIntoView())}let ja=!1,Fa=null;function Ba(e){let t=e.plugins;if(Fa!=t){ja=!1,Fa=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){ja=!0;break}}return ja}const La=new wa("history"),qa=new wa("closeHistory");const Va=(e,t)=>{let n=La.getState(e);return!(!n||0==n.done.eventCount||(t&&Ia(n,e,t,!1),0))},Ua=(e,t)=>{let n=La.getState(e);return!(!n||0==n.undone.eventCount||(t&&Ia(n,e,t,!0),0))},Ha=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Wa(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}function Ja(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Ka(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Qa=(e,t)=>{let n,r=e.selection,i=r instanceof ia;if(i){if(r.node.isTextblock||!As(e.doc,r.from))return!1;n=r.from}else if(n=zs(e.doc,r.from,-1),null==n)return!1;if(t){let r=e.tr.join(n);i&&r.setSelection(ia.create(r.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0},Ga=(e,t)=>{let n,r=e.selection;if(r instanceof ia){if(r.node.isTextblock||!As(e.doc,r.to))return!1;n=r.to}else if(n=zs(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},Ya=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&Ns(i);return null!=o&&(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)};function Xa(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Za=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),l=Xa(i.contentMatchAt(o));if(!l||!i.canReplaceWith(o,o,l))return!1;if(t){let r=n.after(),i=e.tr.replaceWith(r,r,l.createAndFill());i.setSelection(Xs.near(i.doc.resolve(r),1)),t(i.scrollIntoView())}return!0},ec=(e,t)=>{let n,{$from:r,to:i}=e.selection,o=r.sharedDepth(i);return 0!=o&&(n=r.before(o),t&&t(e.tr.setSelection(ia.create(e.doc,n))),!0)};function tc(e,t,n){let r,i,o=t.nodeBefore,l=t.nodeAfter;if(o.type.spec.isolating||l.type.spec.isolating)return!1;if(function(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(o,o+1)||!i.isTextblock&&!As(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(r=(i=o.contentMatchAt(o.childCount)).findWrapping(l.type))&&i.matchType(r[0]||l.type).validEnd){if(n){let i=t.pos+l.nodeSize,a=s.empty;for(let e=r.length-1;e>=0;e--)a=s.from(r[e].create(null,a));a=s.from(o.copy(a));let c=e.tr.step(new Os(t.pos-1,i,t.pos,i,new h(a,1,0),r.length,!0)),u=i+2*r.length;As(c.doc,u)&&c.join(u),n(c.scrollIntoView())}return!0}let c=Xs.findFrom(t,1),u=c&&c.$from.blockRange(c.$to),f=u&&Ns(u);if(null!=f&&f>=t.depth)return n&&n(e.tr.lift(u,f).scrollIntoView()),!0;if(a&&Wa(l,"start",!0)&&Wa(o,"end")){let r=o,i=[];for(;i.push(r),!r.isTextblock;)r=r.lastChild;let a=l,c=1;for(;!a.isTextblock;a=a.firstChild)c++;if(r.canReplace(r.childCount,r.childCount,a.content)){if(n){let r=s.empty;for(let e=i.length-1;e>=0;e--)r=s.from(i[e].copy(r));n(e.tr.step(new Os(t.pos-i.length,t.pos+l.nodeSize,t.pos+c,t.pos+l.nodeSize-c,new h(r,i.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function nc(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(t.tr.setSelection(na.create(t.doc,e<0?i.start(o):i.end(o)))),!0)}}const rc=nc(-1),ic=nc(1);function oc(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,l=i.blockRange(o),s=l&&Ts(l,e,t);return!!s&&(r&&r(n.tr.wrap(l,s).scrollIntoView()),!0)}}function lc(e,t=null){return function(n,r){let{from:i,to:o}=n.selection,l=!1;return n.doc.nodesBetween(i,o,((r,i)=>{if(l)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)l=!0;else{let t=n.doc.resolve(i),r=t.index();l=t.parent.canReplaceWith(r,r+1,e)}})),!!l&&(r&&r(n.tr.setBlockType(i,o,e,t).scrollIntoView()),!0)}}function sc(e,t=null){return function(n,r){let{empty:i,$cursor:o,ranges:l}=n.selection;if(i&&!o||!function(e,t,n){for(let r=0;r<t.length;r++){let{$from:i,$to:o}=t[r],l=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,o.pos,(e=>{if(l)return!1;l=e.inlineContent&&e.type.allowsMarkType(n)})),l)return!0}return!1}(n.doc,l,e))return!1;if(r)if(o)e.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let i=!1,o=n.tr;for(let t=0;!i&&t<l.length;t++){let{$from:r,$to:o}=l[t];i=n.doc.rangeHasMark(r.pos,o.pos,e)}for(let n=0;n<l.length;n++){let{$from:r,$to:s}=l[n];if(i)o.removeMark(r.pos,s.pos,e);else{let n=r.pos,i=s.pos,l=r.nodeAfter,a=s.nodeBefore,c=l&&l.isText?/^\s*/.exec(l.text)[0].length:0,u=a&&a.isText?/\s*$/.exec(a.text)[0].length:0;n+c<i&&(n+=c,i-=u),o.addMark(n,i,e.create(t))}}r(o.scrollIntoView())}return!0}}function ac(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}let cc=ac(Ha,((e,t,n)=>{let{$cursor:r}=e.selection;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;let i=Ja(r);if(!i){let n=r.blockRange(),i=n&&Ns(n);return null!=i&&(t&&t(e.tr.lift(n,i).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&tc(e,i,t))return!0;if(0==r.parent.content.size&&(Wa(o,"end")||ia.isSelectable(o))){let n=js(e.doc,r.before(),r.after(),h.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Wa(o,"end")?Xs.findFrom(r.doc.resolve(r.mapping.map(i.pos,-1)),-1):ia.create(r.doc,i.pos-o.nodeSize)),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1||(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),0))}),((e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=Ja(r)}let l=o&&o.nodeBefore;return!(!l||!ia.isSelectable(l)||(t&&t(e.tr.setSelection(ia.create(e.doc,o.pos-l.nodeSize)).scrollIntoView()),0))})),uc=ac(Ha,((e,t,n)=>{let{$cursor:r}=e.selection;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;let i=Ka(r);if(!i)return!1;let o=i.nodeAfter;if(tc(e,i,t))return!0;if(0==r.parent.content.size&&(Wa(o,"start")||ia.isSelectable(o))){let n=js(e.doc,r.before(),r.after(),h.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(Wa(o,"start")?Xs.findFrom(r.doc.resolve(r.mapping.map(i.pos)),1):ia.create(r.doc,r.mapping.map(i.pos))),t(r.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1||(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),0))}),((e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=Ka(r)}let l=o&&o.nodeAfter;return!(!l||!ia.isSelectable(l)||(t&&t(e.tr.setSelection(ia.create(e.doc,o.pos)).scrollIntoView()),0))}));const fc={Enter:ac(((e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r)||(t&&t(e.tr.insertText("\n").scrollIntoView()),0))}),((e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof la||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Xa(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=e.tr.insert(n,o.createAndFill());l.setSelection(na.create(l.doc,n+1)),t(l.scrollIntoView())}return!0}),((e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Rs(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Ns(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)}),((e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof ia&&e.selection.node.isBlock)return!(!n.parentOffset||!Rs(e.doc,n.pos)||(t&&t(e.tr.split(n.pos).scrollIntoView()),0));if(!n.parent.isBlock)return!1;if(t){let i=r.parentOffset==r.parent.content.size,o=e.tr;(e.selection instanceof na||e.selection instanceof la)&&o.deleteSelection();let l=0==n.depth?null:Xa(n.node(-1).contentMatchAt(n.indexAfter(-1))),s=i&&l?[{type:l}]:void 0,a=Rs(o.doc,o.mapping.map(n.pos),1,s);if(s||a||!Rs(o.doc,o.mapping.map(n.pos),1,l?[{type:l}]:void 0)||(l&&(s=[{type:l}]),a=!0),a&&(o.split(o.mapping.map(n.pos),1,s),!i&&!n.parentOffset&&n.parent.type!=l)){let e=o.mapping.map(n.before()),t=o.doc.resolve(e);l&&n.node(-1).canReplaceWith(t.index(),t.index()+1,l)&&o.setNodeMarkup(o.mapping.map(n.before()),l)}t(o.scrollIntoView())}return!0})),"Mod-Enter":Za,Backspace:cc,"Mod-Backspace":cc,"Shift-Backspace":cc,Delete:uc,"Mod-Delete":uc,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new la(e.doc))),!0)},dc={"Ctrl-h":fc.Backspace,"Alt-Backspace":fc["Mod-Backspace"],"Ctrl-d":fc.Delete,"Ctrl-Alt-Backspace":fc["Mod-Delete"],"Alt-Delete":fc["Mod-Delete"],"Alt-d":fc["Mod-Delete"],"Ctrl-a":rc,"Ctrl-e":ic};for(let e in fc)dc[e]=fc[e];const hc=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&"darwin"==os.platform())?dc:fc;function pc(e={}){return new va({view(t){return new mc(t,e)}})}class mc{constructor(e,t){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map((t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}}))}destroy(){this.handlers.forEach((({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t)))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?t.bottom:t.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:t.left,right:t.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos);e={left:t.left-this.width/2,right:t.left+this.width/2,top:t.top,bottom:t.bottom}}let n,r,i=this.editorView.dom.offsetParent;if(this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!i||i==document.body&&"static"==getComputedStyle(i).position)n=-pageXOffset,r=-pageYOffset;else{let e=i.getBoundingClientRect();n=e.left-i.scrollLeft,r=e.top-i.scrollTop}this.element.style.left=e.left-n+"px",this.element.style.top=e.top-r+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,t,e):r;if(t&&!i){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(e=Is(this.editorView.state.doc,e,this.editorView.dragging.slice),null==e))return this.setCursor(null);this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const gc="undefined"!=typeof navigator?navigator:null,vc="undefined"!=typeof document?document:null,yc=gc&&gc.userAgent||"",bc=/Edge\/(\d+)/.exec(yc),wc=/MSIE \d/.exec(yc),xc=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yc),kc=!!(wc||xc||bc),Sc=wc?document.documentMode:xc?+xc[1]:bc?+bc[1]:0,Cc=!kc&&/gecko\/(\d+)/i.test(yc);Cc&&(/Firefox\/(\d+)/.exec(yc)||[0,0])[1];const $c=!kc&&/Chrome\/(\d+)/.exec(yc),Ec=!!$c,Oc=$c?+$c[1]:0,_c=!kc&&!!gc&&/Apple Computer/.test(gc.vendor),Mc=_c&&(/Mobile\/\w+/.test(yc)||!!gc&&gc.maxTouchPoints>2),Nc=Mc||!!gc&&/Mac/.test(gc.platform),Tc=/Android \d/.test(yc),Dc=!!vc&&"webkitFontSmoothing"in vc.documentElement.style,Rc=Dc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,Ac=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},Pc=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let zc=null;const Ic=function(e,t,n){let r=zc||(zc=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},jc=function(e,t,n,r){return n&&(Bc(e,t,n,r,-1)||Bc(e,t,n,r,1))},Fc=/^(img|br|input|textarea|hr)$/i;function Bc(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Lc(e))){let n=e.parentNode;if(!n||1!=n.nodeType||qc(e)||Fc.test(e.nodeName)||"false"==e.contentEditable)return!1;t=Ac(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(i<0?-1:0)]).contentEditable)return!1;t=i<0?Lc(e):0}}}function Lc(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function qc(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Vc=function(e){let t=e.isCollapsed;return t&&Ec&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function Uc(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Hc(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Wc(e,t){return"number"==typeof e?e:e[t]}function Jc(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function Kc(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let l=n||e.dom;l;l=Pc(l)){if(1!=l.nodeType)continue;let e=l,n=e==o.body,s=n?Hc(o):Jc(e),a=0,c=0;if(t.top<s.top+Wc(r,"top")?c=-(s.top-t.top+Wc(i,"top")):t.bottom>s.bottom-Wc(r,"bottom")&&(c=t.bottom-s.bottom+Wc(i,"bottom")),t.left<s.left+Wc(r,"left")?a=-(s.left-t.left+Wc(i,"left")):t.right>s.right-Wc(r,"right")&&(a=t.right-s.right+Wc(i,"right")),a||c)if(n)o.defaultView.scrollBy(a,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),a&&(e.scrollLeft+=a);let i=e.scrollLeft-n,o=e.scrollTop-r;t={left:t.left-i,top:t.top-o,right:t.right-i,bottom:t.bottom-o}}if(n)break}}function Qc(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Pc(r));return t}function Gc(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Yc=null;function Xc(e,t){let n,r,i=2e8,o=0,l=t.top,s=t.top;for(let a=e.firstChild,c=0;a;a=a.nextSibling,c++){let e;if(1==a.nodeType)e=a.getClientRects();else{if(3!=a.nodeType)continue;e=Ic(a).getClientRects()}for(let u=0;u<e.length;u++){let f=e[u];if(f.top<=l&&f.bottom>=s){l=Math.max(f.bottom,l),s=Math.min(f.top,s);let e=f.left>t.left?f.left-t.left:f.right<t.left?t.left-f.right:0;if(e<i){n=a,i=e,r=e&&3==n.nodeType?{left:f.right<t.left?f.right:f.left,top:t.top}:t,1==a.nodeType&&e&&(o=c+(t.left>=(f.left+f.right)/2?1:0));continue}}!n&&(t.left>=f.right&&t.top>=f.top||t.left>=f.left&&t.top>=f.bottom)&&(o=c+1)}}return n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let n=nu(r,1);if(n.top!=n.bottom&&Zc(t,n))return{node:e,offset:i+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||i&&1==n.nodeType?{node:e,offset:o}:Xc(n,r)}function Zc(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function eu(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let n=e.childNodes[o];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let i=e[r];if(Zc(t,i))return eu(n,t,i)}}if((o=(o+1)%r)==i)break}return e}function tu(e,t){let n,r=e.dom.ownerDocument,i=0;if(r.caretPositionFromPoint)try{let e=r.caretPositionFromPoint(t.left,t.top);e&&({offsetNode:n,offset:i}=e)}catch(e){}if(!n&&r.caretRangeFromPoint){let e=r.caretRangeFromPoint(t.left,t.top);e&&({startContainer:n,startOffset:i}=e)}let o,l=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!l||!e.dom.contains(1!=l.nodeType?l.parentNode:l)){let n=e.dom.getBoundingClientRect();if(!Zc(t,n))return null;if(l=eu(e.dom,t,n),!l)return null}if(_c)for(let e=l;n&&e;e=Pc(e))e.draggable&&(n=void 0);if(l=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(l,t),n){if(Cc&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let e,r=n.childNodes[i];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&i++}n==e.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?o=e.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(o=function(e,t,n,r){let i=-1;for(let n=t;n!=e.dom;){let t=e.docView.nearestDesc(n,!0);if(!t)return null;if(t.node.isBlock&&t.parent){let e=t.dom.getBoundingClientRect();if(e.left>r.left||e.top>r.top)i=t.posBefore;else{if(!(e.right<r.left||e.bottom<r.top))break;i=t.posAfter}}n=t.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,1)}(e,n,i,t))}null==o&&(o=function(e,t,n){let{node:r,offset:i}=Xc(t,n),o=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();o=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}(e,l,t));let s=e.docView.nearestDesc(l,!0);return{pos:o,inside:s?s.posAtStart-s.border:-1}}function nu(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const ru=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function iu(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),l=Dc||Cc;if(3==r.nodeType){if(!l||!ru.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let e=i,t=i,o=n<0?1:-1;return n<0&&!i?(t++,o=-1):n>=0&&i==r.nodeValue.length?(e--,o=1):n<0?e--:t++,ou(nu(Ic(r,e,t),1),o<0)}{let e=nu(Ic(r,i,i),n);if(Cc&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let t=nu(Ic(r,i-1,i-1),-1);if(t.top==e.top){let n=nu(Ic(r,i,i+1),-1);if(n.top!=e.top)return ou(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(null==o&&i&&(n<0||i==Lc(r))){let e=r.childNodes[i-1];if(1==e.nodeType)return lu(e.getBoundingClientRect(),!1)}if(null==o&&i<Lc(r)){let e=r.childNodes[i];if(1==e.nodeType)return lu(e.getBoundingClientRect(),!0)}return lu(r.getBoundingClientRect(),n>=0)}if(null==o&&i&&(n<0||i==Lc(r))){let e=r.childNodes[i-1],t=3==e.nodeType?Ic(e,Lc(e)-(l?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return ou(nu(t,1),!1)}if(null==o&&i<Lc(r)){let e=r.childNodes[i];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?Ic(e,0,l?0:1):1==e.nodeType?e:null:null;if(t)return ou(nu(t,-1),!0)}return ou(nu(3==r.nodeType?Ic(r):r,-n),n>=0)}function ou(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function lu(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function su(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}const au=/[\u0590-\u08ac]/;let cu=null,uu=null,fu=!1;class du{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>Ac(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let i,o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==e.nodeType?e:e.parentNode):i==e))return o;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],i=n+r.size;if(n==e&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<i)return r.descAt(e-n-r.border);n=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n,r=0,i=0;for(let t=0;r<this.children.length;r++){let n=this.children[r],o=t+n.size;if(o>e||n instanceof bu){i=e-t;break}t=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(;r&&!(n=this.children[r-1]).size&&n instanceof hu&&n.side>=0;r--);if(t<=0){let e,n=!0;for(;e=r?this.children[r-1]:null,e&&e.dom.parentNode!=this.contentDOM;r--,n=!1);return e&&t&&n&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?Ac(e.dom)+1:0}}{let e,n=!0;for(;e=r<this.children.length?this.children[r]:null,e&&e.dom.parentNode!=this.contentDOM;r++,n=!1);return e&&n&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?Ac(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,l=0;;l++){let n=this.children[l],s=o+n.size;if(-1==r&&e<=s){let i=o+n.border;if(e>=i&&t<=s-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,i);e=o;for(let t=l;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=Ac(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(s>t||l==this.children.length-1)){t=s;for(let e=l+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=Ac(n.dom);break}t+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=s}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let i=Math.min(e,t),o=Math.max(e,t);for(let l=0,s=0;l<this.children.length;l++){let a=this.children[l],c=s+a.size;if(i>s&&o<c)return a.setSelection(e-s-a.border,t-s-a.border,n,r);s=c}let l=this.domFromPos(e,e?-1:1),s=t==e?l:this.domFromPos(t,t?-1:1),a=n.getSelection(),c=!1;if((Cc||_c)&&e==t){let{node:e,offset:t}=l;if(3==e.nodeType){if(c=!(!t||"\n"!=e.nodeValue[t-1]),c&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(l=s={node:t.parentNode,offset:Ac(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(Cc&&a.focusNode&&a.focusNode!=s.node&&1==a.focusNode.nodeType){let e=a.focusNode.childNodes[a.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||c&&_c)&&jc(l.node,l.offset,a.anchorNode,a.anchorOffset)&&jc(s.node,s.offset,a.focusNode,a.focusOffset))return;let u=!1;if((a.extend||e==t)&&!c){a.collapse(l.node,l.offset);try{e!=t&&a.extend(s.node,s.offset),u=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!u){if(e>t){let e=l;l=s,s=e}let n=document.createRange();n.setEnd(s.node,s.offset),n.setStart(l.node,l.offset),a.removeAllRanges(),a.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let r=n+i.border,l=o-i.border;if(e>=r&&t<=l)return this.dirty=e==n||t==o?2:1,void(e!=r||t!=l||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(e-r,t-r):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}n=o}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class hu extends du{constructor(e,t,n,r){let i,o=t.type.toDOM;if("function"==typeof o&&(o=o(n,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r))),!t.type.spec.raw){if(1!=o.nodeType){let e=document.createElement("span");e.appendChild(o),o=e}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class pu extends du{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class mu extends du{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let i=r.nodeViews[t.type.name],o=i&&i(t,r,n);return o&&o.dom||(o=se.renderSpec(document,t.type.spec.toDOM(t,n))),new mu(e,t,o.dom,o.contentDOM||o.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=mu.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;t<o&&(i=Du(i,t,o,n)),e>0&&(i=Du(i,0,e,n));for(let e=0;e<i.length;e++)i[e].parent=r;return r.children=i,r}}class gu extends du{constructor(e,t,n,r,i,o,l,s,a){super(e,[],i,o),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=l,o&&this.updateChildren(s,a)}static create(e,t,n,r,i,o){let l,s=i.nodeViews[t.type.name],a=s&&s(t,i,(()=>l?l.parent?l.parent.posBeforeChild(l):void 0:o),n,r),c=a&&a.dom,u=a&&a.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else c||({dom:c,contentDOM:u}=se.renderSpec(document,t.type.spec.toDOM(t)));u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let f=c;return c=Ou(c,n,t),a?l=new wu(e,t,n,r,c,u||null,f,a,i,o+1):t.isText?new yu(e,t,n,r,c,f,i):new gu(e,t,n,r,c,u||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>s.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&_u(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,i=e.composing?this.localCompositionInfo(e,t):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,s=new Nu(this,o&&o.node,e);!function(e,t,n,r){let i=t.locals(e),o=0;if(0==i.length){for(let n=0;n<e.childCount;n++){let l=e.child(n);r(l,i,t.forChild(o,l),n),o+=l.nodeSize}return}let l=0,s=[],a=null;for(let c=0;;){if(l<i.length&&i[l].to==o){let e,t=i[l++];for(;l<i.length&&i[l].to==o;)(e||(e=[t])).push(i[l++]);if(e){e.sort(Tu);for(let t=0;t<e.length;t++)n(e[t],c,!!a)}else n(t,c,!!a)}let u,f;if(a)f=-1,u=a,a=null;else{if(!(c<e.childCount))break;f=c,u=e.child(c++)}for(let e=0;e<s.length;e++)s[e].to<=o&&s.splice(e--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)s.push(i[l++]);let d=o+u.nodeSize;if(u.isText){let e=d;l<i.length&&i[l].from<e&&(e=i[l].from);for(let t=0;t<s.length;t++)s[t].to<e&&(e=s[t].to);e<d&&(a=u.cut(e-o),u=u.cut(0,e-o),d=e,f=-1)}r(u,u.isInline&&!u.isLeaf?s.filter((e=>!e.inline)):s.slice(),t.forChild(o,u),f),o=d}}(this.node,this.innerDeco,((t,i,o)=>{t.spec.marks?s.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!o&&s.syncToMarks(i==this.node.childCount?f.none:this.node.child(i).marks,n,e),s.placeWidget(t,e,r)}),((t,o,a,c)=>{let u;s.syncToMarks(t.marks,n,e),s.findNodeMatch(t,o,a,c)||l&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=s.findIndexWithChild(i.node))>-1&&s.updateNodeAt(t,o,a,u,e)||s.updateNextNode(t,o,a,e,c)||s.addNode(t,o,a,e,r),r+=t.nodeSize})),s.syncToMarks([],n,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(o&&this.protectLocalComposition(e,o),xu(this.contentDOM,this.children,e),Mc&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof na)||n<t||r>t+this.node.content.size)return null;let i=e.domSelection(),o=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=Lc(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(i.focusNode,i.focusOffset);if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let e=o.nodeValue,i=function(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let l=e.child(i++),s=o;if(o+=l.nodeSize,!l.isText)continue;let a=l.text;for(;i<e.childCount;){let t=e.child(i++);if(o+=t.nodeSize,!t.isText)break;a+=t.text}if(o>=n){let e=s<r?a.lastIndexOf(t,r-s-1):-1;if(e>=0&&e+t.length+s>=n)return s+e;if(n==r&&a.length>=r+t.length-s&&a.slice(r-s,r-s+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return i<0?null:{node:o,pos:i,text:e}}return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let i=t;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new pu(this,i,t,r);e.input.compositionNodes.push(o),this.children=Du(this.children,n,n+r.length,e,o)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,t,n,r),0))}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(_u(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=$u(this.dom,this.nodeDOM,Cu(this.outerDeco,this.node,t),Cu(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function vu(e,t,n,r,i){return Ou(r,t,e),new gu(void 0,e,t,n,r,r,r,i,0)}class yu extends gu{constructor(e,t,n,r,i,o,l){super(e,t,n,r,i,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,0))}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),i=document.createTextNode(r.text);return new yu(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}}class bu extends du{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class wu extends gu{constructor(e,t,n,r,i,o,l,s,a,c){super(e,t,n,r,i,o,l,a,c),this.spec=s}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update){let i=this.spec.update(e,t,n);return i&&this.updateInner(e,t,n,r),i}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function xu(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let l=t[o],s=l.dom;if(s.parentNode==e){for(;s!=r;)r=Mu(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(s,r);if(l instanceof mu){let t=r?r.previousSibling:e.lastChild;xu(l.contentDOM,l.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=Mu(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const ku=function(e){e&&(this.nodeName=e)};ku.prototype=Object.create(null);const Su=[new ku];function Cu(e,t,n){if(0==e.length)return Su;let r=n?Su[0]:new ku,i=[r];for(let o=0;o<e.length;o++){let l=e[o].type.attrs;if(l){l.nodeName&&i.push(r=new ku(l.nodeName));for(let e in l){let o=l[e];null!=o&&(n&&1==i.length&&i.push(r=new ku(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+o:"style"==e?r.style=(r.style?r.style+";":"")+o:"nodeName"!=e&&(r[e]=o))}}}return i}function $u(e,t,n,r){if(n==Su&&r==Su)return t;let i=t;for(let t=0;t<r.length;t++){let o=r[t],l=n[t];if(t){let t;l&&l.nodeName==o.nodeName&&i!=e&&(t=i.parentNode)&&t.nodeName.toLowerCase()==o.nodeName||(t=document.createElement(o.nodeName),t.pmIsDeco=!0,t.appendChild(i),l=Su[0]),i=t}Eu(i,l||Su[0],o)}return i}function Eu(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==i.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<i.length;t++)-1==r.indexOf(i[t])&&e.classList.add(i[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function Ou(e,t,n){return $u(e,e,Su,Cu(t,n,1!=e.nodeType))}function _u(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Mu(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Nu{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,l=[];e:for(;i>0;){let s;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof mu)){s=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=s.node;if(a){if(a!=e.child(i-1))break;--i,o.set(s,i),l.push(s)}}return{index:i,matched:o,matches:l.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++)if(this.top.children[t].matchesMark(e[i])){r=t;break}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=mu.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,r){let i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(e,t,n))o=this.top.children.indexOf(i,this.index);else for(let r=this.index,i=Math.min(this.top.children.length,r+5);r<i;r++){let i=this.top.children[r];if(i.matchesNode(e,t,n)&&!this.preMatch.matched.has(i)){o=r;break}}return!(o<0||(this.destroyBetween(this.index,o),this.index++,0))}updateNodeAt(e,t,n,r,i){let o=this.top.children[r];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(e,t,n,i)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,i){for(let o=this.index;o<this.top.children.length;o++){let l=this.top.children[o];if(l instanceof gu){let s=this.preMatch.matched.get(l);if(null!=s&&s!=i)return!1;let a=l.dom;if((!this.lock||!(a==this.lock||1==a.nodeType&&a.contains(this.lock.parentNode))||e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&3!=l.dirty&&_u(t,l.outerDeco))&&l.update(e,t,n,r))return this.destroyBetween(this.index,o),l.dom!=a&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,r,i){this.top.children.splice(this.index++,0,gu.create(this.top,e,t,n,r,i)),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new hu(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof mu;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof yu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((_c||Ec)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new bu(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}}function Tu(e,t){return e.type.side-t.type.side}function Du(e,t,n,r,i){let o=[];for(let l=0,s=0;l<e.length;l++){let a=e[l],c=s,u=s+=a.size;c>=n||u<=t?o.push(a):(c<t&&o.push(a.slice(0,t-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(a.slice(n-c,a.size,r)))}return o}function Ru(e,t=null){let n=e.domSelection(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&0==i.size,l=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let s,a,c=r.resolve(l);if(Vc(n)){for(s=c;i&&!i.node;)i=i.parent;let e=i.node;if(i&&e.isAtom&&ia.isSelectable(e)&&i.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,i=t==Lc(e);r||i;){if(e==n)return!0;let t=Ac(e);if(!(e=e.parentNode))return!1;r=r&&0==t,i=i&&t==Lc(e)}}(n.focusNode,n.focusOffset,i.dom))){let e=i.posBefore;a=new ia(l==e?c:r.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;s=r.resolve(t)}return a||(a=qu(e,s,c,"pointer"==t||e.state.selection.head<c.pos&&!o?1:-1)),a}function Au(e){return e.editable?e.hasFocus():Uu(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Pu(e,t=!1){let n=e.state.selection;if(Bu(e,n),Au(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Ec){let t=e.domSelection(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&jc(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,Ac(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&kc&&Sc<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{let r,i,{anchor:o,head:l}=n;!zu||n instanceof na||(n.$from.parent.inlineContent||(r=Iu(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=Iu(e,n.to))),e.docView.setSelection(o,l,e.root,t),zu&&(r&&Fu(r),i&&Fu(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelection(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{Au(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const zu=_c||Ec&&Oc<63;function Iu(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(_c&&i&&"false"==i.contentEditable)return ju(i);if(!(i&&"false"!=i.contentEditable||o&&"false"!=o.contentEditable)){if(i)return ju(i);if(o)return ju(o)}}function ju(e){return e.contentEditable="true",_c&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Fu(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Bu(e,t){if(t instanceof ia){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Lu(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Lu(e)}function Lu(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function qu(e,t,n,r){return e.someProp("createSelectionBetween",(r=>r(e,t,n)))||na.between(t,n,r)}function Vu(e){return(!e.editable||e.root.activeElement==e.dom)&&Uu(e)}function Uu(e){let t=e.domSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Hu(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Xs.findFrom(o,t)}function Wu(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Ju(e,t,n){let r=e.state.selection;if(!(r instanceof na)){if(r instanceof ia&&r.node.isInline)return Wu(e,new na(t>0?r.$to:r.$from));{let n=Hu(e.state,t);return!!n&&Wu(e,n)}}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=Hu(e.state,t);return!!(n&&n instanceof ia)&&Wu(e,n)}if(!(Nc&&n.indexOf("m")>-1)){let n,i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText)return!1;let l=t<0?i.pos-o.nodeSize:i.pos;return!!(o.isAtom||(n=e.docView.descAt(l))&&!n.contentDOM)&&(ia.isSelectable(o)?Wu(e,new ia(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):!!Dc&&Wu(e,new na(e.state.doc.resolve(t<0?l:l+o.nodeSize))))}}function Ku(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Qu(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Gu(e){let t=e.domSelection(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,l=!1;for(Cc&&1==n.nodeType&&r<Ku(n)&&Qu(n.childNodes[r])&&(l=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(Qu(e))i=n,o=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(Xu(n))break;{let t=n.previousSibling;for(;t&&Qu(t);)i=n.parentNode,o=Ac(t),t=t.previousSibling;if(t)n=t,r=Ku(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}l?Zu(e,t,n,r):i&&Zu(e,t,i,o)}function Yu(e){let t=e.domSelection(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,l=Ku(n);for(;;)if(r<l){if(1!=n.nodeType)break;if(!Qu(n.childNodes[r]))break;i=n,o=++r}else{if(Xu(n))break;{let t=n.nextSibling;for(;t&&Qu(t);)i=t.parentNode,o=Ac(t)+1,t=t.nextSibling;if(t)n=t,r=0,l=Ku(n);else{if(n=n.parentNode,n==e.dom)break;r=l=0}}}i&&Zu(e,t,i,o)}function Xu(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Zu(e,t,n,r){if(Vc(t)){let e=document.createRange();e.setEnd(n,r),e.setStart(n,r),t.removeAllRanges(),t.addRange(e)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();let{state:i}=e;setTimeout((()=>{e.state==i&&Pu(e)}),50)}function ef(e,t,n){let r=e.state.selection;if(r instanceof na&&!r.empty||n.indexOf("s")>-1)return!1;if(Nc&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=Hu(e.state,t);if(n&&n instanceof ia)return Wu(e,n)}if(!i.parent.inlineContent){let n=t<0?i:o,l=r instanceof la?Xs.near(n,t):Xs.findFrom(n,t);return!!l&&Wu(e,l)}return!1}function tf(e,t){if(!(e.state.selection instanceof na))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let r=e.state.tr;return t<0?r.delete(n.pos-o.nodeSize,n.pos):r.delete(n.pos,n.pos+o.nodeSize),e.dispatch(r),!0}return!1}function nf(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function rf(e,t){let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,o--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let l=e.someProp("clipboardSerializer")||se.fromSchema(e.state.schema),s=pf(),a=s.createElement("div");a.appendChild(l.serializeFragment(r,{document:s}));let c,u=a.firstChild,f=0;for(;u&&1==u.nodeType&&(c=df[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=s.createElement(c[e]);for(;a.firstChild;)t.appendChild(a.firstChild);a.appendChild(t),f++}u=a.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`),{dom:a,text:e.someProp("clipboardTextSerializer",(e=>e(t)))||t.content.textBetween(0,t.content.size,"\n\n")}}function of(e,t,n,r,i){let o,l,a=i.parent.type.spec.code;if(!n&&!t)return null;let c=t&&(r||a||!n);if(c){if(e.someProp("transformPastedText",(e=>{t=e(t,a||r)})),a)return t?new h(s.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):h.empty;let n=e.someProp("clipboardTextParser",(e=>e(t,i,r)));if(n)l=n;else{let n=i.marks(),{schema:r}=e.state,l=se.fromSchema(r);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=o.appendChild(document.createElement("p"));e&&t.appendChild(l.serializeNode(r.text(e,n)))}))}}else e.someProp("transformPastedHTML",(e=>{n=e(n)})),o=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=pf().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e);if((n=i&&df[i[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join("")),r.innerHTML=e,n)for(let e=0;e<n.length;e++)r=r.querySelector(n[e])||r;return r}(n),Dc&&function(e){let t=e.querySelectorAll(Ec?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(o);let u=o&&o.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let e=+f[3];e>0&&o.firstChild;e--)o=o.firstChild;if(!l){let t=e.someProp("clipboardParser")||e.someProp("domParser")||Y.fromSchema(e.state.schema);l=t.parseSlice(o,{preserveWhitespace:!(!c&&!f),context:i,ruleFromNode(e){return"BR"!=e.nodeName||e.nextSibling||!e.parentNode||lf.test(e.parentNode.nodeName)?null:{ignore:!0}}})}if(f)l=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:i,openStart:o,openEnd:l}=e;for(let e=n.length-2;e>=0;e-=2){let t=r.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;i=s.from(t.create(n[e+1],i)),o++,l++}return new h(i,o,l)}(ff(l,+f[1],+f[2]),f[4]);else if(l=h.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,i=t.node(n).contentMatchAt(t.index(n)),o=[];if(e.forEach((e=>{if(!o)return;let t,n=i.findWrapping(e.type);if(!n)return o=null;if(t=o.length&&r.length&&af(n,r,e,o[o.length-1],0))o[o.length-1]=t;else{o.length&&(o[o.length-1]=cf(o[o.length-1],r.length));let t=sf(e,n);o.push(t),i=i.matchType(t.type),r=n}})),o)return s.from(o)}return e}(l.content,i),!0),l.openStart||l.openEnd){let e=0,t=0;for(let t=l.content.firstChild;e<l.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=l.content.lastChild;t<l.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);l=ff(l,e,t)}return e.someProp("transformPasted",(e=>{l=e(l)})),l}const lf=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function sf(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,s.from(e));return e}function af(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=af(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(s.from(sf(n,e,i+1))))}}function cf(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,cf(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(s.empty,!0);return e.copy(n.append(r))}function uf(e,t,n,r,i,o){let l=t<0?e.firstChild:e.lastChild,a=l.content;return i<r-1&&(a=uf(a,t,n,r,i+1,o)),i>=n&&(a=t<0?l.contentMatchAt(0).fillBefore(a,e.childCount>1||o<=i).append(a):a.append(l.contentMatchAt(l.childCount).fillBefore(s.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,l.copy(a))}function ff(e,t,n){return t<e.openStart&&(e=new h(uf(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new h(uf(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const df={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let hf=null;function pf(){return hf||(hf=document.implementation.createHTMLDocument("title"))}const mf={},gf={},vf={touchstart:!0,touchmove:!0};class yf{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function bf(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function wf(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>xf(e,t))}))}function xf(e,t){return e.someProp("handleDOMEvents",(n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function kf(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Sf(e){return{left:e.clientX,top:e.clientY}}function Cf(e,t,n,r,i){if(-1==r)return!1;let o=e.state.doc.resolve(r);for(let r=o.depth+1;r>0;r--)if(e.someProp(t,(t=>r>o.depth?t(e,n,o.nodeAfter,o.before(r),i,!0):t(e,n,o.node(r),o.before(r),i,!1))))return!0;return!1}function $f(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Ef(e,t,n,r){return Cf(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(n=>n(e,t,r)))}function Of(e,t,n,r){return Cf(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(n=>n(e,t,r)))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&($f(e,na.create(r,0,r.content.size),"pointer"),!0);let i=r.resolve(t);for(let t=i.depth+1;t>0;t--){let n=t>i.depth?i.nodeAfter:i.node(t),o=i.before(t);if(n.inlineContent)$f(e,na.create(r,o+1,o+1+n.content.size),"pointer");else{if(!ia.isSelectable(n))continue;$f(e,ia.create(r,o),"pointer")}return!0}}(e,n,r)}function _f(e){return Pf(e)}gf.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!Tf(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!Tc||!Ec||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!Mc||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||function(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||Nc&&72==n&&"c"==r?tf(e,-1)||Gu(e):46==n||Nc&&68==n&&"c"==r?tf(e,1)||Yu(e):13==n||27==n||(37==n||Nc&&66==n&&"c"==r?Ju(e,-1,r)||Gu(e):39==n||Nc&&70==n&&"c"==r?Ju(e,1,r)||Yu(e):38==n||Nc&&80==n&&"c"==r?ef(e,-1,r)||Gu(e):40==n||Nc&&78==n&&"c"==r?function(e){if(!_c||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelection();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;nf(e,n,"true"),setTimeout((()=>nf(e,n,"false")),20)}return!1}(e)||ef(e,1,r)||Yu(e):r==(Nc?"m":"c")&&(66==n||73==n||89==n||90==n))}(e,n)?n.preventDefault():bf(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,Uc(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},gf.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},gf.keypress=(e,t)=>{let n=t;if(Tf(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Nc&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof na&&r.$from.sameParent(r.$to))){let t=String.fromCharCode(n.charCode);e.someProp("handleTextInput",(n=>n(e,r.$from.pos,r.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const Mf=Nc?"metaKey":"ctrlKey";mf.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=_f(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[Mf]&&("singleClick"==e.input.lastClick.type?o="doubleClick":"doubleClick"==e.input.lastClick.type&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let l=e.posAtCoords(Sf(n));l&&("singleClick"==o?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Nf(e,l,n,!!r)):("doubleClick"==o?Ef:Of)(e,l.pos,l.inside,n)?n.preventDefault():bf(e,"pointer"))};class Nf{constructor(e,t,n,r){let i,o;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Mf],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),o=t.inside;else{let n=e.state.doc.resolve(t.pos);i=n.parent,o=n.depth?n.before():0}const l=r?null:n.target,s=l?e.docView.nearestDesc(l,!0):null;this.target=s?s.dom:null;let{selection:a}=e.state;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||a instanceof ia&&a.from<=o&&a.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Cc||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),bf(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Pu(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Sf(e))),this.updateAllowDefault(e),this.allowDefault||!t?bf(this.view,"pointer"):function(e,t,n,r,i){return Cf(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(n=>n(e,t,r)))||(i?function(e,t){if(-1==t)return!1;let n,r,i=e.state.selection;i instanceof ia&&(n=i.node);let o=e.state.doc.resolve(t);for(let e=o.depth+1;e>0;e--){let t=e>o.depth?o.nodeAfter:o.node(e);if(ia.isSelectable(t)){r=n&&i.$from.depth>0&&e>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(e);break}}return null!=r&&($f(e,ia.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&ia.isSelectable(r))&&($f(e,new ia(n),"pointer"),!0)}(e,n))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||_c&&this.mightDrag&&!this.mightDrag.node.isAtom||Ec&&!(this.view.state.selection instanceof na)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?($f(this.view,Xs.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):bf(this.view,"pointer")}move(e){this.updateAllowDefault(e),bf(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function Tf(e,t){return!!e.composing||!!(_c&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}mf.touchstart=e=>{e.input.lastTouch=Date.now(),_f(e),bf(e,"pointer")},mf.touchmove=e=>{e.input.lastTouch=Date.now(),bf(e,"pointer")},mf.contextmenu=e=>_f(e);const Df=Tc?5e3:-1;function Rf(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>Pf(e)),t))}function Af(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Pf(e,t=!1){if(!(Tc&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Af(e),t||e.docView&&e.docView.dirty){let t=Ru(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}gf.compositionstart=gf.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),Pf(e,!0),e.markCursor=null;else if(Pf(e),Cc&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelection();for(let e=t.focusNode,n=t.focusOffset;e&&1==e.nodeType&&0!=n;){let r=n<0?e.lastChild:e.childNodes[n-1];if(!r)break;if(3==r.nodeType){t.collapse(r,r.nodeValue.length);break}e=r,n=-1}}e.input.composing=!0}Rf(e,Df)},gf.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,Rf(e,20))};const zf=kc&&Sc<15||Mc&&Rc<604;function If(e,t,n,r){let i=of(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,r,i||h.empty))))return!0;if(!i)return!1;let o=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),l=o?e.state.tr.replaceSelectionWith(o,e.input.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}mf.copy=gf.cut=(e,t)=>{let n=t,r=e.state.selection,i="cut"==n.type;if(r.empty)return;let o=zf?null:n.clipboardData,l=r.content(),{dom:s,text:a}=rf(e,l);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",a)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},gf.paste=(e,t)=>{let n=t;if(e.composing&&!Tc)return;let r=zf?null:n.clipboardData;r&&If(e,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?If(e,r.value,null,t):If(e,r.textContent,r.innerHTML,t)}),50)}(e,n)};class jf{constructor(e,t){this.slice=e,this.move=t}}const Ff=Nc?"altKey":"ctrlKey";mf.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(Sf(n));if(o&&o.pos>=i.from&&o.pos<=(i instanceof ia?i.to-1:i.to));else if(r&&r.mightDrag)e.dispatch(e.state.tr.setSelection(ia.create(e.state.doc,r.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(ia.create(e.state.doc,t.posBefore)))}let l=e.state.selection.content(),{dom:s,text:a}=rf(e,l);n.dataTransfer.clearData(),n.dataTransfer.setData(zf?"Text":"text/html",s.innerHTML),n.dataTransfer.effectAllowed="copyMove",zf||n.dataTransfer.setData("text/plain",a),e.dragging=new jf(l,!n[Ff])},mf.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},gf.dragover=gf.dragenter=(e,t)=>t.preventDefault(),gf.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(Sf(n));if(!i)return;let o=e.state.doc.resolve(i.pos),l=r&&r.slice;l?e.someProp("transformPasted",(e=>{l=e(l)})):l=of(e,n.dataTransfer.getData(zf?"Text":"text/plain"),zf?null:n.dataTransfer.getData("text/html"),!1,o);let s=!(!r||n[Ff]);if(e.someProp("handleDrop",(t=>t(e,n,l||h.empty,s))))return void n.preventDefault();if(!l)return;n.preventDefault();let a=l?Is(e.state.doc,o.pos,l):o.pos;null==a&&(a=o.pos);let c=e.state.tr;s&&c.deleteSelection();let u=c.mapping.map(a),f=0==l.openStart&&0==l.openEnd&&1==l.content.childCount,d=c.doc;if(f?c.replaceRangeWith(u,u,l.content.firstChild):c.replaceRange(u,u,l),c.doc.eq(d))return;let p=c.doc.resolve(u);if(f&&ia.isSelectable(l.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(l.content.firstChild))c.setSelection(new ia(p));else{let t=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach(((e,n,r,i)=>t=i)),c.setSelection(qu(e,p,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},mf.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelection())&&Pu(e)}),20))},mf.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},mf.beforeinput=(e,t)=>{if(Ec&&Tc&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,Uc(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let e in gf)mf[e]=gf[e];function Bf(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Lf{constructor(e,t){this.toDOM=e,this.spec=t||Wf,this.side=this.spec.side||0}map(e,t,n,r){let{pos:i,deleted:o}=e.mapResult(t.from+r,this.side<0?-1:1);return o?null:new Uf(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Lf&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Bf(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class qf{constructor(e,t){this.attrs=e,this.spec=t||Wf}map(e,t,n,r){let i=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Uf(i,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof qf&&Bf(this.attrs,e.attrs)&&Bf(this.spec,e.spec)}static is(e){return e.type instanceof qf}destroy(){}}class Vf{constructor(e,t){this.attrs=e,this.spec=t||Wf}map(e,t,n,r){let i=e.mapResult(t.from+r,1);if(i.deleted)return null;let o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Uf(i.pos-n,o.pos-n,this)}valid(e,t){let n,{index:r,offset:i}=e.content.findIndex(t.from);return i==t.from&&!(n=e.child(r)).isText&&i+n.nodeSize==t.to}eq(e){return this==e||e instanceof Vf&&Bf(this.attrs,e.attrs)&&Bf(this.spec,e.spec)}destroy(){}}class Uf{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Uf(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Uf(e,e,new Lf(t,n))}static inline(e,t,n,r){return new Uf(e,t,new qf(n,r))}static node(e,t,n,r){return new Uf(e,t,new Vf(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof qf}}const Hf=[],Wf={};class Jf{constructor(e,t){this.local=e.length?e:Hf,this.children=t.length?t:Hf}static create(e,t){return t.length?Zf(t,e,0,Wf):Kf}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=t&&l.to>=e&&(!i||i(l.spec))&&n.push(l.copy(l.from+r,l.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,t-l,n,r+l,i)}}map(e,t,n){return this==Kf||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Wf)}mapInner(e,t,n,r,i){let o;for(let l=0;l<this.local.length;l++){let s=this.local[l].map(e,n,r);s&&s.type.valid(t,s)?(o||(o=[])).push(s):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?function(e,t,n,r,i,o,l){let s=e.slice();for(let e=0,t=o;e<n.maps.length;e++){let r=0;n.maps[e].forEach(((e,n,o,l)=>{let a=l-o-(n-e);for(let l=0;l<s.length;l+=3){let c=s[l+1];if(c<0||e>c+t-r)continue;let u=s[l]+t-r;n>=u?s[l+1]=e<=u?-2:-1:o>=i&&a&&(s[l]+=a,s[l+1]+=a)}r+=a})),t=n.maps[e].map(t,-1)}let a=!1;for(let t=0;t<s.length;t+=3)if(s[t+1]<0){if(-2==s[t+1]){a=!0,s[t+1]=-1;continue}let c=n.map(e[t]+o),u=c-i;if(u<0||u>=r.content.size){a=!0;continue}let f=n.map(e[t+1]+o,-1)-i,{index:d,offset:h}=r.content.findIndex(u),p=r.maybeChild(d);if(p&&h==u&&h+p.nodeSize==f){let r=s[t+2].mapInner(n,p,c+1,e[t]+o+1,l);r!=Kf?(s[t]=u,s[t+1]=f,s[t+2]=r):(s[t+1]=-2,a=!0)}else a=!0}if(a){let a=function(e,t,n,r,i,o,l){function s(e,t){for(let o=0;o<e.local.length;o++){let s=e.local[o].map(r,i,t);s?n.push(s):l.onRemove&&l.onRemove(e.local[o].spec)}for(let n=0;n<e.children.length;n+=3)s(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&s(e[n+2],t[n]+o+1);return n}(s,e,t,n,i,o,l),c=Zf(a,r,0,l);t=c.local;for(let e=0;e<s.length;e+=3)s[e+1]<0&&(s.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<s.length&&s[t]<n;)t+=3;s.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new Jf(t.sort(ed),s)}(this.children,o||[],e,t,n,r,i):o?new Jf(o.sort(ed),Hf):Kf}add(e,t){return t.length?this==Kf?Jf.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,i=0;e.forEach(((e,o)=>{let l,s=o+n;if(l=Yf(t,e,s)){for(r||(r=this.children.slice());i<r.length&&r[i]<o;)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(e,l,s+1):r.splice(i,0,o,o+e.nodeSize,Zf(l,e,s+1,Wf)),i+=3}}));let o=Gf(i?Xf(t):t,-n);for(let t=0;t<o.length;t++)o[t].type.valid(e,o[t])||o.splice(t--,1);return new Jf(o.length?this.local.concat(o).sort(ed):this.local,r||this.children)}remove(e){return 0==e.length||this==Kf?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let i,o=n[r]+t,l=n[r+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>o&&t.to<l&&(e[n]=null,(i||(i=[])).push(t));if(!i)continue;n==this.children&&(n=this.children.slice());let s=n[r+2].removeInner(i,o+1);s!=Kf?n[r+2]=s:(n.splice(r,3),r-=3)}if(r.length)for(let n,i=0;i<e.length;i++)if(n=e[i])for(let e=0;e<r.length;e++)r[e].eq(n,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Jf(r,n):Kf}forChild(e,t){if(this==Kf)return this;if(t.isLeaf)return Jf.empty;let n,r;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let i=e+1,o=i+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<o&&t.to>i&&t.type instanceof qf){let e=Math.max(i,t.from)-i,n=Math.min(o,t.to)-i;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new Jf(r.sort(ed),Hf);return n?new Qf([e,n]):e}return n||Kf}eq(e){if(this==e)return!0;if(!(e instanceof Jf)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return td(this.localsInner(e))}localsInner(e){if(this==Kf)return Hf;if(e.inlineContent||!this.local.some(qf.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof qf||t.push(this.local[e]);return t}}Jf.empty=new Jf([],[]),Jf.removeOverlap=td;const Kf=Jf.empty;class Qf{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,Wf)));return Qf.from(n)}forChild(e,t){if(t.isLeaf)return Jf.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,t);i!=Kf&&(i instanceof Qf?n=n.concat(i.members):n.push(i))}return Qf.from(n)}eq(e){if(!(e instanceof Qf)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<i.length;e++)t.push(i[e])}else t=i}return t?td(n?t:t.sort(ed)):Hf}static from(e){switch(e.length){case 0:return Kf;case 1:return e[0];default:return new Qf(e)}}}function Gf(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Uf(i.from+t,i.to+t,i.type))}return n}function Yf(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let t,o=0;o<e.length;o++)(t=e[o])&&t.from>n&&t.to<r&&((i||(i=[])).push(t),e[o]=null);return i}function Xf(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Zf(e,t,n,r){let i=[],o=!1;t.forEach(((t,l)=>{let s=Yf(e,t,l+n);if(s){o=!0;let e=Zf(s,t,n+l+1,r);e!=Kf&&i.push(l,l+t.nodeSize,e)}}));let l=Gf(o?Xf(e):e,-n).sort(ed);for(let e=0;e<l.length;e++)l[e].type.valid(t,l[e])||(r.onRemove&&r.onRemove(l[e].spec),l.splice(e--,1));return l.length||i.length?new Jf(l,i):Kf}function ed(e,t){return e.from-t.from||e.to-t.to}function td(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from!=r.from){o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),nd(t,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),nd(t,i+1,o.copy(r.to,o.to)))}}return t}function nd(e,t,n){for(;t<e.length&&ed(n,e[t])>0;)t++;e.splice(t,0,n)}function rd(e){let t=[];return e.someProp("decorations",(n=>{let r=n(e.state);r&&r!=Kf&&t.push(r)})),e.cursorWrapper&&t.push(Jf.create(e.state.doc,[e.cursorWrapper.deco])),Qf.from(t)}const id={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},od=kc&&Sc<=11;class ld{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class sd{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ld,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);kc&&Sc<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),od&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,id)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(Vu(this.view)){if(this.suppressingSelectionUpdates)return Pu(this.view);if(kc&&Sc<=11&&!this.view.state.selection.empty){let e=this.view.domSelection();if(e.focusNode&&jc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){if(0==e.rangeCount)return!0;let t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let n=e.domSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Vu(e)&&!this.ignoreSelectionChange(n),i=-1,o=-1,l=!1,s=[];if(e.editable)for(let e=0;e<t.length;e++){let n=this.registerMutation(t[e],s);n&&(i=i<0?n.from:Math.min(n.from,i),o=o<0?n.to:Math.max(n.to,o),n.typeOver&&(l=!0))}if(Cc&&s.length>1){let e=s.filter((e=>"BR"==e.nodeName));if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}let a=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&Vc(n)&&(a=Ru(e))&&a.eq(Xs.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Pu(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,o),function(e){if(!ad.has(e)&&(ad.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))){if(e.requiresGeckoHackNode=Cc,cd)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cd=!0}}(e)),this.handleDOMChange(i,o,l,s),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Pu(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,i=e.nextSibling;if(kc&&Sc<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:o}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!o||Array.prototype.indexOf.call(e.addedNodes,o)<0)&&(i=o)}let o=r&&r.parentNode==e.target?Ac(r)+1:0,l=n.localPosFromDOM(e.target,o,-1),s=i&&i.parentNode==e.target?Ac(i):e.target.childNodes.length;return{from:l,to:n.localPosFromDOM(e.target,s,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let ad=new WeakMap,cd=!1;function ud(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(_c&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||_c&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function fd(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:qu(e,t.resolve(n.anchor),t.resolve(n.head))}function dd(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,i++}return i}class hd{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new yf,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(yd),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=gd(this),md(this),this.nodeViews=vd(this),this.docView=vu(this.state.doc,pd(this),rd(this),this.dom,this),this.domObserver=new sd(this,((e,t,n,r)=>function(e,t,n,r,i){if(t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Ru(e,t);if(n&&!e.state.selection.eq(n)){let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),e.dispatch(r)}return}let o=e.state.doc.resolve(t),l=o.sharedDepth(n);t=o.before(l+1),n=e.state.doc.resolve(n).after(l+1);let a,c,u=e.state.selection,f=function(e,t,n){let r,{node:i,fromOffset:o,toOffset:l,from:s,to:a}=e.docView.parseRange(t,n),c=e.domSelection(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],Vc(c)||r.push({node:c.focusNode,offset:c.focusOffset})),Ec&&8===e.input.lastKeyCode)for(let e=l;e>o;e--){let t=i.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){l=e;break}if(!n||n.size)break}let f=e.state.doc,d=e.someProp("domParser")||Y.fromSchema(e.state.schema),h=f.resolve(s),p=null,m=d.parse(i,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:o,to:l,preserveWhitespace:"pre"!=h.parent.type.whitespace||"full",findPositions:r,ruleFromNode:ud,context:h});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),p={anchor:e+s,head:t+s}}return{doc:m,sel:p,from:s,to:a}}(e,t,n),d=e.state.doc,h=d.slice(f.from,f.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(a=e.state.selection.to,c="end"):(a=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let p=function(e,t,n,r,i){let o=e.findDiffStart(t,n);if(null==o)return null;let{a:l,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);return"end"==i&&(r-=l+Math.max(0,o-Math.min(l,s))-o),l<o&&e.size<t.size?(o-=r<=o&&r>=l?o-r:0,s=o+(s-l),l=o):s<o&&(o-=r<=o&&r>=s?o-r:0,l=o+(l-s),s=o),{start:o,endA:l,endB:s}}(h.content,f.doc.content,f.from,a,c);if((Mc&&e.input.lastIOSEnter>Date.now()-225||Tc)&&i.some((e=>"DIV"==e.nodeName||"P"==e.nodeName))&&(!p||p.endA>=p.endB)&&e.someProp("handleKeyDown",(t=>t(e,Uc(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!p){if(!(r&&u instanceof na&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||f.sel&&f.sel.anchor!=f.sel.head){if(f.sel){let t=fd(e,e.state.doc,f.sel);t&&!t.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(t))}return}p={start:u.from,endA:u.to,endB:u.to}}if(Ec&&e.cursorWrapper&&f.sel&&f.sel.anchor==e.cursorWrapper.deco.from&&f.sel.head==f.sel.anchor){let e=p.endB-p.start;f.sel={anchor:f.sel.anchor+e,head:f.sel.anchor+e}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&p.start==p.endB&&e.state.selection instanceof na&&(p.start>e.state.selection.from&&p.start<=e.state.selection.from+2&&e.state.selection.from>=f.from?p.start=e.state.selection.from:p.endA<e.state.selection.to&&p.endA>=e.state.selection.to-2&&e.state.selection.to<=f.to&&(p.endB+=e.state.selection.to-p.endA,p.endA=e.state.selection.to)),kc&&Sc<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>f.from&&"  "==f.doc.textBetween(p.start-f.from-1,p.start-f.from+1)&&(p.start--,p.endA--,p.endB--);let m,g=f.doc.resolveNoCache(p.start-f.from),v=f.doc.resolveNoCache(p.endB-f.from),y=d.resolve(p.start),b=g.sameParent(v)&&g.parent.inlineContent&&y.end()>=p.endA;if((Mc&&e.input.lastIOSEnter>Date.now()-225&&(!b||i.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!b&&g.pos<f.doc.content.size&&(m=Xs.findFrom(f.doc.resolve(g.pos+1),1,!0))&&m.head==v.pos)&&e.someProp("handleKeyDown",(t=>t(e,Uc(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>p.start&&function(e,t,n,r,i){if(!r.parent.isTextblock||n-t<=i.pos-r.pos||dd(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=e.resolve(dd(o,!0,!0));return!(!l.parent.isTextblock||l.pos>n||dd(l,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(l.parent.content)}(d,p.start,p.endA,g,v)&&e.someProp("handleKeyDown",(t=>t(e,Uc(8,"Backspace")))))return void(Tc&&Ec&&e.domObserver.suppressSelectionUpdates());Ec&&Tc&&p.endB==p.start&&(e.input.lastAndroidDelete=Date.now()),Tc&&!b&&g.start()!=v.start()&&0==v.parentOffset&&g.depth==v.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==p.endA&&(p.endB-=2,v=f.doc.resolveNoCache(p.endB-f.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,Uc(13,"Enter"))}))}),20));let w,x,k,S=p.start,C=p.endA;if(b)if(g.pos==v.pos)kc&&Sc<=11&&0==g.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>Pu(e)),20)),w=e.state.tr.delete(S,C),x=d.resolve(p.start).marksAcross(d.resolve(p.endA));else if(p.endA==p.endB&&(k=function(e,t){let n,r,i,o=e.firstChild.marks,l=t.firstChild.marks,a=o,c=l;for(let e=0;e<l.length;e++)a=l[e].removeFromSet(a);for(let e=0;e<o.length;e++)c=o[e].removeFromSet(c);if(1==a.length&&0==c.length)r=a[0],n="add",i=e=>e.mark(r.addToSet(e.marks));else{if(0!=a.length||1!=c.length)return null;r=c[0],n="remove",i=e=>e.mark(r.removeFromSet(e.marks))}let u=[];for(let e=0;e<t.childCount;e++)u.push(i(t.child(e)));if(s.from(u).eq(e))return{mark:r,type:n}}(g.parent.content.cut(g.parentOffset,v.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))w=e.state.tr,"add"==k.type?w.addMark(S,C,k.mark):w.removeMark(S,C,k.mark);else if(g.parent.child(g.index()).isText&&g.index()==v.index()-(v.textOffset?0:1)){let t=g.parent.textBetween(g.parentOffset,v.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,S,C,t))))return;w=e.state.tr.insertText(t,S,C)}if(w||(w=e.state.tr.replace(S,C,f.doc.slice(p.start-f.from,p.endB-f.from))),f.sel){let t=fd(e,w.doc,f.sel);t&&!(Ec&&Tc&&e.composing&&t.empty&&(p.start!=p.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==S||t.head==w.mapping.map(C)-1)||kc&&t.empty&&t.head==S)&&w.setSelection(t)}x&&w.ensureMarks(x),e.dispatch(w.scrollIntoView())}(this,e,t,n,r))),this.domObserver.start(),function(e){for(let t in mf){let n=mf[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!kf(e,t)||xf(e,t)||!e.editable&&t.type in gf||n(e,t)},vf[t]?{passive:!0}:void 0)}_c&&e.dom.addEventListener("input",(()=>null)),wf(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&wf(this),this._props=e,e.plugins&&(e.plugins.forEach(yd),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this.state.plugins!=e.plugins)}updateStateInner(e,t){let n=this.state,r=!1,i=!1;if(e.storedMarks&&this.composing&&(Af(this),i=!0),this.state=e,t){let e=vd(this);(function(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,r=!0),wf(this)}this.editable=gd(this),md(this);let o=rd(this),l=pd(this),s=t?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",a=r||!this.docView.matchesNode(e.doc,l,o);!a&&e.selection.eq(n.selection)||(i=!0);let c="preserve"==s&&i&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let o=(r.left+r.right)/2,l=i+1;l<Math.min(innerHeight,r.bottom);l+=5){let r=e.root.elementFromPoint(o,l);if(!r||r==e.dom||!e.dom.contains(r))continue;let s=r.getBoundingClientRect();if(s.top>=i-20){t=r,n=s.top;break}}return{refDOM:t,refTop:n,stack:Qc(e.dom)}}(this);if(i){this.domObserver.stop();let t=a&&(kc||Ec)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(n.selection,e.selection);if(a){let n=Ec?this.trackWrites=this.domSelection().focusNode:null;!r&&this.docView.update(e.doc,l,o,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=vu(e.doc,l,o,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelection();return jc(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?Pu(this,t):(Bu(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==s?this.dom.scrollTop=0:"to selection"==s?this.scrollToSelection():c&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;Gc(n,0==r?0:r-t)}(c)}scrollToSelection(){let e=this.domSelection().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(this.state.selection instanceof ia){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&Kc(this,t.getBoundingClientRect(),e)}else Kc(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let i=this.directPlugins[r].props[e];if(null!=i&&(n=t?t(i):i))return n}let i=this.state.plugins;if(i)for(let r=0;r<i.length;r++){let o=i[r].props[e];if(null!=o&&(n=t?t(o):o))return n}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(Yc)return e.focus(Yc);let t=Qc(e);e.focus(null==Yc?{get preventScroll(){return Yc={preventScroll:!0},!0}}:void 0),Yc||(Yc=!1,Gc(t,0))}(this.dom),Pu(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}posAtCoords(e){return tu(this,e)}coordsAtPos(e,t=1){return iu(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return function(e,t,n){return cu==t&&uu==n?fu:(cu=t,uu=n,fu="up"==n||"down"==n?function(e,t,n){let r=t.selection,i="up"==n?r.$from:r.$to;return su(e,t,(()=>{let{node:t}=e.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.dom;break}t=n.dom.parentNode}let r=iu(e,i.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=Ic(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let i=t[e];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,l=i==r.parent.content.size,s=e.domSelection();return au.test(r.parent.textContent)&&s.modify?su(e,t,(()=>{let t=s.getRangeAt(0),i=s.focusNode,o=s.focusOffset,l=s.caretBidiLevel;s.modify("move",n,"character");let a=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||i==s.focusNode&&o==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=l&&(s.caretBidiLevel=l),a})):"left"==n||"backward"==n?o:l}(e,t,n))}(this,t||this.state,e)}destroy(){this.docView&&(function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],rd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){xf(e,t)||!mf[t.type]||!e.editable&&t.type in gf||mf[t.type](e,t)}(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}}function pd(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e&&(t.class+=" "+n[e]),"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),[Uf.node(0,e.state.doc.content.size,t)]}function md(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Uf.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function gd(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function vd(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function yd(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}class bd extends Xs{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return bd.valid(n)?new bd(n):Xs.near(n)}content(){return h.empty}eq(e){return e instanceof bd&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new bd(e.resolve(t.pos))}getBookmark(){return new wd(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&bd.valid(e))return e;let r=e.pos,i=null;for(let n=e.depth;;n--){let o=e.node(n);if(t>0?e.indexAfter(n)<o.childCount:e.index(n)>0){i=o.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let l=e.doc.resolve(r);if(bd.valid(l))return l}for(;;){let o=t>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!ia.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*t),n=!1;continue e}break}i=o,r+=t;let l=e.doc.resolve(r);if(bd.valid(l))return l}return null}}}bd.prototype.visible=!1,bd.findFrom=bd.findGapCursorFrom,Xs.jsonID("gapcursor",bd);class wd{constructor(e){this.pos=e}map(e){return new wd(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return bd.valid(t)?new bd(t):Xs.near(t)}}const xd=$a({ArrowLeft:kd("horiz",-1),ArrowRight:kd("horiz",1),ArrowUp:kd("vert",-1),ArrowDown:kd("vert",1)});function kd(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,i){let o=e.selection,l=t>0?o.$to:o.$from,s=o.empty;if(o instanceof na){if(!i.endOfTextblock(n)||0==l.depth)return!1;s=!1,l=e.doc.resolve(t>0?l.after():l.before())}let a=bd.findGapCursorFrom(l,t,s);return!!a&&(r&&r(e.tr.setSelection(new bd(a))),!0)}}function Sd(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!bd.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&ia.isSelectable(e.state.doc.nodeAt(i.inside))||(e.dispatch(e.state.tr.setSelection(new bd(r))),0))}function Cd(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof bd))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=s.empty;for(let e=r.length-1;e>=0;e--)i=s.from(r[e].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new h(i,0,0));return o.setSelection(na.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function $d(e){if(!(e.selection instanceof bd))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Jf.create(e.doc,[Uf.widget(e.selection.head,t,{key:"gapcursor"})])}function Ed(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?e.setAttribute(r,i):null!=i&&(e[r]=i)}t++}for(;t<arguments.length;t++)Od(e,arguments[t]);return e}function Od(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)Od(e,t[n])}}const _d="http://www.w3.org/2000/svg",Md="ProseMirror-icon";const Nd="ProseMirror-menu";class Td{constructor(e){this.spec=e}render(e){let t=this.spec,n=t.render?t.render(e):t.icon?function(e){let t=document.createElement("div");if(t.className=Md,e.path){let{path:n,width:r,height:i}=e,o="pm-icon-"+function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t}(n).toString(16);document.getElementById(o)||function(e,t){let n=document.getElementById(Md+"-collection");n||(n=document.createElementNS(_d,"svg"),n.id=Md+"-collection",n.style.display="none",document.body.insertBefore(n,document.body.firstChild));let r=document.createElementNS(_d,"symbol");r.id=e,r.setAttribute("viewBox","0 0 "+t.width+" "+t.height),r.appendChild(document.createElementNS(_d,"path")).setAttribute("d",t.path),n.appendChild(r)}(o,e);let l=t.appendChild(document.createElementNS(_d,"svg"));l.style.width=r/i+"em",l.appendChild(document.createElementNS(_d,"use")).setAttributeNS("http://www.w3.org/1999/xlink","href",/([^#]*)/.exec(document.location.toString())[1]+"#"+o)}else if(e.dom)t.appendChild(e.dom.cloneNode(!0));else{let{text:n,css:r}=e;t.appendChild(document.createElement("span")).textContent=n||"",r&&(t.firstChild.style.cssText=r)}return t}(t.icon):t.label?Ed("div",null,Dd(e,t.label)):null;if(!n)throw new RangeError("MenuItem without icon or label property");if(t.title){const r="function"==typeof t.title?t.title(e.state):t.title;n.setAttribute("title",Dd(e,r))}return t.class&&n.classList.add(t.class),t.css&&(n.style.cssText+=t.css),n.addEventListener("mousedown",(r=>{r.preventDefault(),n.classList.contains(Nd+"-disabled")||t.run(e.state,e.dispatch,e,r)})),{dom:n,update:function(e){if(t.select){let r=t.select(e);if(n.style.display=r?"":"none",!r)return!1}let r=!0;if(t.enable&&(r=t.enable(e)||!1,Jd(n,Nd+"-disabled",!r)),t.active){let i=r&&t.active(e)||!1;Jd(n,Nd+"-active",i)}return!0}}}}function Dd(e,t){return e._props.translate?e._props.translate(t):t}let Rd={time:0,node:null};function Ad(e){Rd.time=Date.now(),Rd.node=e.target}function Pd(e){return Date.now()-100<Rd.time&&Rd.node&&e.contains(Rd.node)}class zd{constructor(e,t={}){this.options=t,this.options=t||{},this.content=Array.isArray(e)?e:[e]}render(e){let t=Id(this.content,e),n=Ed("div",{class:Nd+"-dropdown "+(this.options.class||""),style:this.options.css},Dd(e,this.options.label||""));this.options.title&&n.setAttribute("title",Dd(e,this.options.title));let r=Ed("div",{class:Nd+"-dropdown-wrap"},n),i=null,o=null,l=()=>{i&&i.close()&&(i=null,window.removeEventListener("mousedown",o))};return n.addEventListener("mousedown",(e=>{e.preventDefault(),Ad(e),i?l():(i=this.expand(r,t.dom),window.addEventListener("mousedown",o=()=>{Pd(r)||l()}))})),{dom:r,update:function(e){let n=t.update(e);return r.style.display=n?"":"none",n}}}expand(e,t){let n=Ed("div",{class:Nd+"-dropdown-menu "+(this.options.class||"")},t),r=!1;return e.appendChild(n),{close:function(){if(!r)return r=!0,e.removeChild(n),!0},node:n}}}function Id(e,t){let n=[],r=[];for(let i=0;i<e.length;i++){let{dom:o,update:l}=e[i].render(t);n.push(Ed("div",{class:Nd+"-dropdown-item"},o)),r.push(l)}return{dom:n,update:jd(r,n)}}function jd(e,t){return n=>{let r=!1;for(let i=0;i<e.length;i++){let o=e[i](n);t[i].style.display=o?"":"none",o&&(r=!0)}return r}}class Fd{constructor(e,t={}){this.options=t,this.content=Array.isArray(e)?e:[e]}render(e){let t=Id(this.content,e),n=Ed("div",{class:Nd+"-submenu-label"},Dd(e,this.options.label||"")),r=Ed("div",{class:Nd+"-submenu-wrap"},n,Ed("div",{class:Nd+"-submenu"},t.dom)),i=null;return n.addEventListener("mousedown",(e=>{e.preventDefault(),Ad(e),Jd(r,Nd+"-submenu-wrap-active",!1),i||window.addEventListener("mousedown",i=()=>{Pd(r)||(r.classList.remove(Nd+"-submenu-wrap-active"),window.removeEventListener("mousedown",i),i=null)})})),{dom:r,update:function(e){let n=t.update(e);return r.style.display=n?"":"none",n}}}}const Bd={join:{width:800,height:900,path:"M0 75h800v125h-800z M0 825h800v-125h-800z M250 400h100v-100h100v100h100v100h-100v100h-100v-100h-100z"},lift:{width:1024,height:1024,path:"M219 310v329q0 7-5 12t-12 5q-8 0-13-5l-164-164q-5-5-5-13t5-13l164-164q5-5 13-5 7 0 12 5t5 12zM1024 749v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12zM1024 530v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 310v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 91v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12z"},selectParentNode:{text:"⬚",css:"font-weight: bold"},undo:{width:1024,height:1024,path:"M761 1024c113-206 132-520-313-509v253l-384-384 384-384v248c534-13 594 472 313 775z"},redo:{width:1024,height:1024,path:"M576 248v-248l384 384-384 384v-253c-446-10-427 303-313 509-280-303-221-789 313-775z"},strong:{width:805,height:1024,path:"M317 869q42 18 80 18 214 0 214-191 0-65-23-102-15-25-35-42t-38-26-46-14-48-6-54-1q-41 0-57 5 0 30-0 90t-0 90q0 4-0 38t-0 55 2 47 6 38zM309 442q24 4 62 4 46 0 81-7t62-25 42-51 14-81q0-40-16-70t-45-46-61-24-70-8q-28 0-74 7 0 28 2 86t2 86q0 15-0 45t-0 45q0 26 0 39zM0 950l1-53q8-2 48-9t60-15q4-6 7-15t4-19 3-18 1-21 0-19v-37q0-561-12-585-2-4-12-8t-25-6-28-4-27-2-17-1l-2-47q56-1 194-6t213-5q13 0 39 0t38 0q40 0 78 7t73 24 61 40 42 59 16 78q0 29-9 54t-22 41-36 32-41 25-48 22q88 20 146 76t58 141q0 57-20 102t-53 74-78 48-93 27-100 8q-25 0-75-1t-75-1q-60 0-175 6t-132 6z"},em:{width:585,height:1024,path:"M0 949l9-48q3-1 46-12t63-21q16-20 23-57 0-4 35-165t65-310 29-169v-14q-13-7-31-10t-39-4-33-3l10-58q18 1 68 3t85 4 68 1q27 0 56-1t69-4 56-3q-2 22-10 50-17 5-58 16t-62 19q-4 10-8 24t-5 22-4 26-3 24q-15 84-50 239t-44 203q-1 5-7 33t-11 51-9 47-3 32l0 10q9 2 105 17-1 25-9 56-6 0-18 0t-18 0q-16 0-49-5t-49-5q-78-1-117-1-29 0-81 5t-69 6z"},code:{width:896,height:1024,path:"M608 192l-96 96 224 224-224 224 96 96 288-320-288-320zM288 192l-288 320 288 320 96-96-224-224 224-224-96-96z"},link:{width:951,height:1024,path:"M832 694q0-22-16-38l-118-118q-16-16-38-16-24 0-41 18 1 1 10 10t12 12 8 10 7 14 2 15q0 22-16 38t-38 16q-8 0-15-2t-14-7-10-8-12-12-10-10q-18 17-18 41 0 22 16 38l117 118q15 15 38 15 22 0 38-14l84-83q16-16 16-38zM430 292q0-22-16-38l-117-118q-16-16-38-16-22 0-38 15l-84 83q-16 16-16 38 0 22 16 38l118 118q15 15 38 15 24 0 41-17-1-1-10-10t-12-12-8-10-7-14-2-15q0-22 16-38t38-16q8 0 15 2t14 7 10 8 12 12 10 10q18-17 18-41zM941 694q0 68-48 116l-84 83q-47 47-116 47-69 0-116-48l-117-118q-47-47-47-116 0-70 50-119l-50-50q-49 50-118 50-68 0-116-48l-118-118q-48-48-48-116t48-116l84-83q47-47 116-47 69 0 116 48l117 118q47 47 47 116 0 70-50 119l50 50q49-50 118-50 68 0 116 48l118 118q48 48 48 116z"},bulletList:{width:768,height:896,path:"M0 512h128v-128h-128v128zM0 256h128v-128h-128v128zM0 768h128v-128h-128v128zM256 512h512v-128h-512v128zM256 256h512v-128h-512v128zM256 768h512v-128h-512v128z"},orderedList:{width:768,height:896,path:"M320 512h448v-128h-448v128zM320 768h448v-128h-448v128zM320 128v128h448v-128h-448zM79 384h78v-256h-36l-85 23v50l43-2v185zM189 590c0-36-12-78-96-78-33 0-64 6-83 16l1 66c21-10 42-15 67-15s32 11 32 28c0 26-30 58-110 112v50h192v-67l-91 2c49-30 87-66 87-113l1-1z"},blockquote:{width:640,height:896,path:"M0 448v256h256v-256h-128c0 0 0-128 128-128v-128c0 0-256 0-256 256zM640 320v-128c0 0-256 0-256 256v256h256v-256h-128c0 0 0-128 128-128z"}},Ld=new Td({title:"Join with above block",run:Qa,select:e=>Qa(e),icon:Bd.join}),qd=new Td({title:"Lift out of enclosing block",run:Ya,select:e=>Ya(e),icon:Bd.lift}),Vd=new Td({title:"Select parent node",run:ec,select:e=>ec(e),icon:Bd.selectParentNode});let Ud=new Td({title:"Undo last change",run:Va,enable:e=>Va(e),icon:Bd.undo}),Hd=new Td({title:"Redo last undone change",run:Ua,enable:e=>Ua(e),icon:Bd.redo});function Wd(e,t){let n=lc(e,t.attrs),r={run:n,enable(e){return n(e)},active(n){let{$from:r,to:i,node:o}=n.selection;return o?o.hasMarkup(e,t.attrs):i<=r.end()&&r.parent.hasMarkup(e,t.attrs)}};for(let e in t)r[e]=t[e];return new Td(r)}function Jd(e,t,n){n?e.classList.add(t):e.classList.remove(t)}const Kd="ProseMirror-menubar";class Qd{constructor(e,t){this.editorView=e,this.options=t,this.spacer=null,this.maxHeight=0,this.widthForMaxHeight=0,this.floating=!1,this.scrollHandler=null,this.wrapper=Ed("div",{class:Kd+"-wrapper"}),this.menu=this.wrapper.appendChild(Ed("div",{class:Kd})),this.menu.className=Kd,e.dom.parentNode&&e.dom.parentNode.replaceChild(this.wrapper,e.dom),this.wrapper.appendChild(e.dom);let{dom:n,update:r}=function(e,t){let n=document.createDocumentFragment(),r=[],i=[];for(let o=0;o<t.length;o++){let l=t[o],s=[],a=[];for(let t=0;t<l.length;t++){let{dom:r,update:i}=l[t].render(e),o=Ed("span",{class:Nd+"item"},r);n.appendChild(o),a.push(o),s.push(i)}s.length&&(r.push(jd(s,a)),o<t.length-1&&i.push(n.appendChild(Ed("span",{class:Nd+"separator"}))))}return{dom:n,update:function(e){let t=!1,n=!1;for(let o=0;o<r.length;o++){let l=r[o](e);o&&(i[o-1].style.display=n&&l?"":"none"),n=l,l&&(t=!0)}return t}}}(this.editorView,this.options.content);if(this.contentUpdate=r,this.menu.appendChild(n),this.update(),t.floating&&!function(){if("undefined"==typeof navigator)return!1;let e=navigator.userAgent;return!/Edge\/\d/.test(e)&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e)}()){this.updateFloat();let e=function(e){let t=[window];for(let n=e.parentNode;n;n=n.parentNode)t.push(n);return t}(this.wrapper);this.scrollHandler=t=>{let n=this.editorView.root;(n.body||n).contains(this.wrapper)?this.updateFloat(t.target.getBoundingClientRect?t.target:void 0):e.forEach((e=>e.removeEventListener("scroll",this.scrollHandler)))},e.forEach((e=>e.addEventListener("scroll",this.scrollHandler)))}}update(){this.contentUpdate(this.editorView.state),this.floating?this.updateScrollCursor():(this.menu.offsetWidth!=this.widthForMaxHeight&&(this.widthForMaxHeight=this.menu.offsetWidth,this.maxHeight=0),this.menu.offsetHeight>this.maxHeight&&(this.maxHeight=this.menu.offsetHeight,this.menu.style.minHeight=this.maxHeight+"px"))}updateScrollCursor(){let e=this.editorView.root.getSelection();if(!e.focusNode)return;let t=e.getRangeAt(0).getClientRects(),n=t[function(e){return e.anchorNode==e.focusNode?e.anchorOffset>e.focusOffset:e.anchorNode.compareDocumentPosition(e.focusNode)==Node.DOCUMENT_POSITION_FOLLOWING}(e)?0:t.length-1];if(!n)return;let r=this.menu.getBoundingClientRect();if(n.top<r.bottom&&n.bottom>r.top){let e=function(e){for(let t=e.parentNode;t;t=t.parentNode)if(t.scrollHeight>t.clientHeight)return t}(this.wrapper);e&&(e.scrollTop-=r.bottom-n.top)}}updateFloat(e){let t=this.wrapper,n=t.getBoundingClientRect(),r=e?Math.max(0,e.getBoundingClientRect().top):0;if(this.floating)if(n.top>=r||n.bottom<this.menu.offsetHeight+10)this.floating=!1,this.menu.style.position=this.menu.style.left=this.menu.style.top=this.menu.style.width="",this.menu.style.display="",this.spacer.parentNode.removeChild(this.spacer),this.spacer=null;else{let i=(t.offsetWidth-t.clientWidth)/2;this.menu.style.left=n.left+i+"px",this.menu.style.display=n.top>window.innerHeight?"none":"",e&&(this.menu.style.top=r+"px")}else if(n.top<r&&n.bottom>=this.menu.offsetHeight+10){this.floating=!0;let n=this.menu.getBoundingClientRect();this.menu.style.left=n.left+"px",this.menu.style.width=n.width+"px",e&&(this.menu.style.top=r+"px"),this.menu.style.position="fixed",this.spacer=Ed("div",{class:Kd+"-spacer",style:`height: ${n.height}px`}),t.insertBefore(this.spacer,this.menu)}}destroy(){this.wrapper.parentNode&&this.wrapper.parentNode.replaceChild(this.editorView.dom,this.wrapper)}}const Gd=["ol",0],Yd=["ul",0],Xd=["li",0],Zd={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM(e){return 1==e.attrs.order?Gd:["ol",{start:e.attrs.order},0]}},eh={parseDOM:[{tag:"ul"}],toDOM(){return Yd}},th={parseDOM:[{tag:"li"}],toDOM(){return Xd},defining:!0};function nh(e,t){let n={};for(let t in e)n[t]=e[t];for(let e in t)n[e]=t[e];return n}function rh(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,l=i.blockRange(o),a=!1,c=l;if(!l)return!1;if(l.depth>=2&&i.node(l.depth-1).type.compatibleContent(e)&&0==l.startIndex){if(0==i.index(l.depth-1))return!1;let e=n.doc.resolve(l.start-2);c=new M(e,e,l.depth),l.endIndex<l.parent.childCount&&(l=new M(i,n.doc.resolve(o.end(l.depth)),l.depth)),a=!0}let u=Ts(c,e,t,l);return!!u&&(r&&r(function(e,t,n,r,i){let o=s.empty;for(let e=n.length-1;e>=0;e--)o=s.from(n[e].type.create(n[e].attrs,o));e.step(new Os(t.start-(r?2:0),t.end,t.start,t.end,new h(o,0,0),n.length,!0));let l=0;for(let e=0;e<n.length;e++)n[e].type==i&&(l=e+1);let a=n.length-l,c=t.start+n.length-(r?2:0),u=t.parent;for(let n=t.startIndex,r=t.endIndex,i=!0;n<r;n++,i=!1)!i&&Rs(e.doc,c,a)&&(e.split(c,a),c+=2*a),c+=u.child(n).nodeSize;return e}(n.tr,l,u,a,e).scrollIntoView()),!0)}}class ih{constructor(e,t){var n;this.match=e,this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,i){let o=n;if(t[1]){let e=t[0].lastIndexOf(t[1]);o+=t[0].slice(e+t[1].length);let n=(r+=e)-i;n>0&&(o=t[0].slice(e-n,e)+o,r=i)}return e.tr.insertText(o,r,i)}):t}}function oh(e,t,n,r,i,o){if(e.composing)return!1;let l=e.state,s=l.doc.resolve(t);if(s.parent.type.spec.code)return!1;let a=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"￼")+r;for(let s=0;s<i.length;s++){let c=i[s].match.exec(a),u=c&&i[s].handler(l,c,t-(c[0].length-r.length),n);if(u)return e.dispatch(u.setMeta(o,{transform:u,from:t,to:n,text:r})),!0}return!1}const lh=(e,t)=>{let n=e.plugins;for(let r=0;r<n.length;r++){let i,o=n[r];if(o.spec.isInputRules&&(i=o.getState(e))){if(t){let n=e.tr,r=i.transform;for(let e=r.steps.length-1;e>=0;e--)n.step(r.steps[e].invert(r.docs[e]));if(i.text){let t=n.doc.resolve(i.from).marks();n.replaceWith(i.from,i.to,e.schema.text(i.text,t))}else n.delete(i.from,i.to);t(n)}return!0}}return!1},sh=new ih(/--$/,"—"),ah=new ih(/\.\.\.$/,"…"),ch=[new ih(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new ih(/"$/,"”"),new ih(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new ih(/'$/,"’")];function uh(e,t,n=null,r){return new ih(e,((e,i,o,l)=>{let s=n instanceof Function?n(i):n,a=e.tr.delete(o,l),c=a.doc.resolve(o).blockRange(),u=c&&Ts(c,t,s);if(!u)return null;a.wrap(c,u);let f=a.doc.resolve(o-1).nodeBefore;return f&&f.type==t&&As(a.doc,o-1)&&(!r||r(i,f))&&a.join(o-1),a}))}function fh(e,t,n=null){return new ih(e,((e,r,i,o)=>{let l=e.doc.resolve(i),s=n instanceof Function?n(r):n;return l.node(-1).canReplaceWith(l.index(-1),l.indexAfter(-1),t)?e.tr.delete(i,o).setBlockType(i,i,t,s):null}))}const dh="ProseMirror-prompt";function hh(e){let t=document.body.appendChild(document.createElement("div"));t.className=dh;let n=e=>{t.contains(e.target)||r()};setTimeout((()=>window.addEventListener("mousedown",n)),50);let r=()=>{window.removeEventListener("mousedown",n),t.parentNode&&t.parentNode.removeChild(t)},i=[];for(let t in e.fields)i.push(e.fields[t].render());let o=document.createElement("button");o.type="submit",o.className=dh+"-submit",o.textContent="OK";let l=document.createElement("button");l.type="button",l.className=dh+"-cancel",l.textContent="Cancel",l.addEventListener("click",r);let s=t.appendChild(document.createElement("form"));e.title&&(s.appendChild(document.createElement("h5")).textContent=e.title),i.forEach((e=>{s.appendChild(document.createElement("div")).appendChild(e)}));let a=s.appendChild(document.createElement("div"));a.className=dh+"-buttons",a.appendChild(o),a.appendChild(document.createTextNode(" ")),a.appendChild(l);let c=t.getBoundingClientRect();t.style.top=(window.innerHeight-c.height)/2+"px",t.style.left=(window.innerWidth-c.width)/2+"px";let u=()=>{let t=function(e,t){let n=Object.create(null),r=0;for(let i in e){let o=e[i],l=t[r++],s=o.read(l),a=o.validate(s);if(a)return ph(l,a),null;n[i]=o.clean(s)}return n}(e.fields,i);t&&(r(),e.callback(t))};s.addEventListener("submit",(e=>{e.preventDefault(),u()})),s.addEventListener("keydown",(e=>{27==e.keyCode?(e.preventDefault(),r()):13!=e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey?9==e.keyCode&&window.setTimeout((()=>{t.contains(document.activeElement)||r()}),500):(e.preventDefault(),u())}));let f=s.elements[0];f&&f.focus()}function ph(e,t){let n=e.parentNode,r=n.appendChild(document.createElement("div"));r.style.left=e.offsetLeft+e.offsetWidth+2+"px",r.style.top=e.offsetTop-5+"px",r.className="ProseMirror-invalid",r.textContent=t,setTimeout((()=>n.removeChild(r)),1500)}class mh extends class{constructor(e){this.options=e}read(e){return e.value}validateType(e){return null}validate(e){return!e&&this.options.required?"Required field":this.validateType(e)||(this.options.validate?this.options.validate(e):null)}clean(e){return this.options.clean?this.options.clean(e):e}}{render(){let e=document.createElement("input");return e.type="text",e.placeholder=this.options.label,e.value=this.options.value||"",e.autocomplete="off",e}}function gh(e,t){let n=e.selection.$from;for(let e=n.depth;e>=0;e--){let r=n.index(e);if(n.node(e).canReplaceWith(r,r,t))return!0}return!1}function vh(e,t){let n={label:t.title,run:e};for(let e in t)n[e]=t[e];return t.enable||t.select||(n[t.enable?"enable":"select"]=t=>e(t)),new Td(n)}function yh(e,t){let{from:n,$from:r,to:i,empty:o}=e.selection;return o?!!t.isInSet(e.storedMarks||r.marks()):e.doc.rangeHasMark(n,i,t)}function bh(e,t){let n={active(t){return yh(t,e)}};for(let e in t)n[e]=t[e];return vh(sc(e),n)}function wh(e,t){return vh(rh(e,t.attrs),t)}function xh(e){let t,n={};var r;let i;var o;if((t=e.marks.strong)&&(n.toggleStrong=bh(t,{title:"Toggle strong style",icon:Bd.strong})),(t=e.marks.em)&&(n.toggleEm=bh(t,{title:"Toggle emphasis",icon:Bd.em})),(t=e.marks.code)&&(n.toggleCode=bh(t,{title:"Toggle code font",icon:Bd.code})),(t=e.marks.link)&&(n.toggleLink=(r=t,new Td({title:"Add or remove link",icon:Bd.link,active(e){return yh(e,r)},enable(e){return!e.selection.empty},run(e,t,n){if(yh(e,r))return sc(r)(e,t),!0;hh({title:"Create a link",fields:{href:new mh({label:"Link target",required:!0}),title:new mh({label:"Title"})},callback(e){sc(r,e)(n.state,n.dispatch),n.focus()}})}}))),(i=e.nodes.image)&&(n.insertImage=(o=i,new Td({title:"Insert image",label:"Image",enable(e){return gh(e,o)},run(e,t,n){let{from:r,to:i}=e.selection,l=null;e.selection instanceof ia&&e.selection.node.type==o&&(l=e.selection.node.attrs),hh({title:"Insert image",fields:{src:new mh({label:"Location",required:!0,value:l&&l.src}),title:new mh({label:"Title",value:l&&l.title}),alt:new mh({label:"Description",value:l?l.alt:e.doc.textBetween(r,i," ")})},callback(e){n.dispatch(n.state.tr.replaceSelectionWith(o.createAndFill(e))),n.focus()}})}}))),(i=e.nodes.bullet_list)&&(n.wrapBulletList=wh(i,{title:"Wrap in bullet list",icon:Bd.bulletList})),(i=e.nodes.ordered_list)&&(n.wrapOrderedList=wh(i,{title:"Wrap in ordered list",icon:Bd.orderedList})),(i=e.nodes.blockquote)&&(n.wrapBlockQuote=function(e,t){let n={run(n,r){return oc(e,t.attrs)(n,r)},select(n){return oc(e,t.attrs)(n)}};for(let e in t)n[e]=t[e];return new Td(n)}(i,{title:"Wrap in block quote",icon:Bd.blockquote})),(i=e.nodes.paragraph)&&(n.makeParagraph=Wd(i,{title:"Change to paragraph",label:"Plain"})),(i=e.nodes.code_block)&&(n.makeCodeBlock=Wd(i,{title:"Change to code block",label:"Code"})),i=e.nodes.heading)for(let e=1;e<=10;e++)n["makeHead"+e]=Wd(i,{title:"Change to heading "+e,label:"Level "+e,attrs:{level:e}});if(i=e.nodes.horizontal_rule){let e=i;n.insertHorizontalRule=new Td({title:"Insert horizontal rule",label:"Horizontal rule",enable(t){return gh(t,e)},run(t,n){n(t.tr.replaceSelectionWith(e.create()))}})}let l=e=>e.filter((e=>e));return n.insertMenu=new zd(l([n.insertImage,n.insertHorizontalRule]),{label:"Insert"}),n.typeMenu=new zd(l([n.makeParagraph,n.makeCodeBlock,n.makeHead1&&new Fd(l([n.makeHead1,n.makeHead2,n.makeHead3,n.makeHead4,n.makeHead5,n.makeHead6]),{label:"Heading"})]),{label:"Type..."}),n.inlineMenu=[l([n.toggleStrong,n.toggleEm,n.toggleCode,n.toggleLink])],n.blockMenu=[l([n.wrapBulletList,n.wrapOrderedList,n.wrapBlockQuote,Ld,qd,Vd])],n.fullMenu=n.inlineMenu.concat([[n.insertMenu,n.typeMenu]],[[Ud,Hd]],n.blockMenu),n}const kh="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function Sh(e,t){let n,r={};function i(e,n){if(t){let n=t[e];if(!1===n)return;n&&(e=n)}r[e]=n}if(i("Mod-z",Va),i("Shift-Mod-z",Ua),i("Backspace",lh),kh||i("Mod-y",Ua),i("Alt-ArrowUp",Qa),i("Alt-ArrowDown",Ga),i("Mod-BracketLeft",Ya),i("Escape",ec),(n=e.marks.strong)&&(i("Mod-b",sc(n)),i("Mod-B",sc(n))),(n=e.marks.em)&&(i("Mod-i",sc(n)),i("Mod-I",sc(n))),(n=e.marks.code)&&i("Mod-`",sc(n)),(n=e.nodes.bullet_list)&&i("Shift-Ctrl-8",rh(n)),(n=e.nodes.ordered_list)&&i("Shift-Ctrl-9",rh(n)),(n=e.nodes.blockquote)&&i("Ctrl->",oc(n)),n=e.nodes.hard_break){let e=n,t=ac(Za,((t,n)=>(n&&n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)));i("Mod-Enter",t),i("Shift-Enter",t),kh&&i("Ctrl-Enter",t)}var o;if((n=e.nodes.list_item)&&(i("Enter",(o=n,function(e,t){let{$from:n,$to:r,node:i}=e.selection;if(i&&i.isBlock||n.depth<2||!n.sameParent(r))return!1;let l=n.node(-1);if(l.type!=o)return!1;if(0==n.parent.content.size&&n.node(-1).childCount==n.indexAfter(-1)){if(3==n.depth||n.node(-3).type!=o||n.index(-2)!=n.node(-2).childCount-1)return!1;if(t){let r=s.empty,i=n.index(-1)?1:n.index(-2)?2:3;for(let e=n.depth-i;e>=n.depth-3;e--)r=s.from(n.node(e).copy(r));let l=n.indexAfter(-1)<n.node(-2).childCount?1:n.indexAfter(-2)<n.node(-3).childCount?2:3;r=r.append(s.from(o.createAndFill()));let a=n.before(n.depth-(i-1)),c=e.tr.replace(a,n.after(-l),new h(r,4-i,0)),u=-1;c.doc.nodesBetween(a,c.doc.content.size,((e,t)=>{if(u>-1)return!1;e.isTextblock&&0==e.content.size&&(u=t+1)})),u>-1&&c.setSelection(Xs.near(c.doc.resolve(u))),t(c.scrollIntoView())}return!0}let a=r.pos==n.end()?l.contentMatchAt(0).defaultType:null,c=e.tr.delete(n.pos,r.pos),u=a?[null,{type:a}]:void 0;return!!Rs(c.doc,n.pos,2,u)&&(t&&t(c.split(n.pos,2,u).scrollIntoView()),!0)})),i("Mod-[",function(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,(t=>t.childCount>0&&t.firstChild.type==e));return!!o&&(!n||(r.node(o.depth-1).type==e?function(e,t,n,r){let i=e.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(i.step(new Os(o-1,l,o,l,new h(s.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new M(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const a=Ns(r);return null!=a&&(t(i.lift(r,a).scrollIntoView()),!0)}(t,n,e,o):function(e,t,n){let r=e.tr,i=n.parent;for(let e=n.end,t=n.endIndex-1,o=n.startIndex;t>o;t--)e-=i.child(t).nodeSize,r.delete(e-1,e+1);let o=r.doc.resolve(n.start),l=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,c=n.endIndex==i.childCount,u=o.node(-1),f=o.index(-1);if(!u.canReplace(f+(a?0:1),f+1,l.content.append(c?s.empty:s.from(i))))return!1;let d=o.pos,p=d+l.nodeSize;return r.step(new Os(d-(a?1:0),p+(c?1:0),d+1,p-1,new h((a?s.empty:s.from(i.copy(s.empty))).append(c?s.empty:s.from(i.copy(s.empty))),a?0:1,c?0:1),a?0:1)),t(r.scrollIntoView()),!0}(t,n,o)))}}(n)),i("Mod-]",function(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,(t=>t.childCount>0&&t.firstChild.type==e));if(!o)return!1;let l=o.startIndex;if(0==l)return!1;let a=o.parent,c=a.child(l-1);if(c.type!=e)return!1;if(n){let r=c.lastChild&&c.lastChild.type==a.type,i=s.from(r?e.create():null),l=new h(s.from(e.create(null,s.from(a.type.create(null,i)))),r?3:1,0),u=o.start,f=o.end;n(t.tr.step(new Os(u-(r?3:1),f,u,f,l,1,!0)).scrollIntoView())}return!0}}(n))),(n=e.nodes.paragraph)&&i("Shift-Ctrl-0",lc(n)),(n=e.nodes.code_block)&&i("Shift-Ctrl-\\",lc(n)),n=e.nodes.heading)for(let e=1;e<=6;e++)i("Shift-Ctrl-"+e,lc(n,{level:e}));if(n=e.nodes.horizontal_rule){let e=n;i("Mod-_",((t,n)=>(n&&n(t.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0)))}return r}function Ch(e){let t,n=ch.concat(ah,sh);return(t=e.nodes.blockquote)&&n.push(uh(/^\s*>\s$/,t)),(t=e.nodes.ordered_list)&&n.push(uh(/^(\d+)\.\s$/,t,(e=>({order:+e[1]})),((e,t)=>t.childCount+t.attrs.order==+e[1]))),(t=e.nodes.bullet_list)&&n.push(function(e){return uh(/^\s*([-+*])\s$/,e)}(t)),(t=e.nodes.code_block)&&n.push(function(e){return fh(/^```$/,e)}(t)),(t=e.nodes.heading)&&n.push(function(e,t){return fh(new RegExp("^(#{1,6})\\s$"),e,(e=>({level:e[1].length})))}(t)),function({rules:e}){let t=new va({state:{init(){return null},apply(e,t){return e.getMeta(this)||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput(n,r,i,o){return oh(n,r,i,o,e,t)},handleDOMEvents:{compositionend:n=>{setTimeout((()=>{let{$cursor:r}=n.state.selection;r&&oh(n,r.pos,r.pos,"",e,t)}))}}},isInputRules:!0});return t}({rules:n})}function $h(e){let t=[Ch(e.schema),Ca(Sh(e.schema,e.mapKeys)),Ca(hc),pc(),new va({props:{decorations:$d,createSelectionBetween(e,t,n){return t.pos==n.pos&&bd.valid(n)?new bd(n):null},handleClick:Sd,handleKeyDown:xd,handleDOMEvents:{beforeinput:Cd}}})];return!1!==e.menuBar&&t.push(function(e){return new va({view(t){return new Qd(t,e)}})}({floating:!1!==e.floatingMenu,content:e.menuContent||xh(e.schema).fullMenu})),!1!==e.history&&t.push(function(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new va({key:La,state:{init(){return new Ra(Ta.empty,Ta.empty,null,0)},apply(t,n,r){return function(e,t,n,r){let i,o=n.getMeta(La);if(o)return o.historyState;n.getMeta(qa)&&(e=new Ra(e.done,e.undone,null,0));let l=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(l&&l.getMeta(La))return l.getMeta(La).redo?new Ra(e.done.addTransform(n,void 0,r,Ba(t)),e.undone,Pa(n.mapping.maps[n.steps.length-1]),e.prevTime):new Ra(e.done,e.undone.addTransform(n,void 0,r,Ba(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||l&&!1===l.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new Ra(e.done.rebased(n,i),e.undone.rebased(n,i),za(e.prevRanges,n.mapping),e.prevTime):new Ra(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),za(e.prevRanges,n.mapping),e.prevTime);{let i=0==e.prevTime||!l&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,r)=>{for(let i=0;i<t.length;i+=2)e<=t[i+1]&&r>=t[i]&&(n=!0)})),n}(n,e.prevRanges)),o=l?za(e.prevRanges,n.mapping):Pa(n.mapping.maps[n.steps.length-1]);return new Ra(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,Ba(t)),Ta.empty,o,n.time)}}(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?Va:"historyRedo"==n?Ua:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}()),t.concat(new va({props:{attributes:{class:"ProseMirror-example-setup-style"}}}))}const Eh=["p",0],Oh=["blockquote",0],_h=["hr"],Mh=["pre",["code",0]],Nh=["br"],Th=["em",0],Dh=["strong",0],Rh=["code",0],Ah=new Q({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return Eh}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM(){return Oh}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return _h}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return Mh}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM(e){let{src:t,alt:n,title:r}=e.attrs;return["img",{src:t,alt:n,title:r}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return Nh}}},marks:{link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM(e){let{href:t,title:n}=e.attrs;return["a",{href:t,title:n},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return Th}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!=e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return Dh}},code:{parseDOM:[{tag:"code"}],toDOM(){return Rh}}}}),Ph=()=>{const t=(0,e.useRef)(),n=(0,e.useRef)(null);return(0,e.useEffect)((()=>{const e=new Q({nodes:(r=Ah.spec.nodes,i="paragraph block*",o="block",r.append({ordered_list:nh(Zd,{content:"list_item+",group:o}),bullet_list:nh(eh,{content:"list_item+",group:o}),list_item:nh(th,{content:i})})),marks:Ah.spec.marks});var r,i,o;return n.current=new hd(t.current,{state:ma.create({doc:Y.fromSchema(e).parse(document.querySelector("#contentForEgSetupBasic")),plugins:$h({schema:e})})}),()=>n.current.destroy()}),[]),e.createElement(e.Fragment,null,e.createElement("div",{ref:t,id:"editor"}),e.createElement("div",{style:{display:"none"},id:"contentForEgSetupBasic"},e.createElement("h3",null,"Hello ProseMirror"),e.createElement("p",null,"This is editable text. You can focus it and start typing."),e.createElement("p",null,"To apply styling, you can select a piece of text and manipulate its styling from the menu. The basic schema supports ",e.createElement("em",null,"emphasis"),","," ",e.createElement("strong",null,"strong text"),","," ",e.createElement("a",{href:"http://marijnhaverbeke.nl/blog"},"links"),","," ",e.createElement("code",null,"code font"),", and ",e.createElement("img",{src:"/img/smiley.png"})," images."),e.createElement("p",null,"Block-level structure can be manipulated with key bindings (try ctrl-shift-2 to create a level 2 heading, or enter in an empty textblock to exit the parent block), or through the menu."),e.createElement("p",null,"Try using the “list” item in the menu to wrap this paragraph in a numbered list.")))};var zh;zh=()=>e.createElement("div",null,e.createElement("h1",null,"Hello, ProseMirror 示例 202209 "),e.createElement(Ph,null)),t.render(e.createElement(zh,null),document.getElementById("root"))}()}();